"use strict";(self.webpackChunkphoto_factory=self.webpackChunkphoto_factory||[]).push([[179],{2011:(dt,Te,L)=>{L.d(Te,{hO:()=>Ye,xv:()=>_e,Dh:()=>me,GT:()=>be,cc:()=>ke,on:()=>q,pX:()=>oe});var l=L(5e3),ee=L(127),B=L(5813);dt=L.hmd(dt);const de=["ngOnDestroy"],oe=(De,it,Xe,Ie={})=>new Proxy(De,{get:(Me,xe)=>Xe.runOutsideAngular(()=>{var Ze;if(De[xe])return(null===(Ze=null==Ie?void 0:Ie.spy)||void 0===Ze?void 0:Ze.get)&&Ie.spy.get(xe,De[xe]),De[xe];if(de.indexOf(xe)>-1)return()=>{};const Ge=it.toPromise().then(se=>{const X=se&&se[xe];return"function"==typeof X?X.bind(se):X&&X.then?X.then(ae=>Xe.run(()=>ae)):Xe.run(()=>X)});return new Proxy(()=>{},{get:(se,X)=>Ge[X],apply:(se,X,ae)=>Ge.then(ye=>{var le;const Fe=ye&&ye(...ae);return(null===(le=null==Ie?void 0:Ie.spy)||void 0===le?void 0:le.apply)&&Ie.spy.apply(xe,ae,Fe),Fe})})})}),be=(De,it)=>{it.forEach(Xe=>{Object.getOwnPropertyNames(Xe.prototype||Xe).forEach(Ie=>{Object.defineProperty(De.prototype,Ie,Object.getOwnPropertyDescriptor(Xe.prototype||Xe,Ie))})})};class J{constructor(it){return it}}const me=new l.OlP("angularfire2.app.options"),_e=new l.OlP("angularfire2.app.name");function q(De,it,Xe){const Me="object"==typeof Xe&&Xe||{};Me.name=Me.name||"string"==typeof Xe&&Xe||"[DEFAULT]";const Ze=ee.Z.apps.filter(Ge=>Ge&&Ge.name===Me.name)[0]||it.runOutsideAngular(()=>ee.Z.initializeApp(De,Me));try{JSON.stringify(De)!==JSON.stringify(Ze.options)&&$("error",`${Ze.name} Firebase App already initialized with different options${dt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ge){}return new J(Ze)}const $=(De,...it)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[De](...it)},ne={provide:J,useFactory:q,deps:[me,l.R0b,[new l.FiY,_e]]};let Ye=(()=>{class De{constructor(Xe){ee.Z.registerVersion("angularfire",B.q4.full,"core"),ee.Z.registerVersion("angularfire",B.q4.full,"app-compat"),ee.Z.registerVersion("angular",l.q4F.full,Xe.toString())}static initializeApp(Xe,Ie){return{ngModule:De,providers:[{provide:me,useValue:Xe},{provide:_e,useValue:Ie}]}}}return De.\u0275fac=function(Xe){return new(Xe||De)(l.LFG(l.Lbi))},De.\u0275mod=l.oAB({type:De}),De.\u0275inj=l.cJS({providers:[ne]}),De})();function ke(De,it,Xe,Ie,Me){const[,xe,Ze]=globalThis.\u0275AngularfireInstanceCache.find(Ge=>Ge[0]===De)||[];if(xe)return function Be(De,it){try{return De.toString()===it.toString()}catch(Xe){return De===it}}(Me,Ze)||(pe("error",`${it} was already initialized on the ${Xe} Firebase App with different settings.${He?" You may need to reload as Firebase is not HMR aware.":""}`),pe("warn",{is:Me,was:Ze})),xe;{const Ge=Ie();return globalThis.\u0275AngularfireInstanceCache.push([De,Ge,Me]),Ge}}const He=!!dt.hot,pe=(De,...it)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[De](...it)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(dt,Te,L)=>{L.d(Te,{q4:()=>Pu,iC:()=>Fu,fc:()=>eo,HU:()=>xc,vb:()=>fh,JM:()=>Ha});var l=L(5e3),ee=L(5867),B=L(5861),de=L(9681),oe=L(2090),be=L(4859),J=L(1877);const me="@firebase/installations",$="w:0.5.7",ne="FIS_v2",De=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function it(D){return D instanceof oe.ZR&&D.code.includes("request-failed")}function Xe({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function Ie(D){return{token:D.token,requestStatus:2,expiresIn:ae(D.expiresIn),creationTime:Date.now()}}function Me(D,S){return xe.apply(this,arguments)}function xe(){return(xe=(0,B.Z)(function*(D,S){const H=(yield S.json()).error;return De.create("request-failed",{requestName:D,serverCode:H.code,serverMessage:H.message,serverStatus:H.status})})).apply(this,arguments)}function Ze({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function Ge(D,{refreshToken:S}){const P=Ze(D);return P.append("Authorization",function ye(D){return`${ne} ${D}`}(S)),P}function se(D){return X.apply(this,arguments)}function X(){return(X=(0,B.Z)(function*(D){const S=yield D();return S.status>=500&&S.status<600?D():S})).apply(this,arguments)}function ae(D){return Number(D.replace("s","000"))}function le(D,S){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,B.Z)(function*({appConfig:D,heartbeatServiceProvider:S},{fid:P}){const H=Xe(D),K=Ze(D),ie=S.getImmediate({optional:!0});if(ie){const bt=yield ie.getHeartbeatsHeader();bt&&K.append("x-firebase-client",bt)}const Ke={method:"POST",headers:K,body:JSON.stringify({fid:P,authVersion:ne,appId:D.appId,sdkVersion:$})},at=yield se(()=>fetch(H,Ke));if(at.ok){const bt=yield at.json();return{fid:bt.fid||P,registrationStatus:2,refreshToken:bt.refreshToken,authToken:Ie(bt.authToken)}}throw yield Me("Create Installation",at)})).apply(this,arguments)}function ue(D){return new Promise(S=>{setTimeout(S,D)})}const ln=/^[cdef][\w-]{21}$/;function ht(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const P=function Et(D){return function At(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return ln.test(P)?P:""}catch(D){return""}}function Cn(D){return`${D.appName}!${D.appId}`}const wn=new Map;function fo(D,S){const P=Cn(D);cn(P,S),function Zt(D,S){const P=function Ar(){return!Ri&&"BroadcastChannel"in self&&(Ri=new BroadcastChannel("[Firebase] FID Change"),Ri.onmessage=D=>{cn(D.data.key,D.data.fid)}),Ri}();P&&P.postMessage({key:D,fid:S}),function ms(){0===wn.size&&Ri&&(Ri.close(),Ri=null)}()}(P,S)}function cn(D,S){const P=wn.get(D);if(P)for(const H of P)H(S)}let Ri=null;const ur="firebase-installations-store";let Yo=null;function Ao(){return Yo||(Yo=(0,oe.X3)("firebase-installations-database",1,(D,S)=>{0===S&&D.createObjectStore(ur)})),Yo}function Ct(D,S){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,B.Z)(function*(D,S){const P=Cn(D),K=(yield Ao()).transaction(ur,"readwrite"),ie=K.objectStore(ur),ge=yield ie.get(P);return yield ie.put(S,P),yield K.complete,(!ge||ge.fid!==S.fid)&&fo(D,S.fid),S})).apply(this,arguments)}function xi(D){return _i.apply(this,arguments)}function _i(){return(_i=(0,B.Z)(function*(D){const S=Cn(D),H=(yield Ao()).transaction(ur,"readwrite");yield H.objectStore(ur).delete(S),yield H.complete})).apply(this,arguments)}function Zr(D,S){return _s.apply(this,arguments)}function _s(){return(_s=(0,B.Z)(function*(D,S){const P=Cn(D),K=(yield Ao()).transaction(ur,"readwrite"),ie=K.objectStore(ur),ge=yield ie.get(P),Ke=S(ge);return void 0===Ke?yield ie.delete(P):yield ie.put(Ke,P),yield K.complete,Ke&&(!ge||ge.fid!==Ke.fid)&&fo(D,Ke.fid),Ke})).apply(this,arguments)}function An(D){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,B.Z)(function*(D){let S;const P=yield Zr(D.appConfig,H=>{const K=Ko(H),ie=Sa(D,K);return S=ie.registrationPromise,ie.installationEntry});return""===P.fid?{installationEntry:yield S}:{installationEntry:P,registrationPromise:S}})).apply(this,arguments)}function Ko(D){return Kt(D||{fid:ht(),registrationStatus:0})}function Sa(D,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(De.create("app-offline"))};const P={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},H=function Yt(D,S){return ct.apply(this,arguments)}(D,P);return{installationEntry:P,registrationPromise:H}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:It(D)}:{installationEntry:S}}function ct(){return(ct=(0,B.Z)(function*(D,S){try{const P=yield le(D,S);return Ct(D.appConfig,P)}catch(P){throw it(P)&&409===P.customData.serverCode?yield xi(D.appConfig):yield Ct(D.appConfig,{fid:S.fid,registrationStatus:0}),P}})).apply(this,arguments)}function It(D){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,B.Z)(function*(D){let S=yield Po(D.appConfig);for(;1===S.registrationStatus;)yield ue(100),S=yield Po(D.appConfig);if(0===S.registrationStatus){const{installationEntry:P,registrationPromise:H}=yield An(D);return H||P}return S})).apply(this,arguments)}function Po(D){return Zr(D,S=>{if(!S)throw De.create("installation-not-found");return Kt(S)})}function Kt(D){return function Xs(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function Wi(D,S){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,B.Z)(function*({appConfig:D,heartbeatServiceProvider:S},P){const H=_t(D,P),K=Ge(D,P),ie=S.getImmediate({optional:!0});if(ie){const bt=yield ie.getHeartbeatsHeader();bt&&K.append("x-firebase-client",bt)}const Ke={method:"POST",headers:K,body:JSON.stringify({installation:{sdkVersion:$,appId:D.appId}})},at=yield se(()=>fetch(H,Ke));if(at.ok)return Ie(yield at.json());throw yield Me("Generate Auth Token",at)})).apply(this,arguments)}function _t(D,{fid:S}){return`${Xe(D)}/${S}/authTokens:generate`}function Zi(D){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,B.Z)(function*(D,S=!1){let P;const H=yield Zr(D.appConfig,ie=>{if(!jt(ie))throw De.create("not-registered");const ge=ie.authToken;if(!S&&G(ge))return ie;if(1===ge.requestStatus)return P=Je(D,S),ie;{if(!navigator.onLine)throw De.create("app-offline");const Ke=W(ie);return P=vt(D,Ke),Ke}});return P?yield P:H.authToken})).apply(this,arguments)}function Je(D,S){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,B.Z)(function*(D,S){let P=yield tt(D.appConfig);for(;1===P.authToken.requestStatus;)yield ue(100),P=yield tt(D.appConfig);const H=P.authToken;return 0===H.requestStatus?Zi(D,S):H})).apply(this,arguments)}function tt(D){return Zr(D,S=>{if(!jt(S))throw De.create("not-registered");return function fe(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function vt(D,S){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,B.Z)(function*(D,S){try{const P=yield Wi(D,S),H=Object.assign(Object.assign({},S),{authToken:P});return yield Ct(D.appConfig,H),P}catch(P){if(!it(P)||401!==P.customData.serverCode&&404!==P.customData.serverCode){const H=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield Ct(D.appConfig,H)}else yield xi(D.appConfig);throw P}})).apply(this,arguments)}function jt(D){return void 0!==D&&2===D.registrationStatus}function G(D){return 2===D.requestStatus&&!function j(D){const S=Date.now();return S<D.creationTime||D.creationTime+D.expiresIn<S+36e5}(D)}function W(D){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:S})}function ze(){return(ze=(0,B.Z)(function*(D){const S=D,{installationEntry:P,registrationPromise:H}=yield An(S);return H?H.catch(console.error):Zi(S).catch(console.error),P.fid})).apply(this,arguments)}function on(){return(on=(0,B.Z)(function*(D,S=!1){const P=D;return yield Yi(P),(yield Zi(P,S)).token})).apply(this,arguments)}function Yi(D){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,B.Z)(function*(D){const{registrationPromise:S}=yield An(D);S&&(yield S)})).apply(this,arguments)}function vi(D){return De.create("missing-app-config-values",{valueName:D})}const gl="installations",Ve=D=>{const S=D.getProvider("app").getImmediate(),P=function Qo(D){if(!D||!D.options)throw vi("App Configuration");if(!D.name)throw vi("App Name");const S=["projectId","apiKey","appId"];for(const P of S)if(!D.options[P])throw vi(P);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(S);return{app:S,appConfig:P,heartbeatServiceProvider:(0,de._getProvider)(S,"heartbeat"),_delete:()=>Promise.resolve()}},Ut=D=>{const S=D.getProvider("app").getImmediate(),P=(0,de._getProvider)(S,gl).getImmediate();return{getId:()=>function te(D){return ze.apply(this,arguments)}(P),getToken:K=>function Dt(D){return on.apply(this,arguments)}(P,K)}};(function Tn(){(0,de._registerComponent)(new be.wA(gl,Ve,"PUBLIC")),(0,de._registerComponent)(new be.wA("installations-internal",Ut,"PRIVATE"))})(),(0,de.registerVersion)(me,"0.5.7"),(0,de.registerVersion)(me,"0.5.7","esm2017");const Li="@firebase/remote-config",Jn=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class $d{constructor(S,P,H,K){this.client=S,this.storage=P,this.storageCache=H,this.logger=K}isCachedDataFresh(S,P){if(!P)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const H=Date.now()-P,K=H<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${H}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${K}.`),K}fetch(S){var P=this;return(0,B.Z)(function*(){const[H,K]=yield Promise.all([P.storage.getLastSuccessfulFetchTimestampMillis(),P.storage.getLastSuccessfulFetchResponse()]);if(K&&P.isCachedDataFresh(S.cacheMaxAgeMillis,H))return K;S.eTag=K&&K.eTag;const ie=yield P.client.fetch(S),ge=[P.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ie.status&&ge.push(P.storage.setLastSuccessfulFetchResponse(ie)),yield Promise.all(ge),ie})()}}function qd(D=navigator){return D.languages&&D.languages[0]||D.language}class ic{constructor(S,P,H,K,ie,ge){this.firebaseInstallations=S,this.sdkVersion=P,this.namespace=H,this.projectId=K,this.apiKey=ie,this.appId=ge}fetch(S){var P=this;return(0,B.Z)(function*(){const[H,K]=yield Promise.all([P.firebaseInstallations.getId(),P.firebaseInstallations.getToken()]),ge=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${P.projectId}/namespaces/${P.namespace}:fetch?key=${P.apiKey}`,Ke={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},at={sdk_version:P.sdkVersion,app_instance_id:H,app_instance_id_token:K,app_id:P.appId,language_code:qd()},bt={method:"POST",headers:Ke,body:JSON.stringify(at)},Jt=fetch(ge,bt),Pt=new Promise((ji,Vs)=>{S.signal.addEventListener(()=>{const Ho=new Error("The operation was aborted.");Ho.name="AbortError",Vs(Ho)})});let fi;try{yield Promise.race([Jt,Pt]),fi=yield Jt}catch(ji){let Vs="fetch-client-network";throw"AbortError"===ji.name&&(Vs="fetch-timeout"),Jn.create(Vs,{originalErrorMessage:ji.message})}let ni=fi.status;const as=fi.headers.get("ETag")||void 0;let Bs,to;if(200===fi.status){let ji;try{ji=yield fi.json()}catch(Vs){throw Jn.create("fetch-client-parse",{originalErrorMessage:Vs.message})}Bs=ji.entries,to=ji.state}if("INSTANCE_STATE_UNSPECIFIED"===to?ni=500:"NO_CHANGE"===to?ni=304:("NO_TEMPLATE"===to||"EMPTY_CONFIG"===to)&&(Bs={}),304!==ni&&200!==ni)throw Jn.create("fetch-status",{httpStatus:ni});return{status:ni,eTag:as,config:Bs}})()}}class Om{constructor(S,P){this.client=S,this.storage=P}fetch(S){var P=this;return(0,B.Z)(function*(){const H=(yield P.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return P.attemptFetch(S,H)})()}attemptFetch(S,{throttleEndTimeMillis:P,backoffCount:H}){var K=this;return(0,B.Z)(function*(){yield function ci(D,S){return new Promise((P,H)=>{const K=Math.max(S-Date.now(),0),ie=setTimeout(P,K);D.addEventListener(()=>{clearTimeout(ie),H(Jn.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,P);try{const ie=yield K.client.fetch(S);return yield K.storage.deleteThrottleMetadata(),ie}catch(ie){if(!function Wd(D){if(!(D instanceof oe.ZR&&D.customData))return!1;const S=Number(D.customData.httpStatus);return 429===S||500===S||503===S||504===S}(ie))throw ie;const ge={throttleEndTimeMillis:Date.now()+(0,oe.$s)(H),backoffCount:H+1};return yield K.storage.setThrottleMetadata(ge),K.attemptFetch(S,ge)}})()}}class su{constructor(S,P,H,K,ie){this.app=S,this._client=P,this._storageCache=H,this._storage=K,this._logger=ie,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function au(D,S){const P=D.target.error||void 0;return Jn.create(S,{originalErrorMessage:P&&P.message})}const ws="app_namespace_store";class Rm{constructor(S,P,H,K=function Pm(){return new Promise((D,S)=>{try{const P=indexedDB.open("firebase_remote_config",1);P.onerror=H=>{S(au(H,"storage-open"))},P.onsuccess=H=>{D(H.target.result)},P.onupgradeneeded=H=>{0===H.oldVersion&&H.target.result.createObjectStore(ws,{keyPath:"compositeKey"})}}catch(P){S(Jn.create("storage-open",{originalErrorMessage:P}))}})}()){this.appId=S,this.appName=P,this.namespace=H,this.openDbPromise=K}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var P=this;return(0,B.Z)(function*(){const H=yield P.openDbPromise;return new Promise((K,ie)=>{const Ke=H.transaction([ws],"readonly").objectStore(ws),at=P.createCompositeKey(S);try{const bt=Ke.get(at);bt.onerror=Jt=>{ie(au(Jt,"storage-get"))},bt.onsuccess=Jt=>{const Pt=Jt.target.result;K(Pt?Pt.value:void 0)}}catch(bt){ie(Jn.create("storage-get",{originalErrorMessage:bt&&bt.message}))}})})()}set(S,P){var H=this;return(0,B.Z)(function*(){const K=yield H.openDbPromise;return new Promise((ie,ge)=>{const at=K.transaction([ws],"readwrite").objectStore(ws),bt=H.createCompositeKey(S);try{const Jt=at.put({compositeKey:bt,value:P});Jt.onerror=Pt=>{ge(au(Pt,"storage-set"))},Jt.onsuccess=()=>{ie()}}catch(Jt){ge(Jn.create("storage-set",{originalErrorMessage:Jt&&Jt.message}))}})})()}delete(S){var P=this;return(0,B.Z)(function*(){const H=yield P.openDbPromise;return new Promise((K,ie)=>{const Ke=H.transaction([ws],"readwrite").objectStore(ws),at=P.createCompositeKey(S);try{const bt=Ke.delete(at);bt.onerror=Jt=>{ie(au(Jt,"storage-delete"))},bt.onsuccess=()=>{K()}}catch(bt){ie(Jn.create("storage-delete",{originalErrorMessage:bt&&bt.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class Yd{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,B.Z)(function*(){const P=S.storage.getLastFetchStatus(),H=S.storage.getLastSuccessfulFetchTimestampMillis(),K=S.storage.getActiveConfig(),ie=yield P;ie&&(S.lastFetchStatus=ie);const ge=yield H;ge&&(S.lastSuccessfulFetchTimestampMillis=ge);const Ke=yield K;Ke&&(S.activeConfig=Ke)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function na(){return lp.apply(this,arguments)}function lp(){return(lp=(0,B.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch(D){return!1}})).apply(this,arguments)}!function Ta(){(0,de._registerComponent)(new be.wA("remote-config",function D(S,{instanceIdentifier:P}){const H=S.getProvider("app").getImmediate(),K=S.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Jn.create("registration-window");if(!(0,oe.hl)())throw Jn.create("indexed-db-unavailable");const{projectId:ie,apiKey:ge,appId:Ke}=H.options;if(!ie)throw Jn.create("registration-project-id");if(!ge)throw Jn.create("registration-api-key");if(!Ke)throw Jn.create("registration-app-id");const at=new Rm(Ke,H.name,P=P||"firebase"),bt=new Yd(at),Jt=new J.Yd(Li);Jt.logLevel=J.in.ERROR;const Pt=new ic(K,de.SDK_VERSION,P,ie,ge,Ke),fi=new Om(Pt,at),ni=new $d(fi,at,bt,Jt),as=new su(H,ni,bt,at,Jt);return function dr(D){const S=(0,oe.m9)(D);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(as),as},"PUBLIC").setMultipleInstances(!0)),(0,de.registerVersion)(Li,"0.3.6"),(0,de.registerVersion)(Li,"0.3.6","esm2017")}();const lu="/firebase-messaging-sw.js",ts="/firebase-cloud-messaging-push-scope",Nr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ia="google.c.a.c_id",_l="google.c.a.c_l",Kd="google.c.a.ts",Fm="google.c.a.e";var Ms=(()=>{return(D=Ms||(Ms={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",Ms;var D})();function Qr(D){const S=new Uint8Array(D);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function oc(D){const P=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),H=atob(P),K=new Uint8Array(H.length);for(let ie=0;ie<H.length;++ie)K[ie]=H.charCodeAt(ie);return K}const sc="fcm_token_details_db",Bi="fcm_token_object_Store";function cp(D){return ac.apply(this,arguments)}function ac(){return ac=(0,B.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ie=>ie.name).includes(sc))return null;let S=null;return(yield(0,oe.X3)(sc,5,function(){var H=(0,B.Z)(function*(K,ie,ge,Ke){var at;if(ie<2||!K.objectStoreNames.contains(Bi))return;const bt=Ke.objectStore(Bi),Jt=yield bt.index("fcmSenderId").get(D);if(yield bt.clear(),Jt)if(2===ie){const Pt=Jt;if(!Pt.auth||!Pt.p256dh||!Pt.endpoint)return;S={token:Pt.fcmToken,createTime:null!==(at=Pt.createTime)&&void 0!==at?at:Date.now(),subscriptionOptions:{auth:Pt.auth,p256dh:Pt.p256dh,endpoint:Pt.endpoint,swScope:Pt.swScope,vapidKey:"string"==typeof Pt.vapidKey?Pt.vapidKey:Qr(Pt.vapidKey)}}}else if(3===ie){const Pt=Jt;S={token:Pt.fcmToken,createTime:Pt.createTime,subscriptionOptions:{auth:Qr(Pt.auth),p256dh:Qr(Pt.p256dh),endpoint:Pt.endpoint,swScope:Pt.swScope,vapidKey:Qr(Pt.vapidKey)}}}else if(4===ie){const Pt=Jt;S={token:Pt.fcmToken,createTime:Pt.createTime,subscriptionOptions:{auth:Qr(Pt.auth),p256dh:Qr(Pt.p256dh),endpoint:Pt.endpoint,swScope:Pt.swScope,vapidKey:Qr(Pt.vapidKey)}}}});return function(K,ie,ge,Ke){return H.apply(this,arguments)}}())).close(),yield(0,oe.Lj)(sc),yield(0,oe.Lj)("fcm_vapid_details_db"),yield(0,oe.Lj)("undefined"),Qd(S)?S:null}),ac.apply(this,arguments)}function Qd(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:S}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}const ns="firebase-messaging-store";let vl=null;function cu(){return vl||(vl=(0,oe.X3)("firebase-messaging-database",1,(D,S)=>{0===S&&D.createObjectStore(ns)})),vl}function In(D){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,B.Z)(function*(D){const S=oa(D),H=yield(yield cu()).transaction(ns).objectStore(ns).get(S);if(H)return H;{const K=yield cp(D.appConfig.senderId);if(K)return yield xs(D,K),K}})).apply(this,arguments)}function xs(D,S){return _n.apply(this,arguments)}function _n(){return(_n=(0,B.Z)(function*(D,S){const P=oa(D),K=(yield cu()).transaction(ns,"readwrite");return yield K.objectStore(ns).put(S,P),yield K.complete,S})).apply(this,arguments)}function Xd(D){return ra.apply(this,arguments)}function ra(){return(ra=(0,B.Z)(function*(D){const S=oa(D),H=(yield cu()).transaction(ns,"readwrite");yield H.objectStore(ns).delete(S),yield H.complete})).apply(this,arguments)}function oa({appConfig:D}){return D.appId}const ei=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function yl(D,S){return po.apply(this,arguments)}function po(){return(po=(0,B.Z)(function*(D,S){const P=yield Ds(D),H=yt(S),K={method:"POST",headers:P,body:JSON.stringify(H)};let ie;try{ie=yield(yield fetch(Lr(D.appConfig),K)).json()}catch(ge){throw ei.create("token-subscribe-failed",{errorInfo:ge})}if(ie.error)throw ei.create("token-subscribe-failed",{errorInfo:ie.error.message});if(!ie.token)throw ei.create("token-subscribe-no-token");return ie.token})).apply(this,arguments)}function Xi(D,S){return Es.apply(this,arguments)}function Es(){return(Es=(0,B.Z)(function*(D,S){const P=yield Ds(D),H=yt(S.subscriptionOptions),K={method:"PATCH",headers:P,body:JSON.stringify(H)};let ie;try{ie=yield(yield fetch(`${Lr(D.appConfig)}/${S.token}`,K)).json()}catch(ge){throw ei.create("token-update-failed",{errorInfo:ge})}if(ie.error)throw ei.create("token-update-failed",{errorInfo:ie.error.message});if(!ie.token)throw ei.create("token-update-no-token");return ie.token})).apply(this,arguments)}function is(D,S){return uc.apply(this,arguments)}function uc(){return(uc=(0,B.Z)(function*(D,S){const H={method:"DELETE",headers:yield Ds(D)};try{const ie=yield(yield fetch(`${Lr(D.appConfig)}/${S}`,H)).json();if(ie.error)throw ei.create("token-unsubscribe-failed",{errorInfo:ie.error.message})}catch(K){throw ei.create("token-unsubscribe-failed",{errorInfo:K})}})).apply(this,arguments)}function Lr({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function Ds(D){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,B.Z)(function*({appConfig:D,installations:S}){const P=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${P}`})})).apply(this,arguments)}function yt({p256dh:D,auth:S,endpoint:P,vapidKey:H}){const K={web:{endpoint:P,auth:S,p256dh:D}};return H!==Nr&&(K.web.applicationPubKey=H),K}const dc=6048e5;function bl(D){return hc.apply(this,arguments)}function hc(){return(hc=(0,B.Z)(function*(D){const S=yield hu(D.swRegistration,D.vapidKey),P={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:S.endpoint,auth:Qr(S.getKey("auth")),p256dh:Qr(S.getKey("p256dh"))},H=yield In(D.firebaseDependencies);if(H){if(ka(H.subscriptionOptions,P))return Date.now()>=H.createTime+dc?uu(D,{token:H.token,createTime:Date.now(),subscriptionOptions:P}):H.token;try{yield is(D.firebaseDependencies,H.token)}catch(K){console.warn(K)}return Se(D.firebaseDependencies,P)}return Se(D.firebaseDependencies,P)})).apply(this,arguments)}function fc(D){return pc.apply(this,arguments)}function pc(){return(pc=(0,B.Z)(function*(D){const S=yield In(D.firebaseDependencies);S&&(yield is(D.firebaseDependencies,S.token),yield Xd(D.firebaseDependencies));const P=yield D.swRegistration.pushManager.getSubscription();return!P||P.unsubscribe()})).apply(this,arguments)}function uu(D,S){return du.apply(this,arguments)}function du(){return(du=(0,B.Z)(function*(D,S){try{const P=yield Xi(D.firebaseDependencies,S),H=Object.assign(Object.assign({},S),{token:P,createTime:Date.now()});return yield xs(D.firebaseDependencies,H),P}catch(P){throw yield fc(D),P}})).apply(this,arguments)}function Se(D,S){return zt.apply(this,arguments)}function zt(){return(zt=(0,B.Z)(function*(D,S){const H={token:yield yl(D,S),createTime:Date.now(),subscriptionOptions:S};return yield xs(D,H),H.token})).apply(this,arguments)}function hu(D,S){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,B.Z)(function*(D,S){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:oc(S)})})).apply(this,arguments)}function ka(D,S){return S.vapidKey===D.vapidKey&&S.endpoint===D.endpoint&&S.auth===D.auth&&S.p256dh===D.p256dh}function Aa(D){const S={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function Br(D,S){if(!S.notification)return;D.notification={};const P=S.notification.title;P&&(D.notification.title=P);const H=S.notification.body;H&&(D.notification.body=H);const K=S.notification.image;K&&(D.notification.image=K)}(S,D),function fu(D,S){!S.data||(D.data=S.data)}(S,D),function pu(D,S){if(!S.fcmOptions)return;D.fcmOptions={};const P=S.fcmOptions.link;P&&(D.fcmOptions.link=P);const H=S.fcmOptions.analytics_label;H&&(D.fcmOptions.analyticsLabel=H)}(S,D),S}function Jd(D){return"object"==typeof D&&!!D&&ia in D}function gu(D,S){const P=[];for(let H=0;H<D.length;H++)P.push(D.charAt(H)),H<S.length&&P.push(S.charAt(H));return P.join("")}function Ts(D){return ei.create("missing-app-config-values",{valueName:D})}gu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),gu("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Vi{constructor(S,P,H){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const K=function gc(D){if(!D||!D.options)throw Ts("App Configuration Object");if(!D.name)throw Ts("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:P}=D;for(const H of S)if(!P[H])throw Ts(H);return{appName:D.name,projectId:P.projectId,apiKey:P.apiKey,appId:P.appId,senderId:P.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:K,installations:P,analyticsProvider:H}}_delete(){return Promise.resolve()}}function Xr(D){return mc.apply(this,arguments)}function mc(){return(mc=(0,B.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(lu,{scope:ts}),D.swRegistration.update().catch(()=>{})}catch(S){throw ei.create("failed-service-worker-registration",{browserErrorMessage:S.message})}})).apply(this,arguments)}function Is(D,S){return go.apply(this,arguments)}function go(){return(go=(0,B.Z)(function*(D,S){if(!S&&!D.swRegistration&&(yield Xr(D)),S||!D.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw ei.create("invalid-sw-registration");D.swRegistration=S}})).apply(this,arguments)}function mu(D,S){return _c.apply(this,arguments)}function _c(){return(_c=(0,B.Z)(function*(D,S){S?D.vapidKey=S:D.vapidKey||(D.vapidKey=Nr)})).apply(this,arguments)}function _u(){return(_u=(0,B.Z)(function*(D,S){if(!navigator)throw ei.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ei.create("permission-blocked");return yield mu(D,null==S?void 0:S.vapidKey),yield Is(D,null==S?void 0:S.serviceWorkerRegistration),bl(D)})).apply(this,arguments)}function Cl(D,S,P){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,B.Z)(function*(D,S,P){const H=vu(S);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(H,{message_id:P[ia],message_name:P[_l],message_time:P[Kd],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function vu(D){switch(D){case Ms.NOTIFICATION_CLICKED:return"notification_open";case Ms.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function eh(){return(eh=(0,B.Z)(function*(D,S){const P=S.data;if(!P.isFirebaseMessaging)return;D.onMessageHandler&&P.messageType===Ms.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(Aa(P)):D.onMessageHandler.next(Aa(P)));const H=P.data;Jd(H)&&"1"===H[Fm]&&(yield Cl(D,P.messageType,H))})).apply(this,arguments)}const bu="@firebase/messaging",th=D=>{const S=new Vi(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",P=>function yu(D,S){return eh.apply(this,arguments)}(S,P)),S},aa=D=>{const S=D.getProvider("messaging").getImmediate();return{getToken:H=>function vc(D,S){return _u.apply(this,arguments)}(S,H)}};function ih(){return la.apply(this,arguments)}function la(){return(la=(0,B.Z)(function*(){try{yield(0,oe.eu)()}catch(D){return!1}return"undefined"!=typeof window&&(0,oe.hl)()&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function nh(){(0,de._registerComponent)(new be.wA("messaging",th,"PUBLIC")),(0,de._registerComponent)(new be.wA("messaging-internal",aa,"PRIVATE")),(0,de.registerVersion)(bu,"0.9.11"),(0,de.registerVersion)(bu,"0.9.11","esm2017")}();const wu="analytics",Ly="firebase_id",wl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",yc="https://www.googletagmanager.com/gtag/js",ui=new J.Yd("@firebase/analytics");function oh(D){return Promise.all(D.map(S=>S.catch(P=>P)))}function Nm(D,S){const P=document.createElement("script");P.src=`${yc}?l=${D}&id=${S}`,P.async=!0,document.head.appendChild(P)}function Ra(D,S,P,H,K,ie){return sh.apply(this,arguments)}function sh(){return(sh=(0,B.Z)(function*(D,S,P,H,K,ie){const ge=H[K];try{if(ge)yield S[ge];else{const at=(yield oh(P)).find(bt=>bt.measurementId===K);at&&(yield S[at.appId])}}catch(Ke){ui.error(Ke)}D("config",K,ie)})).apply(this,arguments)}function xu(D,S,P,H,K){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,B.Z)(function*(D,S,P,H,K){try{let ie=[];if(K&&K.send_to){let ge=K.send_to;Array.isArray(ge)||(ge=[ge]);const Ke=yield oh(P);for(const at of ge){const bt=Ke.find(Pt=>Pt.measurementId===at),Jt=bt&&S[bt.appId];if(!Jt){ie=[];break}ie.push(Jt)}}0===ie.length&&(ie=Object.values(S)),yield Promise.all(ie),D("event",H,K||{})}catch(ie){ui.error(ie)}})).apply(this,arguments)}function Lm(){const D=window.document.getElementsByTagName("script");for(const S of Object.values(D))if(S.src&&S.src.includes(yc))return S;return null}const qn=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Rn=new class Ui{constructor(S={},P=1e3){this.throttleMetadata=S,this.intervalMillis=P}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,P){this.throttleMetadata[S]=P}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function Fa(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function lh(D){return On.apply(this,arguments)}function On(){return(On=(0,B.Z)(function*(D){var S;const{appId:P,apiKey:H}=D,K={method:"GET",headers:Fa(H)},ie=wl.replace("{app-id}",P),ge=yield fetch(ie,K);if(200!==ge.status&&304!==ge.status){let Ke="";try{const at=yield ge.json();(null===(S=at.error)||void 0===S?void 0:S.message)&&(Ke=at.error.message)}catch(at){}throw qn.create("config-fetch-failed",{httpStatus:ge.status,responseMessage:Ke})}return ge.json()})).apply(this,arguments)}function up(D){return mo.apply(this,arguments)}function mo(){return(mo=(0,B.Z)(function*(D,S=Rn,P){const{appId:H,apiKey:K,measurementId:ie}=D.options;if(!H)throw qn.create("no-app-id");if(!K){if(ie)return{measurementId:ie,appId:H};throw qn.create("no-api-key")}const ge=S.getThrottleMetadata(H)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ke=new Du;return setTimeout((0,B.Z)(function*(){Ke.abort()}),void 0!==P?P:6e4),bc({appId:H,apiKey:K,measurementId:ie},ge,Ke,S)})).apply(this,arguments)}function bc(D,S,P){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,B.Z)(function*(D,{throttleEndTimeMillis:S,backoffCount:P},H,K=Rn){const{appId:ie,measurementId:ge}=D;try{yield pt(H,S)}catch(Ke){if(ge)return ui.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ge} provided in the "measurementId" field in the local Firebase config. [${Ke.message}]`),{appId:ie,measurementId:ge};throw Ke}try{const Ke=yield lh(D);return K.deleteThrottleMetadata(ie),Ke}catch(Ke){if(!ch(Ke)){if(K.deleteThrottleMetadata(ie),ge)return ui.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ge} provided in the "measurementId" field in the local Firebase config. [${Ke.message}]`),{appId:ie,measurementId:ge};throw Ke}const at=503===Number(Ke.customData.httpStatus)?(0,oe.$s)(P,K.intervalMillis,30):(0,oe.$s)(P,K.intervalMillis),bt={throttleEndTimeMillis:Date.now()+at,backoffCount:P+1};return K.setThrottleMetadata(ie,bt),ui.debug(`Calling attemptFetch again in ${at} millis`),bc(D,bt,H,K)}})).apply(this,arguments)}function pt(D,S){return new Promise((P,H)=>{const K=Math.max(S-Date.now(),0),ie=setTimeout(P,K);D.addEventListener(()=>{clearTimeout(ie),H(qn.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}function ch(D){if(!(D instanceof oe.ZR&&D.customData))return!1;const S=Number(D.customData.httpStatus);return 429===S||500===S||503===S||504===S}class Du{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}function Su(){return ca.apply(this,arguments)}function ca(){return(ca=(0,B.Z)(function*(){if(!(0,oe.hl)())return ui.warn(qn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(D){return ui.warn(qn.create("indexeddb-unavailable",{errorInfo:D}).message),!1}return!0})).apply(this,arguments)}function ss(){return(ss=(0,B.Z)(function*(D,S,P,H,K,ie,ge){var Ke;const at=up(D);at.then(ni=>{P[ni.measurementId]=ni.appId,D.options.measurementId&&ni.measurementId!==D.options.measurementId&&ui.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${ni.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ni=>ui.error(ni)),S.push(at);const bt=Su().then(ni=>{if(ni)return H.getId()}),[Jt,Pt]=yield Promise.all([at,bt]);Lm()||Nm(ie,Jt.measurementId),K("js",new Date);const fi=null!==(Ke=null==ge?void 0:ge.config)&&void 0!==Ke?Ke:{};return fi.origin="firebase",fi.update=!0,null!=Pt&&(fi[Ly]=Pt),K("config",Jt.measurementId,fi),Jt.measurementId})).apply(this,arguments)}class Na{constructor(S){this.app=S}_delete(){return delete Jr[this.app.options.appId],Promise.resolve()}}let Jr={},As=[];const Tu={};let Ml,Lo,No="dataLayer",Bo=!1;function zn(D,S,P){!function Ps(){const D=[];if((0,oe.ru)()&&D.push("This is a browser extension environment."),(0,oe.zI)()||D.push("Cookies are not available."),D.length>0){const S=D.map((H,K)=>`(${K+1}) ${H}`).join(" "),P=qn.create("invalid-analytics-context",{errorInfo:S});ui.warn(P.message)}}();const H=D.options.appId;if(!H)throw qn.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw qn.create("no-api-key");ui.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Jr[H])throw qn.create("already-exists",{id:H});if(!Bo){!function os(D){let S=[];Array.isArray(window[D])?S=window[D]:window[D]=S}(No);const{wrappedGtag:ie,gtagCore:ge}=function ah(D,S,P,H,K){let ie=function(...ge){window[H].push(arguments)};return window[K]&&"function"==typeof window[K]&&(ie=window[K]),window[K]=function Eu(D,S,P,H){function ie(){return(ie=(0,B.Z)(function*(ge,Ke,at){try{"event"===ge?yield xu(D,S,P,Ke,at):"config"===ge?yield Ra(D,S,P,H,Ke,at):D("set",Ke)}catch(bt){ui.error(bt)}})).apply(this,arguments)}return function K(ge,Ke,at){return ie.apply(this,arguments)}}(ie,D,S,P),{gtagCore:ie,wrappedGtag:window[K]}}(Jr,As,Tu,No,"gtag");Lo=ie,Ml=ge,Bo=!0}return Jr[H]=function Mn(D,S,P,H,K,ie,ge){return ss.apply(this,arguments)}(D,As,Tu,S,Ml,No,P),new Na(D)}function xl(){return(xl=(0,B.Z)(function*(D,S,P,H,K){if(K&&K.global)D("event",P,H);else{const ie=yield S;D("event",P,Object.assign(Object.assign({},H),{send_to:ie}))}})).apply(this,arguments)}function _o(){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,B.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch(D){return!1}})).apply(this,arguments)}const ti="@firebase/analytics";!function Rs(){(0,de._registerComponent)(new be.wA(wu,(S,{options:P})=>zn(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),P),"PUBLIC")),(0,de._registerComponent)(new be.wA("analytics-internal",function D(S){try{const P=S.getProvider(wu).getImmediate();return{logEvent:(H,K,ie)=>function Va(D,S,P,H){D=(0,oe.m9)(D),function di(D,S,P,H,K){return xl.apply(this,arguments)}(Lo,Jr[D.app.options.appId],S,P,H).catch(K=>ui.error(K))}(P,H,K,ie)}}catch(P){throw qn.create("interop-component-reg-failed",{reason:P})}},"PRIVATE")),(0,de.registerVersion)(ti,"0.7.7"),(0,de.registerVersion)(ti,"0.7.7","esm2017")}();var dh=L(4408),fp=L(7565);const ku=new class Zn extends fp.v{}(class vo extends dh.o{constructor(S,P){super(S,P),this.scheduler=S,this.work=P}schedule(S,P=0){return P>0?super.schedule(S,P):(this.delay=P,this.state=S,this.scheduler.flush(this),this)}execute(S,P){return P>0||this.closed?super.execute(S,P):this._execute(S,P)}requestAsyncId(S,P,H=0){return null!=H&&H>0||null==H&&this.delay>0?super.requestAsyncId(S,P,H):S.flush(this)}});var Bm=L(4986),Au=L(8505),Hi=L(5363),Ur=L(9468);const Pu=new l.GfV("7.3.0"),Fs="__angularfire_symbol__analyticsIsSupportedValue",yo="__angularfire_symbol__analyticsIsSupported",Vo="__angularfire_symbol__remoteConfigIsSupportedValue",El="__angularfire_symbol__remoteConfigIsSupported",wc="__angularfire_symbol__messagingIsSupportedValue",Ht="__angularfire_symbol__messagingIsSupported";function Ha(D,S,P){if(S){if(1===S.length)return S[0];const ie=S.filter(ge=>ge.app===P);if(1===ie.length)return ie[0]}return P.container.getProvider(D).getImmediate({optional:!0})}globalThis[yo]||(globalThis[yo]=_o().then(D=>globalThis[Fs]=D).catch(()=>globalThis[Fs]=!1)),globalThis[Ht]||(globalThis[Ht]=ih().then(D=>globalThis[wc]=D).catch(()=>globalThis[wc]=!1)),globalThis[El]||(globalThis[El]=na().then(D=>globalThis[Vo]=D).catch(()=>globalThis[Vo]=!1));const fh=(D,S)=>{const P=S?[S]:(0,ee.C6)(),H=[];return P.forEach(K=>{K.container.getProvider(D).instances.forEach(ge=>{H.includes(ge)||H.push(ge)})}),H};function ua(){}class Hr{constructor(S,P=ku){this.zone=S,this.delegate=P}now(){return this.delegate.now()}schedule(S,P,H){const K=this.zone;return this.delegate.schedule(function(ge){K.runGuarded(()=>{S.apply(this,[ge])})},P,H)}}class ph{constructor(S){this.zone=S,this.task=null}call(S,P){const H=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ua,{},ua,ua)),P.pipe((0,Au.b)({next:H,complete:H,error:H})).subscribe(S).add(H)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let xc=(()=>{class D{constructor(P){this.ngZone=P,this.outsideAngular=P.runOutsideAngular(()=>new Hr(Zone.current)),this.insideAngular=P.run(()=>new Hr(Zone.current,Bm.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(P){return new(P||D)(l.LFG(l.R0b))},D.\u0275prov=l.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Uo(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function eo(D){return D.pipe((0,Hi.Q)(Uo().outsideAngular))}function Fu(D){return Uo(),function Ls(D){return function(P){return(P=P.lift(new ph(D.ngZone))).pipe((0,Ur.R)(D.outsideAngular),(0,Hi.Q)(D.insideAngular))}}(Uo())(D)}},2090:(dt,Te,L)=>{L.d(Te,{BH:()=>ke,LL:()=>At,ZR:()=>ue,gQ:()=>Ao,zI:()=>ye,hu:()=>B,g5:()=>de,US:()=>J,tV:()=>q,h$:()=>me,L:()=>_e,$s:()=>Xs,r3:()=>cn,Sg:()=>Be,ne:()=>Ct,p$:()=>$,vZ:()=>ms,ZB:()=>ne,Lj:()=>Wt,gK:()=>An,pd:()=>Yo,m9:()=>_t,z$:()=>He,GJ:()=>Oo,jU:()=>it,ru:()=>Xe,d:()=>Me,xb:()=>Ri,w1:()=>xe,hl:()=>X,uI:()=>pe,UG:()=>De,Yr:()=>Ge,b$:()=>Ie,G6:()=>se,Mn:()=>Ze,w9:()=>fn,cI:()=>ht,UI:()=>Ar,X3:()=>vt,xO:()=>ko,zd:()=>ur,DV:()=>Zt,ug:()=>ct,dS:()=>Yt,Pz:()=>Et,Dv:()=>_s,Wj:()=>Ko,lb:()=>Sa,eu:()=>ae});var l=L(5861);const B=function(G,j){if(!G)throw de(j)},de=function(G){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+G)},oe=function(G){const j=[];let W=0;for(let fe=0;fe<G.length;fe++){let te=G.charCodeAt(fe);te<128?j[W++]=te:te<2048?(j[W++]=te>>6|192,j[W++]=63&te|128):55296==(64512&te)&&fe+1<G.length&&56320==(64512&G.charCodeAt(fe+1))?(te=65536+((1023&te)<<10)+(1023&G.charCodeAt(++fe)),j[W++]=te>>18|240,j[W++]=te>>12&63|128,j[W++]=te>>6&63|128,j[W++]=63&te|128):(j[W++]=te>>12|224,j[W++]=te>>6&63|128,j[W++]=63&te|128)}return j},J={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,j){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,fe=[];for(let te=0;te<G.length;te+=3){const ze=G[te],Dt=te+1<G.length,on=Dt?G[te+1]:0,Yi=te+2<G.length,Xt=Yi?G[te+2]:0;let Sn=(15&on)<<2|Xt>>6,Di=63&Xt;Yi||(Di=64,Dt||(Sn=64)),fe.push(W[ze>>2],W[(3&ze)<<4|on>>4],W[Sn],W[Di])}return fe.join("")},encodeString(G,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(G):this.encodeByteArray(oe(G),j)},decodeString(G,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(G):function(G){const j=[];let W=0,fe=0;for(;W<G.length;){const te=G[W++];if(te<128)j[fe++]=String.fromCharCode(te);else if(te>191&&te<224){const ze=G[W++];j[fe++]=String.fromCharCode((31&te)<<6|63&ze)}else if(te>239&&te<365){const Yi=((7&te)<<18|(63&G[W++])<<12|(63&G[W++])<<6|63&G[W++])-65536;j[fe++]=String.fromCharCode(55296+(Yi>>10)),j[fe++]=String.fromCharCode(56320+(1023&Yi))}else{const ze=G[W++],Dt=G[W++];j[fe++]=String.fromCharCode((15&te)<<12|(63&ze)<<6|63&Dt)}}return j.join("")}(this.decodeStringToByteArray(G,j))},decodeStringToByteArray(G,j){this.init_();const W=j?this.charToByteMapWebSafe_:this.charToByteMap_,fe=[];for(let te=0;te<G.length;){const ze=W[G.charAt(te++)],on=te<G.length?W[G.charAt(te)]:0;++te;const Xt=te<G.length?W[G.charAt(te)]:64;++te;const Vt=te<G.length?W[G.charAt(te)]:64;if(++te,null==ze||null==on||null==Xt||null==Vt)throw Error();fe.push(ze<<2|on>>4),64!==Xt&&(fe.push(on<<4&240|Xt>>2),64!==Vt&&fe.push(Xt<<6&192|Vt))}return fe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}},me=function(G){const j=oe(G);return J.encodeByteArray(j,!0)},_e=function(G){return me(G).replace(/\./g,"")},q=function(G){try{return J.decodeString(G,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function $(G){return ne(void 0,G)}function ne(G,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return j}for(const W in j)!j.hasOwnProperty(W)||!Ye(W)||(G[W]=ne(G[W],j[W]));return G}function Ye(G){return"__proto__"!==G}class ke{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,W)=>{this.resolve=j,this.reject=W})}wrapCallback(j){return(W,fe)=>{W?this.reject(W):this.resolve(fe),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(W):j(W,fe))}}}function Be(G,j){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const fe=j||"demo-project",te=G.iat||0,ze=G.sub||G.user_id;if(!ze)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Dt=Object.assign({iss:`https://securetoken.google.com/${fe}`,aud:fe,iat:te,exp:te+3600,auth_time:te,sub:ze,user_id:ze,firebase:{sign_in_provider:"custom",identities:{}}},G);return[_e(JSON.stringify({alg:"none",type:"JWT"})),_e(JSON.stringify(Dt)),""].join(".")}function He(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function pe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(He())}function De(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(G){return!1}}function it(){return"object"==typeof self&&self.self===self}function Xe(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function Ie(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Me(){return He().indexOf("Electron/")>=0}function xe(){const G=He();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function Ze(){return He().indexOf("MSAppHost/")>=0}function Ge(){return!1}function se(){return!De()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function X(){return"object"==typeof indexedDB}function ae(){return new Promise((G,j)=>{try{let W=!0;const fe="validate-browser-context-for-indexeddb-analytics-module",te=self.indexedDB.open(fe);te.onsuccess=()=>{te.result.close(),W||self.indexedDB.deleteDatabase(fe),G(!0)},te.onupgradeneeded=()=>{W=!1},te.onerror=()=>{var ze;j((null===(ze=te.error)||void 0===ze?void 0:ze.message)||"")}}catch(W){j(W)}})}function ye(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ue extends Error{constructor(j,W,fe){super(W),this.code=j,this.customData=fe,this.name="FirebaseError",Object.setPrototypeOf(this,ue.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,At.prototype.create)}}class At{constructor(j,W,fe){this.service=j,this.serviceName=W,this.errors=fe}create(j,...W){const fe=W[0]||{},te=`${this.service}/${j}`,ze=this.errors[j],Dt=ze?function ln(G,j){return G.replace(Xn,(W,fe)=>{const te=j[fe];return null!=te?String(te):`<${fe}?>`})}(ze,fe):"Error";return new ue(te,`${this.serviceName}: ${Dt} (${te}).`,fe)}}const Xn=/\{\$([^}]+)}/g;function ht(G){return JSON.parse(G)}function Et(G){return JSON.stringify(G)}const Cn=function(G){let j={},W={},fe={},te="";try{const ze=G.split(".");j=ht(q(ze[0])||""),W=ht(q(ze[1])||""),te=ze[2],fe=W.d||{},delete W.d}catch(ze){}return{header:j,claims:W,data:fe,signature:te}},fn=function(G){const W=Cn(G).claims;return!!W&&"object"==typeof W&&W.hasOwnProperty("iat")},Oo=function(G){const j=Cn(G).claims;return"object"==typeof j&&!0===j.admin};function cn(G,j){return Object.prototype.hasOwnProperty.call(G,j)}function Zt(G,j){if(Object.prototype.hasOwnProperty.call(G,j))return G[j]}function Ri(G){for(const j in G)if(Object.prototype.hasOwnProperty.call(G,j))return!1;return!0}function Ar(G,j,W){const fe={};for(const te in G)Object.prototype.hasOwnProperty.call(G,te)&&(fe[te]=j.call(W,G[te],te,G));return fe}function ms(G,j){if(G===j)return!0;const W=Object.keys(G),fe=Object.keys(j);for(const te of W){if(!fe.includes(te))return!1;const ze=G[te],Dt=j[te];if(cr(ze)&&cr(Dt)){if(!ms(ze,Dt))return!1}else if(ze!==Dt)return!1}for(const te of fe)if(!W.includes(te))return!1;return!0}function cr(G){return null!==G&&"object"==typeof G}function ko(G){const j=[];for(const[W,fe]of Object.entries(G))Array.isArray(fe)?fe.forEach(te=>{j.push(encodeURIComponent(W)+"="+encodeURIComponent(te))}):j.push(encodeURIComponent(W)+"="+encodeURIComponent(fe));return j.length?"&"+j.join("&"):""}function ur(G){const j={};return G.replace(/^\?/,"").split("&").forEach(fe=>{if(fe){const[te,ze]=fe.split("=");j[decodeURIComponent(te)]=decodeURIComponent(ze)}}),j}function Yo(G){const j=G.indexOf("?");if(!j)return"";const W=G.indexOf("#",j);return G.substring(j,W>0?W:void 0)}class Ao{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let j=1;j<this.blockSize;++j)this.pad_[j]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(j,W){W||(W=0);const fe=this.W_;if("string"==typeof j)for(let Vt=0;Vt<16;Vt++)fe[Vt]=j.charCodeAt(W)<<24|j.charCodeAt(W+1)<<16|j.charCodeAt(W+2)<<8|j.charCodeAt(W+3),W+=4;else for(let Vt=0;Vt<16;Vt++)fe[Vt]=j[W]<<24|j[W+1]<<16|j[W+2]<<8|j[W+3],W+=4;for(let Vt=16;Vt<80;Vt++){const Sn=fe[Vt-3]^fe[Vt-8]^fe[Vt-14]^fe[Vt-16];fe[Vt]=4294967295&(Sn<<1|Sn>>>31)}let Xt,Gn,te=this.chain_[0],ze=this.chain_[1],Dt=this.chain_[2],on=this.chain_[3],Yi=this.chain_[4];for(let Vt=0;Vt<80;Vt++){Vt<40?Vt<20?(Xt=on^ze&(Dt^on),Gn=1518500249):(Xt=ze^Dt^on,Gn=1859775393):Vt<60?(Xt=ze&Dt|on&(ze|Dt),Gn=2400959708):(Xt=ze^Dt^on,Gn=3395469782);const Sn=(te<<5|te>>>27)+Xt+Yi+Gn+fe[Vt]&4294967295;Yi=on,on=Dt,Dt=4294967295&(ze<<30|ze>>>2),ze=te,te=Sn}this.chain_[0]=this.chain_[0]+te&4294967295,this.chain_[1]=this.chain_[1]+ze&4294967295,this.chain_[2]=this.chain_[2]+Dt&4294967295,this.chain_[3]=this.chain_[3]+on&4294967295,this.chain_[4]=this.chain_[4]+Yi&4294967295}update(j,W){if(null==j)return;void 0===W&&(W=j.length);const fe=W-this.blockSize;let te=0;const ze=this.buf_;let Dt=this.inbuf_;for(;te<W;){if(0===Dt)for(;te<=fe;)this.compress_(j,te),te+=this.blockSize;if("string"==typeof j){for(;te<W;)if(ze[Dt]=j.charCodeAt(te),++Dt,++te,Dt===this.blockSize){this.compress_(ze),Dt=0;break}}else for(;te<W;)if(ze[Dt]=j[te],++Dt,++te,Dt===this.blockSize){this.compress_(ze),Dt=0;break}}this.inbuf_=Dt,this.total_+=W}digest(){const j=[];let W=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let te=this.blockSize-1;te>=56;te--)this.buf_[te]=255&W,W/=256;this.compress_(this.buf_);let fe=0;for(let te=0;te<5;te++)for(let ze=24;ze>=0;ze-=8)j[fe]=this.chain_[te]>>ze&255,++fe;return j}}function Ct(G,j){const W=new Pr(G,j);return W.subscribe.bind(W)}class Pr{constructor(j,W){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then(()=>{j(this)}).catch(fe=>{this.error(fe)})}next(j){this.forEachObserver(W=>{W.next(j)})}error(j){this.forEachObserver(W=>{W.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,W,fe){let te;if(void 0===j&&void 0===W&&void 0===fe)throw new Error("Missing Observer.");te=function _i(G,j){if("object"!=typeof G||null===G)return!1;for(const W of j)if(W in G&&"function"==typeof G[W])return!0;return!1}(j,["next","error","complete"])?j:{next:j,error:W,complete:fe},void 0===te.next&&(te.next=Zr),void 0===te.error&&(te.error=Zr),void 0===te.complete&&(te.complete=Zr);const ze=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?te.error(this.finalError):te.complete()}catch(Dt){}}),this.observers.push(te),ze}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let W=0;W<this.observers.length;W++)this.sendOne(W,j)}sendOne(j,W){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{W(this.observers[j])}catch(fe){"undefined"!=typeof console&&console.error&&console.error(fe)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Zr(){}const _s=function(G,j,W,fe){let te;if(fe<j?te="at least "+j:fe>W&&(te=0===W?"none":"no more than "+W),te)throw new Error(G+" failed: Was called with "+fe+(1===fe?" argument.":" arguments.")+" Expects "+te+".")};function An(G,j){return`${G} failed: ${j} argument `}function Ko(G,j,W,fe){if((!fe||W)&&"function"!=typeof W)throw new Error(An(G,j)+"must be a valid function.")}function Sa(G,j,W,fe){if((!fe||W)&&("object"!=typeof W||null===W))throw new Error(An(G,j)+"must be a valid context object.")}const Yt=function(G){const j=[];let W=0;for(let fe=0;fe<G.length;fe++){let te=G.charCodeAt(fe);if(te>=55296&&te<=56319){const ze=te-55296;fe++,B(fe<G.length,"Surrogate pair missing trail surrogate."),te=65536+(ze<<10)+(G.charCodeAt(fe)-56320)}te<128?j[W++]=te:te<2048?(j[W++]=te>>6|192,j[W++]=63&te|128):te<65536?(j[W++]=te>>12|224,j[W++]=te>>6&63|128,j[W++]=63&te|128):(j[W++]=te>>18|240,j[W++]=te>>12&63|128,j[W++]=te>>6&63|128,j[W++]=63&te|128)}return j},ct=function(G){let j=0;for(let W=0;W<G.length;W++){const fe=G.charCodeAt(W);fe<128?j++:fe<2048?j+=2:fe>=55296&&fe<=56319?(j+=4,W++):j+=3}return j};function Xs(G,j=1e3,W=2){const fe=j*Math.pow(W,G),te=Math.round(.5*fe*(Math.random()-.5)*2);return Math.min(144e5,fe+te)}function _t(G){return G&&G._delegate?G._delegate:G}function Zi(G,j){return new Promise((W,fe)=>{G.onsuccess=te=>{W(te.target.result)},G.onerror=te=>{var ze;fe(`${j}: ${null===(ze=te.target.error)||void 0===ze?void 0:ze.message}`)}})}class Gt{constructor(j){this._db=j,this.objectStoreNames=this._db.objectStoreNames}transaction(j,W){return new Je(this._db.transaction.call(this._db,j,W))}createObjectStore(j,W){return new Oe(this._db.createObjectStore(j,W))}close(){this._db.close()}}class Je{constructor(j){this._transaction=j,this.complete=new Promise((W,fe)=>{this._transaction.oncomplete=function(){W()},this._transaction.onerror=()=>{fe(this._transaction.error)},this._transaction.onabort=()=>{fe(this._transaction.error)}})}objectStore(j){return new Oe(this._transaction.objectStore(j))}}class Oe{constructor(j){this._store=j}index(j){return new tt(this._store.index(j))}createIndex(j,W,fe){return new tt(this._store.createIndex(j,W,fe))}get(j){return Zi(this._store.get(j),"Error reading from IndexedDB")}put(j,W){return Zi(this._store.put(j,W),"Error writing to IndexedDB")}delete(j){return Zi(this._store.delete(j),"Error deleting from IndexedDB")}clear(){return Zi(this._store.clear(),"Error clearing IndexedDB object store")}}class tt{constructor(j){this._index=j}get(j){return Zi(this._index.get(j),"Error reading from IndexedDB")}}function vt(G,j,W){return new Promise((fe,te)=>{try{const ze=indexedDB.open(G,j);ze.onsuccess=Dt=>{fe(new Gt(Dt.target.result))},ze.onerror=Dt=>{var on;te(`Error opening indexedDB: ${null===(on=Dt.target.error)||void 0===on?void 0:on.message}`)},ze.onupgradeneeded=Dt=>{W(new Gt(ze.result),Dt.oldVersion,Dt.newVersion,new Je(ze.transaction))}}catch(ze){te(`Error opening indexedDB: ${ze.message}`)}})}function Wt(G){return jt.apply(this,arguments)}function jt(){return(jt=(0,l.Z)(function*(G){return new Promise((j,W)=>{try{const fe=indexedDB.deleteDatabase(G);fe.onsuccess=()=>{j()},fe.onerror=te=>{var ze;W(`Error deleting indexedDB database "${G}": ${null===(ze=te.target.error)||void 0===ze?void 0:ze.message}`)}}catch(fe){W(`Error deleting indexedDB database "${G}": ${fe.message}`)}})})).apply(this,arguments)}},7522:(dt,Te,L)=>{var l=L(5e3);let ee=null;function B(){return ee}const J=new l.OlP("DocumentToken");let me=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function _e(){return(0,l.LFG)($)}()},providedIn:"platform"}),n})();const q=new l.OlP("Location Initialized");let $=(()=>{class n extends me{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(e){const i=B().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=B().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){ne()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){ne()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(J))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ye(){return new $((0,l.LFG)(J))}()},providedIn:"platform"}),n})();function ne(){return!!window.history.pushState}function ke(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Be(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function He(n){return n&&"?"!==n[0]?"?"+n:n}let pe=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function De(n){const t=(0,l.LFG)(J).location;return new Xe((0,l.LFG)(me),t&&t.origin||"")}()},providedIn:"root"}),n})();const it=new l.OlP("appBaseHref");let Xe=(()=>{class n extends pe{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ke(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+He(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const c=this.prepareExternalUrl(r+He(o));this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,o){const c=this.prepareExternalUrl(r+He(o));this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(me),l.LFG(it,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ie=(()=>{class n extends pe{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=ke(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let c=this.prepareExternalUrl(r+He(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,o){let c=this.prepareExternalUrl(r+He(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(me),l.LFG(it,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Me=(()=>{class n{constructor(e,i){this._subject=new l.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Be(Ge(r)),this._platformStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+He(i))}normalize(e){return n.stripTrailingSlash(function Ze(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Ge(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+He(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+He(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=He,n.joinWithSlash=ke,n.stripTrailingSlash=Be,n.\u0275fac=function(e){return new(e||n)(l.LFG(pe),l.LFG(me))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function xe(){return new Me((0,l.LFG)(pe),(0,l.LFG)(me))}()},providedIn:"root"}),n})();function Ge(n){return n.replace(/\/index.html$/,"")}var X=(()=>((X=X||{})[X.Decimal=0]="Decimal",X[X.Percent=1]="Percent",X[X.Currency=2]="Currency",X[X.Scientific=3]="Scientific",X))(),ae=(()=>((ae=ae||{})[ae.Zero=0]="Zero",ae[ae.One=1]="One",ae[ae.Two=2]="Two",ae[ae.Few=3]="Few",ae[ae.Many=4]="Many",ae[ae.Other=5]="Other",ae))(),ue=(()=>((ue=ue||{})[ue.Decimal=0]="Decimal",ue[ue.Group=1]="Group",ue[ue.List=2]="List",ue[ue.PercentSign=3]="PercentSign",ue[ue.PlusSign=4]="PlusSign",ue[ue.MinusSign=5]="MinusSign",ue[ue.Exponential=6]="Exponential",ue[ue.SuperscriptingExponent=7]="SuperscriptingExponent",ue[ue.PerMille=8]="PerMille",ue[ue.Infinity=9]="Infinity",ue[ue.NaN=10]="NaN",ue[ue.TimeSeparator=11]="TimeSeparator",ue[ue.CurrencyDecimal=12]="CurrencyDecimal",ue[ue.CurrencyGroup=13]="CurrencyGroup",ue))();function Zt(n,t){const e=(0,l.cg1)(n),i=e[l.wAp.NumberSymbols][t];if(void 0===i){if(t===ue.CurrencyDecimal)return e[l.wAp.NumberSymbols][ue.Decimal];if(t===ue.CurrencyGroup)return e[l.wAp.NumberSymbols][ue.Group]}return i}const ur=l.kL8,Gn=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Ro(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}class pn{}let ys=(()=>{class n extends pn{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(ur(i||this.locale)(e)){case ae.Zero:return"zero";case ae.One:return"one";case ae.Two:return"two";case ae.Few:return"few";case ae.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.soG))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function ea(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}let dr=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new mn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){ec("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){ec("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class mn{constructor(){this.$implicit=null,this.ngIf=null}}function ec(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(t)}'.`)}class tc{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Kr=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),Rr=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new tc(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(Kr,9))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})();function ci(n,t){return new l.vHH(2100,"")}class Wd{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class Om{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}onDestroy(t){}}const es=new Om,km=new Wd;let su=(()=>{class n{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,l.QGY)(e))return es;if((0,l.F4k)(e))return km;throw ci()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.sBO,16))},n.\u0275pipe=l.Yjl({name:"async",type:n,pure:!1}),n})(),ts=(()=>{class n{constructor(e){this._locale=e}transform(e,i,r){if(!function ia(n){return!(null==n||""===n||n!=n)}(e))return null;r=r||this._locale;try{return function Ut(n,t,e){return function gl(n,t,e,i,r,o,c=!1){let d="",p=!1;if(isFinite(n)){let v=function vs(n){let i,r,o,c,d,t=Math.abs(n)+"",e=0;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(o=t.search(/e/i))>0?(r<0&&(r=o),r+=+t.slice(o+1),t=t.substring(0,o)):r<0&&(r=t.length),o=0;"0"===t.charAt(o);o++);if(o===(d=t.length))i=[0],r=1;else{for(d--;"0"===t.charAt(d);)d--;for(r-=o,i=[],c=0;o<=d;o++,c++)i[c]=Number(t.charAt(o))}return r>22&&(i=i.splice(0,21),e=r-1,r=1),{digits:i,exponent:e,integerLen:r}}(n);c&&(v=function Li(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(v));let M=t.minInt,E=t.minFrac,O=t.maxFrac;if(o){const Re=o.match(Gn);if(null===Re)throw new Error(`${o} is not a valid digit info`);const We=Re[1],Le=Re[3],St=Re[5];null!=We&&(M=Ro(We)),null!=Le&&(E=Ro(Le)),null!=St?O=Ro(St):null!=Le&&E>O&&(O=E)}!function li(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let i=n.digits,r=i.length-n.integerLen;const o=Math.min(Math.max(t,r),e);let c=o+n.integerLen,d=i[c];if(c>0){i.splice(Math.max(n.integerLen,c));for(let E=c;E<i.length;E++)i[E]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,c=o+1),i[0]=0;for(let E=1;E<c;E++)i[E]=0}if(d>=5)if(c-1<0){for(let E=0;E>c;E--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[c-1]++;for(;r<Math.max(0,o);r++)i.push(0);let p=0!==o;const v=t+n.integerLen,M=i.reduceRight(function(E,O,R,V){return V[R]=(O+=E)<10?O:O-10,p&&(0===V[R]&&R>=v?V.pop():p=!1),O>=10?1:0},0);M&&(i.unshift(M),n.integerLen++)}(v,E,O);let R=v.digits,V=v.integerLen;const Z=v.exponent;let re=[];for(p=R.every(Re=>!Re);V<M;V++)R.unshift(0);for(;V<0;V++)R.unshift(0);V>0?re=R.splice(V,R.length):(re=R,R=[0]);const Pe=[];for(R.length>=t.lgSize&&Pe.unshift(R.splice(-t.lgSize,R.length).join(""));R.length>t.gSize;)Pe.unshift(R.splice(-t.gSize,R.length).join(""));R.length&&Pe.unshift(R.join("")),d=Pe.join(Zt(e,i)),re.length&&(d+=Zt(e,r)+re.join("")),Z&&(d+=Zt(e,ue.Exponential)+"+"+Z)}else d=Zt(e,ue.Infinity);return d=n<0&&!p?t.negPre+d+t.negSuf:t.posPre+d+t.posSuf,d}(n,function Tn(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(";"),r=i[0],o=i[1],c=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],d=c[0],p=c[1]||"";e.posPre=d.substr(0,d.indexOf("#"));for(let M=0;M<p.length;M++){const E=p.charAt(M);"0"===E?e.minFrac=e.maxFrac=M+1:"#"===E?e.maxFrac=M+1:e.posSuf+=E}const v=d.split(",");if(e.gSize=v[1]?v[1].length:0,e.lgSize=v[2]||v[1]?(v[2]||v[1]).length:0,o){const M=r.length-e.posPre.length-e.posSuf.length,E=o.indexOf("#");e.negPre=o.substr(0,E).replace(/'/g,""),e.negSuf=o.substr(E+M).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}(function Ri(n,t){return(0,l.cg1)(n)[l.wAp.NumberFormats][t]}(t,X.Decimal),Zt(t,ue.MinusSign)),t,ue.Group,ue.Decimal,e)}(function _l(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(e),r,i)}catch(o){throw ci()}}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.soG,16))},n.\u0275pipe=l.Yjl({name:"number",type:n,pure:!0}),n})();let Nn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[{provide:pn,useClass:ys}]}),n})();const Ms="browser";function Bi(n){return"server"===n}let lc=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new cc((0,l.LFG)(J),window)}),n})();class cc{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function vl(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const c=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=ns(this.window.history)||ns(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function ns(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class In{}class xs extends class Oa extends class be{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function oe(n){ee||(ee=n)}(new xs)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Xd(){return _n=_n||document.querySelector("base"),_n?_n.getAttribute("href"):null}();return null==e?null:function oa(n){ra=ra||document.createElement("a"),ra.setAttribute("href",n);const t=ra.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){_n=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return ea(document.cookie,t)}}let ra,_n=null;const Qi=new l.OlP("TRANSITION_ID"),yl=[{provide:l.ip1,useFactory:function ei(n,t,e){return()=>{e.get(l.CZH).donePromise.then(()=>{const i=B(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[Qi,J,l.zs3],multi:!0}];class po{static init(){(0,l.VLi)(new po)}addToWindow(t){l.dqk.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},l.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(i=>{const r=l.dqk.getAllAngularTestabilities();let o=r.length,c=!1;const d=function(p){c=c||p,o--,0==o&&i(c)};r.forEach(function(p){p.whenStable(d)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?B().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Xi=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Es=new l.OlP("EventManagerPlugins");let is=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const c=r[o];if(c.supports(e))return this._eventNameToPlugin.set(e,c),c}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Es),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class uc{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=B().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let Lr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ds=(()=>{class n extends Lr{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(o=>{const c=this._doc.createElement("style");c.textContent=o,r.push(i.appendChild(c))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Ss),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Ss))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(J))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Ss(n){B().remove(n)}const yt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},dc=/%COMP%/g;function Se(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Se(n,r,e):(r=r.replace(dc,n),e.push(r))}return e}function zt(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Ln=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new ka(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case l.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new fu(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case l.ifc.ShadowDom:return new pu(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Se(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(is),l.LFG(Ds),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class ka{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(yt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=yt[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=yt[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(l.JOm.DashCase|l.JOm.Important)?t.style.setProperty(e,i,r&l.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&l.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,zt(i)):this.eventManager.addEventListener(t,e,zt(i))}}class fu extends ka{constructor(t,e,i,r){super(t),this.component=i;const o=Se(r+"-"+i.id,i.styles,[]);e.addStyles(o),this.contentAttr=function uu(n){return"_ngcontent-%COMP%".replace(dc,n)}(r+"-"+i.id),this.hostAttr=function du(n){return"_nghost-%COMP%".replace(dc,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class pu extends ka{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Se(r.id,r.styles,[]);for(let c=0;c<o.length;c++){const d=document.createElement("style");d.textContent=o[c],this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Jd=(()=>{class n extends uc{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(J))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const gu=["alt","control","meta","shift"],Ts={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Vi={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Xr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let mc=(()=>{class n extends uc{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),c=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>B().onAndCancel(e,o.domEventName,c))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let c="";if(gu.forEach(p=>{const v=i.indexOf(p);v>-1&&(i.splice(v,1),c+=p+".")}),c+=o,0!=i.length||0===o.length)return null;const d={};return d.domEventName=r,d.fullKey=c,d}static getEventFullKey(e){let i="",r=function Is(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Vi.hasOwnProperty(t)&&(t=Vi[t]))}return Ts[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),gu.forEach(o=>{o!=r&&Xr[o](e)&&(i+=o+".")}),i+=r,i}static eventCallback(e,i,r){return o=>{n.getEventFullKey(o)===e&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(J))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const _u=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:Ms},{provide:l.g9A,useValue:function go(){xs.makeCurrent(),po.init()},multi:!0},{provide:J,useFactory:function _c(){return(0,l.RDi)(document),document},deps:[]}]),Cl=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function mu(){return new l.qLn},deps:[]},{provide:Es,useClass:Jd,multi:!0,deps:[J,l.R0b,l.Lbi]},{provide:Es,useClass:mc,multi:!0,deps:[J]},{provide:Ln,useClass:Ln,deps:[is,Ds,l.AFp]},{provide:l.FYo,useExisting:Ln},{provide:Lr,useExisting:Ds},{provide:Ds,useClass:Ds,deps:[J]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b]},{provide:is,useClass:is,deps:[Es,l.R0b]},{provide:In,useClass:Xi,deps:[]}];let Pa=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:l.AFp,useValue:e.appId},{provide:Qi,useExisting:l.AFp},yl]}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(n,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:Cl,imports:[Nn,l.hGG]}),n})();"undefined"!=typeof window&&window;var Pn=L(8996),qn=L(3269);function et(...n){const t=(0,qn.yG)(n);return(0,Pn.D)(n,t)}var ft=L(7579);class Ui extends ft.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}var Rn=L(8306);const{isArray:Fa}=Array,{getPrototypeOf:lh,prototype:On,keys:up}=Object;function mo(n){if(1===n.length){const t=n[0];if(Fa(t))return{args:t,keys:null};if(function bc(n){return n&&"object"==typeof n&&lh(n)===On}(t)){const e=up(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var Vr=L(4671),pt=L(4004);const{isArray:ch}=Array;function Su(n){return(0,pt.U)(t=>function Du(n,t){return ch(t)?n(...t):n(t)}(n,t))}function ca(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var Mn=L(5403),ss=L(9672);function As(n,t,e){n?(0,ss.f)(e,n,t):t()}const No=(0,L(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var La=L(8189);function Lo(...n){return function Ml(){return(0,La.J)(1)}()((0,Pn.D)(n,(0,qn.yG)(n)))}var Bo=L(8421);function Iu(n){return new Rn.y(t=>{(0,Bo.Xf)(n()).subscribe(t)})}var Ps=L(515),zn=L(727),di=L(4482);function xl(){return(0,di.e)((n,t)=>{let e=null;n._refCount++;const i=(0,Mn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class uh extends Rn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,di.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new zn.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Mn.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=zn.w0.EMPTY)}return t}refCount(){return xl()(this)}}function un(n,t){return(0,di.e)((e,i)=>{let r=null,o=0,c=!1;const d=()=>c&&!r&&i.complete();e.subscribe((0,Mn.x)(i,p=>{null==r||r.unsubscribe();let v=0;const M=o++;(0,Bo.Xf)(n(p,M)).subscribe(r=(0,Mn.x)(i,E=>i.next(t?t(p,E,M,v++):E),()=>{r=null,d()}))},()=>{c=!0,d()}))})}var Si=L(5698);function fr(...n){const t=(0,qn.yG)(n);return(0,di.e)((e,i)=>{(t?Lo(n,e,t):Lo(n,e)).subscribe(i)})}function Cc(n,t,e,i,r){return(o,c)=>{let d=e,p=t,v=0;o.subscribe((0,Mn.x)(c,M=>{const E=v++;p=d?n(p,M,E):(d=!0,M),i&&c.next(p)},r&&(()=>{d&&c.next(p),c.complete()})))}}function pr(n,t){return(0,di.e)(Cc(n,t,arguments.length>=2,!0))}function Fn(n,t){return(0,di.e)((e,i)=>{let r=0;e.subscribe((0,Mn.x)(i,o=>n.call(t,o,r++)&&i.next(o)))})}function hi(n){return(0,di.e)((t,e)=>{let o,i=null,r=!1;i=t.subscribe((0,Mn.x)(e,void 0,void 0,c=>{o=(0,Bo.Xf)(n(c,hi(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}var yi=L(5577),gr=L(576);function _o(n,t){return(0,gr.m)(t)?(0,yi.z)(n,t,1):(0,yi.z)(n,1)}function Ba(n){return n<=0?()=>Ps.E:(0,di.e)((t,e)=>{let i=[];t.subscribe((0,Mn.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function dp(n=Wn){return(0,di.e)((t,e)=>{let i=!1;t.subscribe((0,Mn.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function Wn(){return new No}function hp(n){return(0,di.e)((t,e)=>{let i=!1;t.subscribe((0,Mn.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function Va(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Fn((r,o)=>n(r,o,i)):Vr.y,(0,Si.q)(1),e?hp(t):dp(()=>new No))}var ti=L(8505);function Ou(n){return(0,di.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}class Rs{constructor(t,e){this.id=t,this.url=e}}class dh extends Rs{constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class vo extends Rs{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class fp extends Rs{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Zn extends Rs{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ku extends Rs{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ua extends Rs{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bm extends Rs{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Au extends Rs{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hi extends Rs{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ur{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Pu{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Fs{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yo{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vo{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class El{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wc{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ht="primary";class hh{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ns(n){return new hh(n)}const mr="ngNavigationCancelingError";function Mc(n){const t=Error("NavigationCancelingError: "+n);return t[mr]=!0,t}function fh(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const c=i[o],d=n[o];if(c.startsWith(":"))r[c.substring(1)]=d;else if(c!==d.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Hr(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!ph(n[r],t[r]))return!1;return!0}function ph(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function xc(n){return Array.prototype.concat.apply([],n)}function Uo(n){return n.length>0?n[n.length-1]:null}function xn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function eo(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,Pn.D)(Promise.resolve(n)):et(n)}const Fu={exact:function D(n,t,e){if(!bt(n.segments,t.segments)||!K(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!D(n.children[i],t.children[i],e))return!1;return!0},subset:P},Ls={exact:function Nu(n,t){return Hr(n,t)},subset:function S(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>ph(n[e],t[e]))},ignored:()=>!0};function ja(n,t,e){return Fu[e.paths](n.root,t.root,e.matrixParams)&&Ls[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function P(n,t,e){return H(n,t,t.segments,e)}function H(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!bt(r,e)||t.hasChildren()||!K(r,e,i))}if(n.segments.length===e.length){if(!bt(n.segments,e)||!K(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!P(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(bt(n.segments,r)&&K(n.segments,r,i)&&n.children[Ht])&&H(n.children[Ht],t,o,i)}}function K(n,t,e){return t.every((i,r)=>Ls[e](n[r].parameters,i.parameters))}class ie{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ns(this.queryParams)),this._queryParamMap}toString(){return ni.serialize(this)}}class ge{constructor(t,e){this.segments=t,this.children=e,this.parent=null,xn(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return as(this)}}class Ke{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ns(this.parameters)),this._parameterMap}toString(){return Bu(this)}}function bt(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class Pt{}class fi{parse(t){const e=new Hm(t);return new ie(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Bs(t.root,!0)}`,i=function Um(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${ji(e)}=${ji(r)}`).join("&"):`${ji(e)}=${ji(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function Vs(n){return encodeURI(n)}(t.fragment)}`:""}`}}const ni=new fi;function as(n){return n.segments.map(t=>Bu(t)).join("/")}function Bs(n,t){if(!n.hasChildren())return as(n);if(t){const e=n.children[Ht]?Bs(n.children[Ht],!1):"",i=[];return xn(n.children,(r,o)=>{o!==Ht&&i.push(`${o}:${Bs(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Jt(n,t){let e=[];return xn(n.children,(i,r)=>{r===Ht&&(e=e.concat(t(i,r)))}),xn(n.children,(i,r)=>{r!==Ht&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===Ht?[Bs(n.children[Ht],!1)]:[`${r}:${Bs(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ht]?`${as(n)}/${e[0]}`:`${as(n)}/(${e.join("//")})`}}function to(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ji(n){return to(n).replace(/%3B/gi,";")}function Ho(n){return to(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Lu(n){return decodeURIComponent(n)}function pp(n){return Lu(n.replace(/\+/g,"%20"))}function Bu(n){return`${Ho(n.path)}${function Ec(n){return Object.keys(n).map(t=>`;${Ho(t)}=${Ho(n[t])}`).join("")}(n.parameters)}`}const Vy=/^[^\/()?;=#]+/;function gh(n){const t=n.match(Vy);return t?t[0]:""}const za=/^[^=?&#]+/,Uy=/^[^&#]+/;class Hm{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ge([],{}):new ge([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Ht]=new ge(t,e)),i}parseSegment(){const t=gh(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Ke(Lu(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=gh(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=gh(this.remaining);r&&(i=r,this.capture(i))}t[Lu(e)]=Lu(i)}parseQueryParam(t){const e=function Vu(n){const t=n.match(za);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const c=function Hy(n){const t=n.match(Uy);return t?t[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=pp(e),o=pp(i);if(t.hasOwnProperty(r)){let c=t[r];Array.isArray(c)||(c=[c],t[r]=c),c.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=gh(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let o;i.indexOf(":")>-1?(o=i.substr(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Ht);const c=this.parseChildren();e[o]=1===Object.keys(c).length?c[Ht]:new ge([],c),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Uu{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=jm(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=jm(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=gp(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return gp(t,this._root).map(e=>e.value)}}function jm(n,t){if(n===t.value)return t;for(const e of t.children){const i=jm(n,e);if(i)return i}return null}function gp(n,t){if(n===t.value)return[t];for(const e of t.children){const i=gp(n,e);if(i.length)return i.unshift(t),i}return[]}class da{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Dc(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Hu extends Uu{constructor(t,e){super(t),this.snapshot=e,yh(this,t)}toString(){return this.snapshot.toString()}}function mh(n,t){const e=function Sc(n,t){const c=new Sl([],{},{},"",{},Ht,t,null,n.root,-1,{});return new vh("",new da(c,[]))}(n,t),i=new Ui([new Ke("",{})]),r=new Ui({}),o=new Ui({}),c=new Ui({}),d=new Ui(""),p=new Dl(i,r,c,d,o,Ht,t,e.root);return p.snapshot=e.root,new Hu(new da(p,[]),e)}class Dl{constructor(t,e,i,r,o,c,d,p){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=c,this.component=d,this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,pt.U)(t=>Ns(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,pt.U)(t=>Ns(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function _h(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function uM(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Sl{constructor(t,e,i,r,o,c,d,p,v,M,E){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=c,this.component=d,this.routeConfig=p,this._urlSegment=v,this._lastPathIndex=M,this._resolve=E}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ns(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ns(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class vh extends Uu{constructor(t,e){super(e),this.url=t,yh(this,e)}toString(){return mp(this._root)}}function yh(n,t){t.value._routerState=n,t.children.forEach(e=>yh(n,e))}function mp(n){const t=n.children.length>0?` { ${n.children.map(mp).join(", ")} } `:"";return`${n.value}${t}`}function ju(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Hr(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Hr(t.params,e.params)||n.params.next(e.params),function ua(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Hr(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Hr(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function ha(n,t){const e=Hr(n.params,t.params)&&function at(n,t){return bt(n,t)&&n.every((e,i)=>Hr(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||ha(n.parent,t.parent))}function zu(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function zy(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return zu(n,i,r);return zu(n,i)})}(n,t,e);return new da(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const c=o.route;return c.value._futureSnapshot=t.value,c.children=t.children.map(d=>zu(n,d)),c}}const i=function _p(n){return new Dl(new Ui(n.url),new Ui(n.params),new Ui(n.queryParams),new Ui(n.fragment),new Ui(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>zu(n,o));return new da(i,r)}}function no(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Us(n){return"object"==typeof n&&null!=n&&n.outlets}function Gu(n,t,e,i,r){let o={};return i&&xn(i,(c,d)=>{o[d]=Array.isArray(c)?c.map(p=>`${p}`):`${c}`}),new ie(e.root===n?t:zm(e.root,n,t),o,r)}function zm(n,t,e){const i={};return xn(n.children,(r,o)=>{i[o]=r===t?e:zm(r,t,e)}),new ge(n.segments,i)}class bh{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&no(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(Us);if(r&&r!==Uo(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ch{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function qm(n,t,e){if(n||(n=new ge([],{})),0===n.segments.length&&n.hasChildren())return vp(n,t,e);const i=function Tl(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const c=n.segments[r],d=e[i];if(Us(d))break;const p=`${d}`,v=i<e.length-1?e[i+1]:null;if(r>0&&void 0===p)break;if(p&&v&&"object"==typeof v&&void 0===v.outlets){if(!yp(p,v,c))return o;i+=2}else{if(!yp(p,{},c))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new ge(n.segments.slice(0,i.pathIndex),{});return o.children[Ht]=new ge(n.segments.slice(i.pathIndex),n.children),vp(o,0,r)}return i.match&&0===r.length?new ge(n.segments,{}):i.match&&!n.hasChildren()?Wm(n,t,e):i.match?vp(n,0,r):Wm(n,t,e)}function vp(n,t,e){if(0===e.length)return new ge(n.segments,{});{const i=function qy(n){return Us(n[0])?n[0].outlets:{[Ht]:n}}(e),r={};return xn(i,(o,c)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[c]=qm(n.children[c],t,o))}),xn(n.children,(o,c)=>{void 0===i[c]&&(r[c]=o)}),new ge(n.segments,r)}}function Wm(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(Us(o)){const p=Wy(o.outlets);return new ge(i,p)}if(0===r&&no(e[0])){i.push(new Ke(n.segments[t].path,Ga(e[0]))),r++;continue}const c=Us(o)?o.outlets[Ht]:`${o}`,d=r<e.length-1?e[r+1]:null;c&&d&&no(d)?(i.push(new Ke(c,Ga(d))),r+=2):(i.push(new Ke(c,{})),r++)}return new ge(i,{})}function Wy(n){const t={};return xn(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=Wm(new ge([],{}),0,e))}),t}function Ga(n){const t={};return xn(n,(e,i)=>t[i]=`${e}`),t}function yp(n,t,e){return n==e.path&&Hr(t,e.parameters)}class $u{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),ju(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Dc(e);t.children.forEach(o=>{const c=o.value.outlet;this.deactivateRoutes(o,r[c],i),delete r[c]}),xn(r,(o,c)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(t,e,c.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Dc(t);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],r);if(i&&i.outlet){const c=i.outlet.detach(),d=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:c,route:t,contexts:d})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Dc(t);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=Dc(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new El(o.value.snapshot))}),t.children.length&&this.forwardEvent(new yo(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(ju(r),r===o)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,c.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const d=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(d.contexts),c.attachRef=d.componentRef,c.route=d.route.value,c.outlet&&c.outlet.attach(d.componentRef,d.route.value),ju(d.route.value),this.activateChildRoutes(t,null,c.children)}else{const d=function Zm(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),p=d?d.module.componentFactoryResolver:null;c.attachRef=null,c.route=r,c.resolver=p,c.outlet&&c.outlet.activateWith(r,p),this.activateChildRoutes(t,null,c.children)}}else this.activateChildRoutes(t,null,i)}}class Tc{constructor(t,e){this.routes=t,this.module=e}}function fa(n){return"function"==typeof n}function $a(n){return n instanceof ie}const wh=Symbol("INITIAL_VALUE");function qu(){return un(n=>function Na(...n){const t=(0,qn.yG)(n),e=(0,qn.jO)(n),{args:i,keys:r}=mo(n);if(0===i.length)return(0,Pn.D)([],t);const o=new Rn.y(function Jr(n,t,e=Vr.y){return i=>{As(t,()=>{const{length:r}=n,o=new Array(r);let c=r,d=r;for(let p=0;p<r;p++)As(t,()=>{const v=(0,Pn.D)(n[p],t);let M=!1;v.subscribe((0,Mn.x)(i,E=>{o[p]=E,M||(M=!0,d--),d||i.next(e(o.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,t,r?c=>ca(r,c):Vr.y));return e?o.pipe(Su(e)):o}(n.map(t=>t.pipe((0,Si.q)(1),fr(wh)))).pipe(pr((t,e)=>{let i=!1;return e.reduce((r,o,c)=>r!==wh?r:(o===wh&&(i=!0),i||!1!==o&&c!==e.length-1&&!$a(o)?r:o),t)},wh),Fn(t=>t!==wh),(0,pt.U)(t=>$a(t)?t:!0===t),(0,Si.q)(1)))}class Mh{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Wu,this.attachRef=null}}class Wu{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Mh,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let Mp=(()=>{class n{constructor(e,i,r,o,c){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=o||Ht,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const c=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),d=this.parentContexts.getOrCreateContext(this.name).children,p=new xp(e,d,this.location.injector);this.activated=this.location.createComponent(c,this.location.length,p),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Wu),l.Y36(l.s_b),l.Y36(l._Vd),l.$8M("name"),l.Y36(l.sBO))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class xp{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Dl?this.route:t===Wu?this.childContexts:this.parent.get(t,e)}}let xh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&l._UZ(0,"router-outlet")},directives:[Mp],encapsulation:2}),n})();function Ep(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];Eh(i,Zu(t,i))}}function Eh(n,t){n.children&&Ep(n.children,t)}function Zu(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function Yu(n){const t=n.children&&n.children.map(Yu),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Ht&&(e.component=xh),e}function zo(n){return n.outlet||Ht}function ii(n,t){const e=n.filter(i=>zo(i)===t);return e.push(...n.filter(i=>zo(i)!==t)),e}const Dp={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Dh(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},Dp):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const o=(t.matcher||fh)(e,n,t);if(!o)return Object.assign({},Dp);const c={};xn(o.posParams,(p,v)=>{c[v]=p.path});const d=o.consumed.length>0?Object.assign(Object.assign({},c),o.consumed[o.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:o.consumed,lastChild:o.consumed.length,parameters:d,positionalParamSegments:null!==(i=o.posParams)&&void 0!==i?i:{}}}function Ic(n,t,e,i,r="corrected"){if(e.length>0&&function Sh(n,t,e){return e.some(i=>Ku(n,t,i)&&zo(i)!==Ht)}(n,e,i)){const c=new ge(t,function Zy(n,t,e,i){const r={};r[Ht]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&zo(o)!==Ht){const c=new ge([],{});c._sourceSegment=n,c._segmentIndexShift=t.length,r[zo(o)]=c}return r}(n,t,i,new ge(e,n.children)));return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:[]}}if(0===e.length&&function Yy(n,t,e){return e.some(i=>Ku(n,t,i))}(n,e,i)){const c=new ge(n.segments,function Ym(n,t,e,i,r,o){const c={};for(const d of i)if(Ku(n,e,d)&&!r[zo(d)]){const p=new ge([],{});p._sourceSegment=n,p._segmentIndexShift="legacy"===o?n.segments.length:t.length,c[zo(d)]=p}return Object.assign(Object.assign({},r),c)}(n,t,e,i,n.children,r));return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:e}}const o=new ge(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function Ku(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Km(n,t,e,i){return!!(zo(n)===i||i!==Ht&&Ku(t,e,n))&&("**"===n.path||Dh(t,n,e).matched)}function Ky(n,t,e){return 0===t.length&&!n.children[e]}class Th{constructor(t){this.segmentGroup=t||null}}class Oc{constructor(t){this.urlTree=t}}function Ti(n){return new Rn.y(t=>t.error(new Th(n)))}function kc(n){return new Rn.y(t=>t.error(new Oc(n)))}function Ih(n){return new Rn.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class Il{constructor(t,e,i,r,o){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(l.h0i)}apply(){const t=Ic(this.urlTree.root,[],[],this.config).segmentGroup,e=new ge(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Ht).pipe((0,pt.U)(o=>this.createUrlTree(jr(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(hi(o=>{if(o instanceof Oc)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Th?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Ht).pipe((0,pt.U)(r=>this.createUrlTree(jr(r),t.queryParams,t.fragment))).pipe(hi(r=>{throw r instanceof Th?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new ge([],{[Ht]:t}):t;return new ie(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,pt.U)(o=>new ge([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,Pn.D)(r).pipe(_o(o=>{const c=i.children[o],d=ii(e,o);return this.expandSegmentGroup(t,d,c,o).pipe((0,pt.U)(p=>({segment:p,outlet:o})))}),pr((o,c)=>(o[c.outlet]=c.segment,o),{}),function By(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Fn((r,o)=>n(r,o,i)):Vr.y,Ba(1),e?hp(t):dp(()=>new No))}())}expandSegment(t,e,i,r,o,c){return(0,Pn.D)(i).pipe(_o(d=>this.expandSegmentAgainstRoute(t,e,i,d,r,o,c).pipe(hi(v=>{if(v instanceof Th)return et(null);throw v}))),Va(d=>!!d),hi((d,p)=>{if(d instanceof No||"EmptyError"===d.name){if(Ky(e,r,o))return et(new ge([],{}));throw new Th(e)}throw d}))}expandSegmentAgainstRoute(t,e,i,r,o,c,d){return Km(r,e,o,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,c):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,c):Ti(e):Ti(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?kc(o):this.lineralizeSegments(i,o).pipe((0,yi.z)(c=>{const d=new ge(c,{});return this.expandSegment(t,d,e,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,c){const{matched:d,consumedSegments:p,lastChild:v,positionalParamSegments:M}=Dh(e,r,o);if(!d)return Ti(e);const E=this.applyRedirectCommands(p,r.redirectTo,M);return r.redirectTo.startsWith("/")?kc(E):this.lineralizeSegments(r,E).pipe((0,yi.z)(O=>this.expandSegment(t,e,i,O.concat(o.slice(v)),c,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){if("**"===i.path)return i.loadChildren?(i._loadedConfig?et(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe((0,pt.U)(O=>(i._loadedConfig=O,new ge(r,{})))):et(new ge(r,{}));const{matched:c,consumedSegments:d,lastChild:p}=Dh(e,i,r);if(!c)return Ti(e);const v=r.slice(p);return this.getChildConfig(t,i,r).pipe((0,yi.z)(E=>{const O=E.module,R=E.routes,{segmentGroup:V,slicedSegments:Z}=Ic(e,d,v,R),re=new ge(V.segments,V.children);if(0===Z.length&&re.hasChildren())return this.expandChildren(O,R,re).pipe((0,pt.U)(Le=>new ge(d,Le)));if(0===R.length&&0===Z.length)return et(new ge(d,{}));const Pe=zo(i)===o;return this.expandSegment(O,re,R,Z,Pe?Ht:o,!0).pipe((0,pt.U)(We=>new ge(d.concat(We.segments),We.children)))}))}getChildConfig(t,e,i){return e.children?et(new Tc(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?et(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe((0,yi.z)(r=>r?this.configLoader.load(t.injector,e).pipe((0,pt.U)(o=>(e._loadedConfig=o,o))):function Sp(n){return new Rn.y(t=>t.error(Mc(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(e))):et(new Tc([],t))}runCanLoadGuards(t,e,i){const r=e.canLoad;return r&&0!==r.length?et(r.map(c=>{const d=t.get(c);let p;if(function hM(n){return n&&fa(n.canLoad)}(d))p=d.canLoad(e,i);else{if(!fa(d))throw new Error("Invalid CanLoad guard");p=d(e,i)}return eo(p)})).pipe(qu(),(0,ti.b)(c=>{if(!$a(c))return;const d=Mc(`Redirecting to "${this.urlSerializer.serialize(c)}"`);throw d.url=c,d}),(0,pt.U)(c=>!0===c)):et(!0)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return et(i);if(r.numberOfChildren>1||!r.children[Ht])return Ih(t.redirectTo);r=r.children[Ht]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new ie(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return xn(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const d=r.substring(1);i[o]=e[d]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let c={};return xn(e.children,(d,p)=>{c[p]=this.createSegmentGroup(t,d,i,r)}),new ge(o,c)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function jr(n){const t={};for(const i of Object.keys(n.children)){const o=jr(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function Tp(n){if(1===n.numberOfChildren&&n.children[Ht]){const t=n.children[Ht];return new ge(n.segments.concat(t.segments),t.children)}return n}(new ge(n.segments,t))}class Oh{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class kh{constructor(t,e){this.component=t,this.route=e}}function Ah(n,t,e){const i=n._root;return Ju(i,t?t._root:null,e,[i.value])}function Xu(n,t,e){const i=function Qm(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function Ju(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Dc(t);return n.children.forEach(c=>{(function Hs(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,c=t?t.value:null,d=e?e.getContext(n.value.outlet):null;if(c&&o.routeConfig===c.routeConfig){const p=function Xm(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!bt(n.url,t.url);case"pathParamsOrQueryParamsChange":return!bt(n.url,t.url)||!Hr(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ha(n,t)||!Hr(n.queryParams,t.queryParams);default:return!ha(n,t)}}(c,o,o.routeConfig.runGuardsAndResolvers);p?r.canActivateChecks.push(new Oh(i)):(o.data=c.data,o._resolvedData=c._resolvedData),Ju(n,t,o.component?d?d.children:null:e,i,r),p&&d&&d.outlet&&d.outlet.isActivated&&r.canDeactivateChecks.push(new kh(d.outlet.component,c))}else c&&ed(t,d,r),r.canActivateChecks.push(new Oh(i)),Ju(n,null,o.component?d?d.children:null:e,i,r)})(c,o[c.value.outlet],e,i.concat([c.value]),r),delete o[c.value.outlet]}),xn(o,(c,d)=>ed(c,e.getContext(d),r)),r}function ed(n,t,e){const i=Dc(n),r=n.value;xn(i,(o,c)=>{ed(o,r.component?t?t.children.getContext(c):null:t,e)}),e.canDeactivateChecks.push(new kh(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class td{}function Ph(n){return new Rn.y(t=>t.error(n))}class Jy{constructor(t,e,i,r,o,c){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=c}recognize(){const t=Ic(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Ht);if(null===e)return null;const i=new Sl([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ht,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new da(i,e),o=new vh(this.url,r);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(t){const e=t.value,i=_h(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const o of Object.keys(e.children)){const c=e.children[o],d=ii(t,o),p=this.processSegmentGroup(d,c,o);if(null===p)return null;i.push(...p)}const r=n_(i);return function Pp(n){n.sort((t,e)=>t.value.outlet===Ht?-1:e.value.outlet===Ht?1:t.value.outlet.localeCompare(e.value.outlet))}(r),r}processSegment(t,e,i,r){for(const o of t){const c=this.processSegmentAgainstRoute(o,e,i,r);if(null!==c)return c}return Ky(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!Km(t,e,i,r))return null;let o,c=[],d=[];if("**"===t.path){const R=i.length>0?Uo(i).parameters:{};o=new Sl(i,R,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,_(t),zo(t),t.component,t,y(e),g(e)+i.length,C(t))}else{const R=Dh(e,t,i);if(!R.matched)return null;c=R.consumedSegments,d=i.slice(R.lastChild),o=new Sl(c,R.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,_(t),zo(t),t.component,t,y(e),g(e)+c.length,C(t))}const p=function eb(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:v,slicedSegments:M}=Ic(e,c,d,p.filter(R=>void 0===R.redirectTo),this.relativeLinkResolution);if(0===M.length&&v.hasChildren()){const R=this.processChildren(p,v);return null===R?null:[new da(o,R)]}if(0===p.length&&0===M.length)return[new da(o,[])];const E=zo(t)===r,O=this.processSegment(p,v,M,E?Ht:r);return null===O?null:[new da(o,O)]}}function t_(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function n_(n){const t=[],e=new Set;for(const i of n){if(!t_(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=n_(i.children);t.push(new da(i.value,r))}return t.filter(i=>!e.has(i))}function y(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function g(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function _(n){return n.data||{}}function C(n){return n.resolve||{}}function je(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function wt(n){return un(t=>{const e=n(t);return e?(0,Pn.D)(e).pipe((0,pt.U)(()=>t)):et(t)})}class Go extends class Yn{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Ol=new l.OlP("ROUTES");class nd{constructor(t,e,i,r){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe((0,pt.U)(o=>{this.onLoadEndListener&&this.onLoadEndListener(e);const c=o.create(t);return new Tc(xc(c.injector.get(Ol,void 0,l.XFs.Self|l.XFs.Optional)).map(Yu),c)}),hi(o=>{throw e._loader$=void 0,o}));return e._loader$=new uh(r,()=>new ft.x).pipe(xl()),e._loader$}loadModuleFactory(t){return eo(t()).pipe((0,yi.z)(e=>e instanceof l.YKP?et(e):(0,Pn.D)(this.compiler.compileModuleAsync(e))))}}class Rp{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function tb(n){throw n}function qa(n,t,e){return t.parse("/")}function rd(n,t){return et(null)}const Fp={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Np={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let er=(()=>{class n{constructor(e,i,r,o,c,d,p){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=p,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ft.x,this.errorHandler=tb,this.malformedUriErrorHandler=qa,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:rd,afterPreactivation:rd},this.urlHandlingStrategy=new Rp,this.routeReuseStrategy=new Go,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=c.get(l.h0i),this.console=c.get(l.c2e);const E=c.get(l.R0b);this.isNgZoneEnabled=E instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(p),this.currentUrlTree=function Ru(){return new ie(new ge([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new nd(c,d,O=>this.triggerEvent(new Ur(O)),O=>this.triggerEvent(new Pu(O))),this.routerState=mh(this.currentUrlTree,this.rootComponentType),this.transitions=new Ui({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(Fn(r=>0!==r.id),(0,pt.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),un(r=>{let o=!1,c=!1;return et(r).pipe((0,ti.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.currentRawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),un(d=>{const p=this.browserUrlTree.toString(),v=!this.navigated||d.extractedUrl.toString()!==p||p!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||v)&&this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return Ac(d.source)&&(this.browserUrlTree=d.extractedUrl),et(d).pipe(un(E=>{const O=this.transitions.getValue();return i.next(new dh(E.id,this.serializeUrl(E.extractedUrl),E.source,E.restoredState)),O!==this.transitions.getValue()?Ps.E:Promise.resolve(E)}),function Qu(n,t,e,i){return un(r=>function _r(n,t,e,i,r){return new Il(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,pt.U)(o=>Object.assign(Object.assign({},r),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ti.b)(E=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:E.urlAfterRedirects})}),function I(n,t,e,i,r){return(0,yi.z)(o=>function e_(n,t,e,i,r="emptyOnly",o="legacy"){try{const c=new Jy(n,t,e,i,r,o).recognize();return null===c?Ph(new td):et(c)}catch(c){return Ph(c)}}(n,t,o.urlAfterRedirects,e(o.urlAfterRedirects),i,r).pipe((0,pt.U)(c=>Object.assign(Object.assign({},o),{targetSnapshot:c}))))}(this.rootComponentType,this.config,E=>this.serializeUrl(E),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ti.b)(E=>{if("eager"===this.urlUpdateStrategy){if(!E.extras.skipLocationChange){const R=this.urlHandlingStrategy.merge(E.urlAfterRedirects,E.rawUrl);this.setBrowserUrl(R,E)}this.browserUrlTree=E.urlAfterRedirects}const O=new ku(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);i.next(O)}));if(v&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:O,extractedUrl:R,source:V,restoredState:Z,extras:re}=d,Pe=new dh(O,this.serializeUrl(R),V,Z);i.next(Pe);const Re=mh(R,this.rootComponentType).snapshot;return et(Object.assign(Object.assign({},d),{targetSnapshot:Re,urlAfterRedirects:R,extras:Object.assign(Object.assign({},re),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=d.rawUrl,d.resolve(null),Ps.E}),wt(d=>{const{targetSnapshot:p,id:v,extractedUrl:M,rawUrl:E,extras:{skipLocationChange:O,replaceUrl:R}}=d;return this.hooks.beforePreactivation(p,{navigationId:v,appliedUrlTree:M,rawUrlTree:E,skipLocationChange:!!O,replaceUrl:!!R})}),(0,ti.b)(d=>{const p=new Ua(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(p)}),(0,pt.U)(d=>Object.assign(Object.assign({},d),{guards:Ah(d.targetSnapshot,d.currentSnapshot,this.rootContexts)})),function Op(n,t){return(0,yi.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:c}}=e;return 0===c.length&&0===o.length?et(Object.assign(Object.assign({},e),{guardsResult:!0})):function Qy(n,t,e,i){return(0,Pn.D)(n).pipe((0,yi.z)(r=>function pa(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?et(o.map(d=>{const p=Xu(d,t,r);let v;if(function wp(n){return n&&fa(n.canDeactivate)}(p))v=eo(p.canDeactivate(n,t,e,i));else{if(!fa(p))throw new Error("Invalid CanDeactivate guard");v=eo(p(n,t,e,i))}return v.pipe(Va())})).pipe(qu()):et(!0)}(r.component,r.route,e,t,i)),Va(r=>!0!==r,!0))}(c,i,r,n).pipe((0,yi.z)(d=>d&&function dM(n){return"boolean"==typeof n}(d)?function Jm(n,t,e,i){return(0,Pn.D)(t).pipe(_o(r=>Lo(function kp(n,t){return null!==n&&t&&t(new Fs(n)),et(!0)}(r.route.parent,i),function zi(n,t){return null!==n&&t&&t(new Vo(n)),et(!0)}(r.route,i),function Xy(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(c=>function Ip(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(c)).filter(c=>null!==c).map(c=>Iu(()=>et(c.guards.map(p=>{const v=Xu(p,c.node,e);let M;if(function Cp(n){return n&&fa(n.canActivateChild)}(v))M=eo(v.canActivateChild(i,n));else{if(!fa(v))throw new Error("Invalid CanActivateChild guard");M=eo(v(i,n))}return M.pipe(Va())})).pipe(qu())));return et(o).pipe(qu())}(n,r.path,e),function Ap(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return et(!0);const r=i.map(o=>Iu(()=>{const c=Xu(o,t,e);let d;if(function bp(n){return n&&fa(n.canActivate)}(c))d=eo(c.canActivate(t,n));else{if(!fa(c))throw new Error("Invalid CanActivate guard");d=eo(c(t,n))}return d.pipe(Va())}));return et(r).pipe(qu())}(n,r.route,e))),Va(r=>!0!==r,!0))}(i,o,n,t):et(d)),(0,pt.U)(d=>Object.assign(Object.assign({},e),{guardsResult:d})))})}(this.ngModule.injector,d=>this.triggerEvent(d)),(0,ti.b)(d=>{if($a(d.guardsResult)){const v=Mc(`Redirecting to "${this.serializeUrl(d.guardsResult)}"`);throw v.url=d.guardsResult,v}const p=new Bm(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.triggerEvent(p)}),Fn(d=>!!d.guardsResult||(this.restoreHistory(d),this.cancelNavigationTransition(d,""),!1)),wt(d=>{if(d.guards.canActivateChecks.length)return et(d).pipe((0,ti.b)(p=>{const v=new Au(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(v)}),un(p=>{let v=!1;return et(p).pipe(function F(n,t){return(0,yi.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return et(e);let o=0;return(0,Pn.D)(r).pipe(_o(c=>function Y(n,t,e,i){return function ce(n,t,e,i){const r=je(n);if(0===r.length)return et({});const o={};return(0,Pn.D)(r).pipe((0,yi.z)(c=>function rt(n,t,e,i){const r=Xu(n,t,i);return eo(r.resolve?r.resolve(t,e):r(t,e))}(n[c],t,e,i).pipe((0,ti.b)(d=>{o[c]=d}))),Ba(1),(0,yi.z)(()=>je(o).length===r.length?et(o):Ps.E))}(n._resolve,n,t,i).pipe((0,pt.U)(o=>(n._resolvedData=o,n.data=Object.assign(Object.assign({},n.data),_h(n,e).resolve),null)))}(c.route,i,n,t)),(0,ti.b)(()=>o++),Ba(1),(0,yi.z)(c=>o===r.length?et(e):Ps.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ti.b)({next:()=>v=!0,complete:()=>{v||(this.restoreHistory(p),this.cancelNavigationTransition(p,"At least one route resolver didn't emit any value."))}}))}),(0,ti.b)(p=>{const v=new Hi(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(v)}))}),wt(d=>{const{targetSnapshot:p,id:v,extractedUrl:M,rawUrl:E,extras:{skipLocationChange:O,replaceUrl:R}}=d;return this.hooks.afterPreactivation(p,{navigationId:v,appliedUrlTree:M,rawUrlTree:E,skipLocationChange:!!O,replaceUrl:!!R})}),(0,pt.U)(d=>{const p=function jy(n,t,e){const i=zu(n,t._root,e?e._root:void 0);return new Hu(i,t)}(this.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return Object.assign(Object.assign({},d),{targetRouterState:p})}),(0,ti.b)(d=>{this.currentUrlTree=d.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),this.routerState=d.targetRouterState,"deferred"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,d),this.browserUrlTree=d.urlAfterRedirects)}),((n,t,e)=>(0,pt.U)(i=>(new $u(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,d=>this.triggerEvent(d)),(0,ti.b)({next(){o=!0},complete(){o=!0}}),Ou(()=>{var d;o||c||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(d=this.currentNavigation)||void 0===d?void 0:d.id)===r.id&&(this.currentNavigation=null)}),hi(d=>{if(c=!0,function Ha(n){return n&&n[mr]}(d)){const p=$a(d.url);p||(this.navigated=!0,this.restoreHistory(r,!0));const v=new fp(r.id,this.serializeUrl(r.extractedUrl),d.message);i.next(v),p?setTimeout(()=>{const M=this.urlHandlingStrategy.merge(d.url,this.rawUrlTree),E={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ac(r.source)};this.scheduleNavigation(M,"imperative",null,E,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const p=new Zn(r.id,this.serializeUrl(r.extractedUrl),d);i.next(p);try{r.resolve(this.errorHandler(d))}catch(v){r.reject(v)}}return Ps.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const o={replaceUrl:!0},c=(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null;if(c){const p=Object.assign({},c);delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(o.state=p)}const d=this.parseUrl(e.url);this.scheduleNavigation(d,i,c,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Ep(e),this.config=e.map(Yu),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:c,queryParamsHandling:d,preserveFragment:p}=i,v=r||this.routerState.root,M=p?this.currentUrlTree.fragment:c;let E=null;switch(d){case"merge":E=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":E=this.currentUrlTree.queryParams;break;default:E=o||null}return null!==E&&(E=this.removeEmptyProps(E)),function Gy(n,t,e,i,r){if(0===e.length)return Gu(t.root,t.root,t,i,r);const o=function $y(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new bh(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,c)=>{if("object"==typeof o&&null!=o){if(o.outlets){const d={};return xn(o.outlets,(p,v)=>{d[v]="string"==typeof p?p.split("/"):p}),[...r,{outlets:d}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===c?(o.split("/").forEach((d,p)=>{0==p&&"."===d||(0==p&&""===d?e=!0:".."===d?t++:""!=d&&r.push(d))}),r):[...r,o]},[]);return new bh(e,t,i)}(e);if(o.toRoot())return Gu(t.root,new ge([],{}),t,i,r);const c=function Gm(n,t,e){if(n.isAbsolute)return new Ch(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const o=e.snapshot._urlSegment;return new Ch(o,o===t.root,0)}const i=no(n.commands[0])?0:1;return function $m(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new Ch(i,!1,r-o)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(o,t,n),d=c.processChildren?vp(c.segmentGroup,c.index,o.commands):qm(c.segmentGroup,c.index,o.commands);return Gu(c.segmentGroup,d,t,i,r)}(v,this.currentUrlTree,e,E,null!=M?M:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=$a(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function nb(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},Fp):!1===i?Object.assign({},Np):i,$a(e))return ja(this.currentUrlTree,e,r);const o=this.parseUrl(e);return ja(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new vo(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,o,c){var d,p,v;if(this.disposed)return Promise.resolve(!1);const M=this.transitions.value,E=Ac(i)&&M&&!Ac(M.source),O=M.rawUrl.toString()===e.toString(),R=M.id===(null===(d=this.currentNavigation)||void 0===d?void 0:d.id);if(E&&O&&R)return Promise.resolve(!0);let Z,re,Pe;c?(Z=c.resolve,re=c.reject,Pe=c.promise):Pe=new Promise((Le,St)=>{Z=Le,re=St});const Re=++this.navigationId;let We;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),We=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(p=this.browserPageId)&&void 0!==p?p:0:(null!==(v=this.browserPageId)&&void 0!==v?v:0)+1):We=0,this.setTransition({id:Re,targetPageId:We,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:Z,reject:re,promise:Pe,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Pe.catch(Le=>Promise.reject(Le))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),o=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(e,i=!1){var r,o;if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===c?this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===c&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(c)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new fp(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Ac(n){return"imperative"!==n}let Lp=(()=>{class n{constructor(e,i,r,o,c){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=c,this.commands=null,this.onChanges=new ft.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:Fh(this.skipLocationChange),replaceUrl:Fh(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Fh(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(er),l.Y36(Dl),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&l.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[l.TTD]}),n})(),Rh=(()=>{class n{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new ft.x,this.subscription=e.events.subscribe(o=>{o instanceof vo&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,o,c){if(0!==e||i||r||o||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const d={skipLocationChange:Fh(this.skipLocationChange),replaceUrl:Fh(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,d),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Fh(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(er),l.Y36(Dl),l.Y36(pe))},n.\u0275dir=l.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&l.NdJ("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&l.uIk("target",i.target)("href",i.href,l.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[l.TTD]}),n})();function Fh(n){return""===n||!!n}let pM=(()=>{class n{constructor(e,i,r,o,c,d){this.router=e,this.element=i,this.renderer=r,this.cdr=o,this.link=c,this.linkWithHref=d,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new l.vpe,this.routerEventsSubscription=e.events.subscribe(p=>{p instanceof vo&&this.update()})}ngAfterContentInit(){et(this.links.changes,this.linksWithHrefs.changes,et(null)).pipe((0,La.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const i=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,Pn.D)(i).pipe((0,La.J)()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function gM(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(er),l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(l.sBO),l.Y36(Lp,8),l.Y36(Rh,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,r){if(1&e&&(l.Suo(r,Lp,5),l.Suo(r,Rh,5)),2&e){let o;l.iGM(o=l.CRH())&&(i.links=o),l.iGM(o=l.CRH())&&(i.linksWithHrefs=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[l.TTD]}),n})();class i_{}class r_{preload(t,e){return et(null)}}let _M=(()=>{class n{constructor(e,i,r,o){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=new nd(r,i,p=>e.triggerEvent(new Ur(p)),p=>e.triggerEvent(new Pu(p)))}setUpPreloading(){this.subscription=this.router.events.pipe(Fn(e=>e instanceof vo),_o(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(l.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i)if(o.loadChildren&&!o.canLoad&&o._loadedConfig){const c=o._loadedConfig;r.push(this.processRoutes(c.module,c.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(e,o)):o.children&&r.push(this.processRoutes(e,o.children));return(0,Pn.D)(r).pipe((0,La.J)(),(0,pt.U)(o=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?et(i._loadedConfig):this.loader.load(e.injector,i)).pipe((0,yi.z)(o=>(i._loadedConfig=o,this.processRoutes(o.module,o.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(er),l.LFG(l.Sil),l.LFG(l.zs3),l.LFG(i_))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),ib=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof dh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof vo&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof wc&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new wc(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Pc=new l.OlP("ROUTER_CONFIGURATION"),Rc=new l.OlP("ROUTER_FORROOT_GUARD"),vM=[Me,{provide:Pt,useClass:fi},{provide:er,useFactory:function wM(n,t,e,i,r,o,c={},d,p){const v=new er(null,n,t,e,i,r,xc(o));return d&&(v.urlHandlingStrategy=d),p&&(v.routeReuseStrategy=p),function ob(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(c,v),c.enableTracing&&v.events.subscribe(M=>{var E,O;null===(E=console.group)||void 0===E||E.call(console,`Router Event: ${M.constructor.name}`),console.log(M.toString()),console.log(M),null===(O=console.groupEnd)||void 0===O||O.call(console)}),v},deps:[Pt,Wu,Me,l.zs3,l.Sil,Ol,Pc,[class id{},new l.FiY],[class mt{},new l.FiY]]},Wu,{provide:Dl,useFactory:function MM(n){return n.routerState.root},deps:[er]},_M,r_,class mM{preload(t,e){return e().pipe(hi(()=>et(null)))}},{provide:Pc,useValue:{enableTracing:!1}}];function yM(){return new l.PXZ("Router",er)}let bM=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[vM,rb(e),{provide:Rc,useFactory:CM,deps:[[er,new l.FiY,new l.tp0]]},{provide:Pc,useValue:i||{}},{provide:pe,useFactory:dI,deps:[me,[new l.tBr(it),new l.FiY],Pc]},{provide:ib,useFactory:o_,deps:[er,lc,Pc]},{provide:i_,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:r_},{provide:l.PXZ,multi:!0,useFactory:yM},[Nh,{provide:l.ip1,multi:!0,useFactory:s_,deps:[Nh]},{provide:a_,useFactory:xM,deps:[Nh]},{provide:l.tb,multi:!0,useExisting:a_}]]}}static forChild(e){return{ngModule:n,providers:[rb(e)]}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Rc,8),l.LFG(er,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function o_(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new ib(n,t,e)}function dI(n,t,e={}){return e.useHash?new Ie(n,t):new Xe(n,t)}function CM(n){return"guarded"}function rb(n){return[{provide:l.deG,multi:!0,useValue:n},{provide:Ol,multi:!0,useValue:n}]}let Nh=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ft.x}appInitializer(){return this.injector.get(q,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(d=>i=d),o=this.injector.get(er),c=this.injector.get(Pc);return"disabled"===c.initialNavigation?(o.setUpLocationChangeListener(),i(!0)):"enabled"===c.initialNavigation||"enabledBlocking"===c.initialNavigation?(o.hooks.afterPreactivation=()=>this.initNavigation?et(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),o.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(Pc),r=this.injector.get(_M),o=this.injector.get(ib),c=this.injector.get(er),d=this.injector.get(l.z2F);e===d.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&c.initialNavigation(),r.setUpPreloading(),o.init(),c.resetRootComponentType(d.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function s_(n){return n.appInitializer.bind(n)}function xM(n){return n.bootstrapListener.bind(n)}const a_=new l.OlP("Router Initializer");let Bp=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-about"]],decls:176,vars:0,consts:[["id","main"],["id","breadcrumbs",1,"breadcrumbs"],[1,"container"],["href","index.html"],["id","about",1,"about"],[1,"row"],[1,"col-lg-6"],["src","assets/img/about.jpg","alt","",1,"img-fluid"],[1,"col-lg-6","pt-4","pt-lg-0","content"],[1,"fst-italic"],[1,"bi","bi-check-circle"],["id","counts",1,"counts"],[1,"row","no-gutters"],[1,"col-lg-3","col-md-6","d-md-flex","align-items-md-stretch"],[1,"count-box"],[1,"bi","bi-emoji-smile"],["data-purecounter-start","0","data-purecounter-end","232","data-purecounter-duration","1",1,"purecounter"],["href","#"],[1,"bi","bi-journal-richtext"],["data-purecounter-start","0","data-purecounter-end","521","data-purecounter-duration","1",1,"purecounter"],[1,"bi","bi-headset"],["data-purecounter-start","0","data-purecounter-end","1463","data-purecounter-duration","1",1,"purecounter"],[1,"bi","bi-people"],["data-purecounter-start","0","data-purecounter-end","15","data-purecounter-duration","1",1,"purecounter"],["id","clients",1,"clients"],[1,"section-title"],[1,"clients-slider","swiper"],[1,"swiper-wrapper","align-items-center"],[1,"swiper-slide"],["src","assets/img/clients/client-1.png","alt","",1,"img-fluid"],["src","assets/img/clients/client-2.png","alt","",1,"img-fluid"],["src","assets/img/clients/client-3.png","alt","",1,"img-fluid"],["src","assets/img/clients/client-4.png","alt","",1,"img-fluid"],["src","assets/img/clients/client-5.png","alt","",1,"img-fluid"],["src","assets/img/clients/client-6.png","alt","",1,"img-fluid"],["src","assets/img/clients/client-7.png","alt","",1,"img-fluid"],["src","assets/img/clients/client-8.png","alt","",1,"img-fluid"],[1,"swiper-pagination"],["id","testimonials",1,"testimonials"],[1,"testimonial-item"],["src","assets/img/testimonials/testimonials-1.jpg","alt","",1,"testimonial-img"],[1,"bx","bxs-quote-alt-left","quote-icon-left"],[1,"bx","bxs-quote-alt-right","quote-icon-right"],[1,"testimonial-item","mt-4","mt-lg-0"],["src","assets/img/testimonials/testimonials-2.jpg","alt","",1,"testimonial-img"],[1,"testimonial-item","mt-4"],["src","assets/img/testimonials/testimonials-3.jpg","alt","",1,"testimonial-img"],["src","assets/img/testimonials/testimonials-4.jpg","alt","",1,"testimonial-img"],["src","assets/img/testimonials/testimonials-5.jpg","alt","",1,"testimonial-img"],["src","assets/img/testimonials/testimonials-6.jpg","alt","",1,"testimonial-img"]],template:function(e,i){1&e&&(l.TgZ(0,"main",0)(1,"section",1)(2,"div",2)(3,"ol")(4,"li")(5,"a",3),l._uU(6,"Home"),l.qZA()(),l.TgZ(7,"li"),l._uU(8,"About Us"),l.qZA()(),l.TgZ(9,"h2"),l._uU(10,"About Us"),l.qZA()()(),l.TgZ(11,"section",4)(12,"div",2)(13,"div",5)(14,"div",6),l._UZ(15,"img",7),l.qZA(),l.TgZ(16,"div",8)(17,"h3"),l._uU(18,"Voluptatem dignissimos provident quasi corporis voluptates sit assumenda."),l.qZA(),l.TgZ(19,"p",9),l._uU(20," Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. "),l.qZA(),l.TgZ(21,"ul")(22,"li"),l._UZ(23,"i",10),l._uU(24," Ullamco laboris nisi ut aliquip ex ea commodo consequat."),l.qZA(),l.TgZ(25,"li"),l._UZ(26,"i",10),l._uU(27," Duis aute irure dolor in reprehenderit in voluptate velit."),l.qZA(),l.TgZ(28,"li"),l._UZ(29,"i",10),l._uU(30," Ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate trideta storacalaperda mastiro dolore eu fugiat nulla pariatur."),l.qZA()(),l.TgZ(31,"p"),l._uU(32," Ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum "),l.qZA()()()()(),l.TgZ(33,"section",11)(34,"div",2)(35,"div",12)(36,"div",13)(37,"div",14),l._UZ(38,"i",15)(39,"span",16),l.TgZ(40,"p")(41,"strong"),l._uU(42,"Happy Clients"),l.qZA(),l._uU(43," consequuntur quae qui deca rode"),l.qZA(),l.TgZ(44,"a",17),l._uU(45,"Find out more \xbb"),l.qZA()()(),l.TgZ(46,"div",13)(47,"div",14),l._UZ(48,"i",18)(49,"span",19),l.TgZ(50,"p")(51,"strong"),l._uU(52,"Projects"),l.qZA(),l._uU(53," adipisci atque cum quia aut numquam delectus"),l.qZA(),l.TgZ(54,"a",17),l._uU(55,"Find out more \xbb"),l.qZA()()(),l.TgZ(56,"div",13)(57,"div",14),l._UZ(58,"i",20)(59,"span",21),l.TgZ(60,"p")(61,"strong"),l._uU(62,"Hours Of Support"),l.qZA(),l._uU(63," aut commodi quaerat. Aliquam ratione"),l.qZA(),l.TgZ(64,"a",17),l._uU(65,"Find out more \xbb"),l.qZA()()(),l.TgZ(66,"div",13)(67,"div",14),l._UZ(68,"i",22)(69,"span",23),l.TgZ(70,"p")(71,"strong"),l._uU(72,"Hard Workers"),l.qZA(),l._uU(73," rerum asperiores dolor molestiae doloribu"),l.qZA(),l.TgZ(74,"a",17),l._uU(75,"Find out more \xbb"),l.qZA()()()()()(),l.TgZ(76,"section",24)(77,"div",2)(78,"div",25)(79,"h2"),l._uU(80,"Clients"),l.qZA(),l.TgZ(81,"p"),l._uU(82,"Magnam dolores commodi suscipit. Necessitatibus eius consequatur ex aliquid fuga eum quidem. Sit sint consectetur velit. Quisquam quos quisquam cupiditate. Et nemo qui impedit suscipit alias ea. Quia fugiat sit in iste officiis commodi quidem hic quas."),l.qZA()(),l.TgZ(83,"div",26)(84,"div",27)(85,"div",28),l._UZ(86,"img",29),l.qZA(),l.TgZ(87,"div",28),l._UZ(88,"img",30),l.qZA(),l.TgZ(89,"div",28),l._UZ(90,"img",31),l.qZA(),l.TgZ(91,"div",28),l._UZ(92,"img",32),l.qZA(),l.TgZ(93,"div",28),l._UZ(94,"img",33),l.qZA(),l.TgZ(95,"div",28),l._UZ(96,"img",34),l.qZA(),l.TgZ(97,"div",28),l._UZ(98,"img",35),l.qZA(),l.TgZ(99,"div",28),l._UZ(100,"img",36),l.qZA()(),l._UZ(101,"div",37),l.qZA()()(),l.TgZ(102,"section",38)(103,"div",2)(104,"div",25)(105,"h2"),l._uU(106,"Testimonials"),l.qZA(),l.TgZ(107,"p"),l._uU(108,"Magnam dolores commodi suscipit. Necessitatibus eius consequatur ex aliquid fuga eum quidem. Sit sint consectetur velit. Quisquam quos quisquam cupiditate. Et nemo qui impedit suscipit alias ea. Quia fugiat sit in iste officiis commodi quidem hic quas."),l.qZA()(),l.TgZ(109,"div",5)(110,"div",6)(111,"div",39),l._UZ(112,"img",40),l.TgZ(113,"h3"),l._uU(114,"Saul Goodman"),l.qZA(),l.TgZ(115,"h4"),l._uU(116,"Ceo & Founder"),l.qZA(),l.TgZ(117,"p"),l._UZ(118,"i",41),l._uU(119," Proin iaculis purus consequat sem cure digni ssim donec porttitora entum suscipit rhoncus. Accusantium quam, ultricies eget id, aliquam eget nibh et. Maecen aliquam, risus at semper. "),l._UZ(120,"i",42),l.qZA()()(),l.TgZ(121,"div",6)(122,"div",43),l._UZ(123,"img",44),l.TgZ(124,"h3"),l._uU(125,"Sara Wilsson"),l.qZA(),l.TgZ(126,"h4"),l._uU(127,"Designer"),l.qZA(),l.TgZ(128,"p"),l._UZ(129,"i",41),l._uU(130," Export tempor illum tamen malis malis eram quae irure esse labore quem cillum quid cillum eram malis quorum velit fore eram velit sunt aliqua noster fugiat irure amet legam anim culpa. "),l._UZ(131,"i",42),l.qZA()()(),l.TgZ(132,"div",6)(133,"div",45),l._UZ(134,"img",46),l.TgZ(135,"h3"),l._uU(136,"Jena Karlis"),l.qZA(),l.TgZ(137,"h4"),l._uU(138,"Store Owner"),l.qZA(),l.TgZ(139,"p"),l._UZ(140,"i",41),l._uU(141," Enim nisi quem export duis labore cillum quae magna enim sint quorum nulla quem veniam duis minim tempor labore quem eram duis noster aute amet eram fore quis sint minim. "),l._UZ(142,"i",42),l.qZA()()(),l.TgZ(143,"div",6)(144,"div",45),l._UZ(145,"img",47),l.TgZ(146,"h3"),l._uU(147,"Matt Brandon"),l.qZA(),l.TgZ(148,"h4"),l._uU(149,"Freelancer"),l.qZA(),l.TgZ(150,"p"),l._UZ(151,"i",41),l._uU(152," Fugiat enim eram quae cillum dolore dolor amet nulla culpa multos export minim fugiat minim velit minim dolor enim duis veniam ipsum anim magna sunt elit fore quem dolore labore illum veniam. "),l._UZ(153,"i",42),l.qZA()()(),l.TgZ(154,"div",6)(155,"div",45),l._UZ(156,"img",48),l.TgZ(157,"h3"),l._uU(158,"John Larson"),l.qZA(),l.TgZ(159,"h4"),l._uU(160,"Entrepreneur"),l.qZA(),l.TgZ(161,"p"),l._UZ(162,"i",41),l._uU(163," Quis quorum aliqua sint quem legam fore sunt eram irure aliqua veniam tempor noster veniam enim culpa labore duis sunt culpa nulla illum cillum fugiat legam esse veniam culpa fore nisi cillum quid. "),l._UZ(164,"i",42),l.qZA()()(),l.TgZ(165,"div",6)(166,"div",45),l._UZ(167,"img",49),l.TgZ(168,"h3"),l._uU(169,"Emily Harison"),l.qZA(),l.TgZ(170,"h4"),l._uU(171,"Store Owner"),l.qZA(),l.TgZ(172,"p"),l._UZ(173,"i",41),l._uU(174," Eius ipsam praesentium dolor quaerat inventore rerum odio. Quos laudantium adipisci eius. Accusamus qui iste cupiditate sed temporibus est aspernatur. Sequi officiis ea et quia quidem. "),l._UZ(175,"i",42),l.qZA()()()()()()())},styles:['body[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;color:#444}a[_ngcontent-%COMP%]{color:#e96b56;text-decoration:none}a[_ngcontent-%COMP%]:hover{color:#e6573f;text-decoration:none}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-family:Raleway,sans-serif}.back-to-top[_ngcontent-%COMP%]{position:fixed;visibility:hidden;opacity:0;right:15px;bottom:15px;z-index:996;background:#e96b56;width:40px;height:40px;border-radius:4px;transition:all .4s}.back-to-top[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:28px;color:#fff;line-height:0}.back-to-top[_ngcontent-%COMP%]:hover{background:#ee8b7a;color:#fff}.back-to-top.active[_ngcontent-%COMP%]{visibility:visible;opacity:1}#topbar[_ngcontent-%COMP%]{background:#545454;padding:10px 0;font-size:14px}#topbar[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-style:normal;color:#e96b56}#topbar[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], #topbar[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:5px;color:#fff}#topbar[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{line-height:0;transition:.3s}#topbar[_ngcontent-%COMP%]   .contact-info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#e96b56}#topbar[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#bababa;line-height:0;transition:.3s;margin-left:10px}#topbar[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}#header[_ngcontent-%COMP%]{height:70px;z-index:997;transition:all .5s;background:#fff;box-shadow:0 0 20px #0000001a}#header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:26px;padding:0 0 0 8px;margin:11px 0;line-height:1;font-weight:700;letter-spacing:1px;text-transform:uppercase;font-family:Poppins,sans-serif;border-left:8px solid #e96b56}#header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], #header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#545454;text-decoration:none}#header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding:0;margin:0;max-height:40px}.scrolled-offset[_ngcontent-%COMP%]{margin-top:70px}.navbar[_ngcontent-%COMP%]{padding:0}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding:0;display:flex;list-style:none;align-items:center}.navbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative}.navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{display:flex;align-items:center;justify-content:space-between;padding:10px 0 10px 30px;font-family:Poppins,sans-serif;font-size:14px;color:#545454;white-space:nowrap;transition:.3s}.navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus   i[_ngcontent-%COMP%]{font-size:12px;line-height:0;margin-left:5px}.navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .navbar[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]:focus, .navbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover > a[_ngcontent-%COMP%]{color:#e96b56}.navbar[_ngcontent-%COMP%]   .getstarted[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   .getstarted[_ngcontent-%COMP%]:focus{background:#e96b56;padding:8px 20px;margin-left:30px;border-radius:4px;color:#fff}.navbar[_ngcontent-%COMP%]   .getstarted[_ngcontent-%COMP%]:hover, .navbar[_ngcontent-%COMP%]   .getstarted[_ngcontent-%COMP%]:focus:hover{color:#fff;background:#ec7f6d}.navbar[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:block;position:absolute;left:24px;top:calc(100% + 30px);margin:0;padding:10px 0;z-index:99;opacity:0;visibility:hidden;background:#fff;box-shadow:0 0 30px #7f89a140;transition:.3s}.navbar[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{min-width:200px}.navbar[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:10px 20px;font-size:14px;text-transform:none;color:#545454}.navbar[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:12px}.navbar[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .navbar[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]:hover, .navbar[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover > a[_ngcontent-%COMP%]{color:#e96b56}.navbar[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]:hover > ul[_ngcontent-%COMP%]{opacity:1;top:100%;visibility:visible}.navbar[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{top:0;left:calc(100% - 30px);visibility:hidden}.navbar[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]:hover > ul[_ngcontent-%COMP%]{opacity:1;top:0;left:100%;visibility:visible}@media (max-width: 1366px){.navbar[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{left:-90%}.navbar[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]:hover > ul[_ngcontent-%COMP%]{left:-100%}}.mobile-nav-toggle[_ngcontent-%COMP%]{color:#545454;font-size:28px;cursor:pointer;display:none;line-height:0;transition:.5s}.mobile-nav-toggle.bi-x[_ngcontent-%COMP%]{color:#fff}@media (max-width: 991px){.mobile-nav-toggle[_ngcontent-%COMP%]{display:block}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:none}}.navbar-mobile[_ngcontent-%COMP%]{position:fixed;overflow:hidden;top:0;right:0;left:0;bottom:0;background:rgba(59,59,59,.9);transition:.3s;z-index:999}.navbar-mobile[_ngcontent-%COMP%]   .mobile-nav-toggle[_ngcontent-%COMP%]{position:absolute;top:15px;right:15px}.navbar-mobile[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:block;position:absolute;top:55px;right:15px;bottom:15px;left:15px;padding:10px 0;background-color:#fff;overflow-y:auto;transition:.3s}.navbar-mobile[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .navbar-mobile[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{padding:10px 20px;font-size:15px;color:#545454}.navbar-mobile[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .navbar-mobile[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%], .navbar-mobile[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover > a[_ngcontent-%COMP%]{color:#e96b56}.navbar-mobile[_ngcontent-%COMP%]   .getstarted[_ngcontent-%COMP%], .navbar-mobile[_ngcontent-%COMP%]   .getstarted[_ngcontent-%COMP%]:focus{margin:15px}.navbar-mobile[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{position:static;display:none;margin:10px 20px;padding:10px 0;z-index:99;opacity:1;visibility:visible;background:#fff;box-shadow:0 0 30px #7f89a140}.navbar-mobile[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{min-width:200px}.navbar-mobile[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:10px 20px}.navbar-mobile[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:12px}.navbar-mobile[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .navbar-mobile[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]:hover, .navbar-mobile[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover > a[_ngcontent-%COMP%]{color:#e96b56}.navbar-mobile[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%] > .dropdown-active[_ngcontent-%COMP%]{display:block}#hero[_ngcontent-%COMP%]{width:100%;height:70vh;background-color:#3b3b3bcc;overflow:hidden;padding:0;margin-bottom:-120px;position:relative;z-index:1}#hero[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]{width:100%;height:70vh;background-size:cover;background-position:center;background-repeat:no-repeat;background-position:center center}#hero[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]:before{content:"";background-color:#fff9;position:absolute;top:0;right:0;left:0;bottom:0}#hero[_ngcontent-%COMP%]   .carousel-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:absolute;bottom:0;top:0;left:0;right:0;padding-bottom:120px}#hero[_ngcontent-%COMP%]   .carousel-content[_ngcontent-%COMP%]{text-align:center}#hero[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2e2e2e;margin-bottom:30px;font-size:48px;font-weight:700}#hero[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#e96b56}#hero[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:80%;animation-delay:.4s;margin:0 auto 30px;color:arken(#545454,15)}#hero[_ngcontent-%COMP%]   .carousel-inner[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]{transition-property:opacity;background-position:center top}#hero[_ngcontent-%COMP%]   .carousel-inner[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%], #hero[_ngcontent-%COMP%]   .carousel-inner[_ngcontent-%COMP%]   .active.carousel-item-start[_ngcontent-%COMP%], #hero[_ngcontent-%COMP%]   .carousel-inner[_ngcontent-%COMP%]   .active.carousel-item-end[_ngcontent-%COMP%]{opacity:0}#hero[_ngcontent-%COMP%]   .carousel-inner[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%], #hero[_ngcontent-%COMP%]   .carousel-inner[_ngcontent-%COMP%]   .carousel-item-next.carousel-item-start[_ngcontent-%COMP%], #hero[_ngcontent-%COMP%]   .carousel-inner[_ngcontent-%COMP%]   .carousel-item-prev.carousel-item-end[_ngcontent-%COMP%]{opacity:1;transition:.5s}#hero[_ngcontent-%COMP%]   .carousel-inner[_ngcontent-%COMP%]   .carousel-item-next[_ngcontent-%COMP%], #hero[_ngcontent-%COMP%]   .carousel-inner[_ngcontent-%COMP%]   .carousel-item-prev[_ngcontent-%COMP%], #hero[_ngcontent-%COMP%]   .carousel-inner[_ngcontent-%COMP%]   .active.carousel-item-start[_ngcontent-%COMP%], #hero[_ngcontent-%COMP%]   .carousel-inner[_ngcontent-%COMP%]   .active.carousel-item-end[_ngcontent-%COMP%]{left:0;transform:translate(0)}#hero[_ngcontent-%COMP%]   .carousel-control-prev[_ngcontent-%COMP%], #hero[_ngcontent-%COMP%]   .carousel-control-next[_ngcontent-%COMP%]{width:10%}#hero[_ngcontent-%COMP%]   .carousel-control-next-icon[_ngcontent-%COMP%], #hero[_ngcontent-%COMP%]   .carousel-control-prev-icon[_ngcontent-%COMP%]{background:none;font-size:48px;line-height:1;width:auto;height:auto;color:#545454}#hero[_ngcontent-%COMP%]   .carousel-indicators[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;background:#e96b56;overflow:hidden;border:0;width:12px;height:12px;border-radius:50px;margin-bottom:180px;opacity:.2}#hero[_ngcontent-%COMP%]   .carousel-indicators[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{opacity:1}#hero[_ngcontent-%COMP%]   .btn-get-started[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;font-weight:500;font-size:14px;letter-spacing:1px;display:inline-block;padding:12px 32px;border-radius:50px;transition:.5s;line-height:1;margin:10px;color:#fff;animation-delay:.8s;border:2px solid #e96b56;background:#e96b56}#hero[_ngcontent-%COMP%]   .btn-get-started[_ngcontent-%COMP%]:hover{background:transparent;color:#e96b56;text-decoration:none}@media (max-height: 768px),(max-width: 1200px){#hero[_ngcontent-%COMP%]{margin-bottom:60px}#hero[_ngcontent-%COMP%]   .carousel-container[_ngcontent-%COMP%]{padding-bottom:0}#hero[_ngcontent-%COMP%]   .carousel-indicators[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:0}}@media (max-width: 768px){#hero[_ngcontent-%COMP%], #hero[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]{height:90vh}}@media (min-width: 1024px){#hero[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:50%}#hero[_ngcontent-%COMP%]   .carousel-control-prev[_ngcontent-%COMP%], #hero[_ngcontent-%COMP%]   .carousel-control-next[_ngcontent-%COMP%]{width:5%}}section[_ngcontent-%COMP%]{padding:0 0 80px}.section-bg[_ngcontent-%COMP%]{background-color:#fff}.section-title[_ngcontent-%COMP%]{text-align:center;padding-bottom:30px}.section-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px;font-weight:600;margin-bottom:20px;padding-bottom:20px;position:relative;font-family:Poppins,sans-serif}.section-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:after{content:"";position:absolute;display:block;width:50px;height:3px;background:#e96b56;bottom:0;left:calc(50% - 25px)}.section-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0}.breadcrumbs[_ngcontent-%COMP%]{padding:20px 0;background:#f7f7f7;border-bottom:1px solid #ededed;margin-bottom:40px}.breadcrumbs[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#545454}.breadcrumbs[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;list-style:none;padding:0 0 5px;margin:0;font-size:14px}.breadcrumbs[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{padding-left:10px}.breadcrumbs[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]:before{display:inline-block;padding-right:10px;color:#6e6e6e;content:"/"}.featured[_ngcontent-%COMP%]{position:relative;z-index:2}.featured[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]{padding:40px 30px;box-shadow:0 2px 15px #00000026;border-radius:10px;background:#fff;transition:all ease-in-out .3s;height:100%}.featured[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#e96b56;font-size:42px;margin-bottom:15px;display:block;line-height:0}.featured[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;margin-bottom:15px;font-size:20px}.featured[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#545454;transition:.3s}.featured[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#545454;line-height:24px;font-size:14px;margin-bottom:0}.featured[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]:hover{background:#e96b56}.featured[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%], .featured[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]:hover   h3[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .featured[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]:hover   p[_ngcontent-%COMP%]{color:#fff}.about[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:600;font-size:26px;color:#545454}.about[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.about[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding-bottom:10px}.about[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;padding-right:4px;color:#e96b56}.about[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-bottom:0}.services[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]{text-align:center;border:1px solid #ededed;padding:80px 20px;transition:all ease-in-out .3s}.services[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin:0 auto 20px;width:64px;height:64px;background:#e96b56;border-radius:5px;transition:all .3s ease-out 0s;display:flex;align-items:center;justify-content:center;transform-style:preserve-3d}.services[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff;font-size:28px}.services[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:before{position:absolute;content:"";left:-8px;top:-8px;height:100%;width:100%;background:#fbe2dd;border-radius:5px;transition:all .3s ease-out 0s;transform:translateZ(-1px)}.services[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:700;margin-bottom:15px;font-size:24px}.services[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#545454}.services[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:24px;font-size:14px;margin-bottom:0}.services[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]:hover{background:#e96b56;border-color:#e96b56}.services[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]{background:#fff}.services[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#e96b56}.services[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]:before{background:#ef9383}.services[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]:hover   h4[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .services[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]:hover   p[_ngcontent-%COMP%]{color:#fff}.clients[_ngcontent-%COMP%]   .swiper-pagination[_ngcontent-%COMP%]{margin-top:20px;position:relative}.clients[_ngcontent-%COMP%]   .swiper-pagination[_ngcontent-%COMP%]   .swiper-pagination-bullet[_ngcontent-%COMP%]{width:12px;height:12px;background-color:#fff;opacity:1;border:1px solid #e96b56}.clients[_ngcontent-%COMP%]   .swiper-pagination[_ngcontent-%COMP%]   .swiper-pagination-bullet-active[_ngcontent-%COMP%]{background-color:#e96b56}.clients[_ngcontent-%COMP%]   .swiper-slide[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{opacity:.5;transition:.3s;filter:grayscale(100)}.clients[_ngcontent-%COMP%]   .swiper-slide[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{filter:none;opacity:1}.counts[_ngcontent-%COMP%]   .count-box[_ngcontent-%COMP%]{box-shadow:-10px -5px 40px #0000001a;padding:30px;width:100%}.counts[_ngcontent-%COMP%]   .count-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:block;font-size:30px;color:#e96b56;float:left;line-height:0}.counts[_ngcontent-%COMP%]   .count-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:42px;line-height:24px;display:block;font-weight:700;color:#545454;margin-left:50px}.counts[_ngcontent-%COMP%]   .count-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:30px 0 0;margin:0;font-family:Raleway,sans-serif;font-size:14px}.counts[_ngcontent-%COMP%]   .count-box[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:600;display:block;margin-top:20px;color:#7a7a7a;font-size:15px;font-family:Poppins,sans-serif;transition:ease-in-out .3s}.counts[_ngcontent-%COMP%]   .count-box[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#a1a1a1}.testimonials[_ngcontent-%COMP%]   .testimonials-carousel[_ngcontent-%COMP%], .testimonials[_ngcontent-%COMP%]   .testimonials-slider[_ngcontent-%COMP%]{overflow:hidden}.testimonials[_ngcontent-%COMP%]   .testimonial-item[_ngcontent-%COMP%]{box-sizing:content-box;padding:40px;box-shadow:0 2px 12px #00000014;position:relative;background:#fff}.testimonials[_ngcontent-%COMP%]   .testimonial-item[_ngcontent-%COMP%]   .testimonial-img[_ngcontent-%COMP%]{width:90px;border-radius:50px;border:6px solid #fff;float:left;margin:0 10px 0 0}.testimonials[_ngcontent-%COMP%]   .testimonial-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:700;margin:10px 0 5px;color:#111}.testimonials[_ngcontent-%COMP%]   .testimonial-item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14px;color:#999;margin:0}.testimonials[_ngcontent-%COMP%]   .testimonial-item[_ngcontent-%COMP%]   .quote-icon-left[_ngcontent-%COMP%], .testimonials[_ngcontent-%COMP%]   .testimonial-item[_ngcontent-%COMP%]   .quote-icon-right[_ngcontent-%COMP%]{color:#fff;font-size:26px}.testimonials[_ngcontent-%COMP%]   .testimonial-item[_ngcontent-%COMP%]   .quote-icon-left[_ngcontent-%COMP%]{display:inline-block;left:-5px;position:relative}.testimonials[_ngcontent-%COMP%]   .testimonial-item[_ngcontent-%COMP%]   .quote-icon-right[_ngcontent-%COMP%]{display:inline-block;right:-5px;position:relative;top:10px}.testimonials[_ngcontent-%COMP%]   .testimonial-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-style:italic;margin:15px 0 0;padding:0}.skills[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;font-size:26px;color:#545454;font-family:Poppins,sans-serif;margin-bottom:20px}.skills[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.skills[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding-bottom:10px}.skills[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;padding-right:4px;color:#e96b56}.skills[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-bottom:0}.skills[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{height:62px;display:block;background:none;border-radius:0}.skills[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .skill[_ngcontent-%COMP%]{padding:0;margin:0 0 6px;text-transform:uppercase;display:block;font-weight:600;font-family:Poppins,sans-serif;color:#545454}.skills[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .skill[_ngcontent-%COMP%]   .val[_ngcontent-%COMP%]{float:right;font-style:normal}.skills[_ngcontent-%COMP%]   .progress-bar-wrap[_ngcontent-%COMP%]{background:#e0e0e0}.skills[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{width:1px;height:10px;transition:.9s;background-color:#e96b56}.portfolio[_ngcontent-%COMP%]   .portfolio-item[_ngcontent-%COMP%]{margin-bottom:30px}.portfolio[_ngcontent-%COMP%]   #portfolio-flters[_ngcontent-%COMP%]{margin:0 auto 25px;list-style:none;text-align:center;background:white;border-radius:50px;padding:2px 15px}.portfolio[_ngcontent-%COMP%]   #portfolio-flters[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;display:inline-block;padding:8px 20px 12px;font-size:15px;font-weight:500;line-height:1;color:#444;margin:0 4px 8px;transition:all ease-in-out .3s;border-radius:50px;background:#f2f2f2}.portfolio[_ngcontent-%COMP%]   #portfolio-flters[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover, .portfolio[_ngcontent-%COMP%]   #portfolio-flters[_ngcontent-%COMP%]   li.filter-active[_ngcontent-%COMP%]{background:#e96b56;color:#fff}.portfolio[_ngcontent-%COMP%]   #portfolio-flters[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-right:0}.portfolio[_ngcontent-%COMP%]   .portfolio-wrap[_ngcontent-%COMP%]{transition:.3s;position:relative;overflow:hidden;z-index:1;background:rgba(84,84,84,.6)}.portfolio[_ngcontent-%COMP%]   .portfolio-wrap[_ngcontent-%COMP%]:before{content:"";background:rgba(84,84,84,.6);position:absolute;left:30px;right:30px;top:30px;bottom:30px;transition:all ease-in-out .3s;z-index:2;opacity:0}.portfolio[_ngcontent-%COMP%]   .portfolio-wrap[_ngcontent-%COMP%]   .portfolio-info[_ngcontent-%COMP%]{opacity:0;position:absolute;top:0;left:0;right:0;bottom:0;text-align:center;z-index:3;transition:all ease-in-out .3s;display:flex;flex-direction:column;justify-content:center;align-items:center}.portfolio[_ngcontent-%COMP%]   .portfolio-wrap[_ngcontent-%COMP%]   .portfolio-info[_ngcontent-%COMP%]:before{display:block;content:"";width:48px;height:48px;position:absolute;top:35px;left:35px;border-top:3px solid #fff;border-left:3px solid #fff;transition:all .5s ease 0s;z-index:9994}.portfolio[_ngcontent-%COMP%]   .portfolio-wrap[_ngcontent-%COMP%]   .portfolio-info[_ngcontent-%COMP%]:after{display:block;content:"";width:48px;height:48px;position:absolute;bottom:35px;right:35px;border-bottom:3px solid #fff;border-right:3px solid #fff;transition:all .5s ease 0s;z-index:9994}.portfolio[_ngcontent-%COMP%]   .portfolio-wrap[_ngcontent-%COMP%]   .portfolio-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:600}.portfolio[_ngcontent-%COMP%]   .portfolio-wrap[_ngcontent-%COMP%]   .portfolio-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-size:14px;text-transform:uppercase;padding:0;margin:0}.portfolio[_ngcontent-%COMP%]   .portfolio-wrap[_ngcontent-%COMP%]   .portfolio-links[_ngcontent-%COMP%]{text-align:center;z-index:4}.portfolio[_ngcontent-%COMP%]   .portfolio-wrap[_ngcontent-%COMP%]   .portfolio-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;margin:0 2px;font-size:28px;display:inline-block;transition:.3s}.portfolio[_ngcontent-%COMP%]   .portfolio-wrap[_ngcontent-%COMP%]   .portfolio-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#e96b56}.portfolio[_ngcontent-%COMP%]   .portfolio-wrap[_ngcontent-%COMP%]:hover:before{top:0;left:0;right:0;bottom:0;opacity:1}.portfolio[_ngcontent-%COMP%]   .portfolio-wrap[_ngcontent-%COMP%]:hover   .portfolio-info[_ngcontent-%COMP%]{opacity:1}.portfolio[_ngcontent-%COMP%]   .portfolio-wrap[_ngcontent-%COMP%]:hover   .portfolio-info[_ngcontent-%COMP%]:before{top:15px;left:15px}.portfolio[_ngcontent-%COMP%]   .portfolio-wrap[_ngcontent-%COMP%]:hover   .portfolio-info[_ngcontent-%COMP%]:after{bottom:15px;right:15px}.portfolio-details[_ngcontent-%COMP%]{padding-top:40px}.portfolio-details[_ngcontent-%COMP%]   .portfolio-details-slider[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.portfolio-details[_ngcontent-%COMP%]   .portfolio-details-slider[_ngcontent-%COMP%]   .swiper-pagination[_ngcontent-%COMP%]{margin-top:20px;position:relative}.portfolio-details[_ngcontent-%COMP%]   .portfolio-details-slider[_ngcontent-%COMP%]   .swiper-pagination[_ngcontent-%COMP%]   .swiper-pagination-bullet[_ngcontent-%COMP%]{width:12px;height:12px;background-color:#fff;opacity:1;border:1px solid #e96b56}.portfolio-details[_ngcontent-%COMP%]   .portfolio-details-slider[_ngcontent-%COMP%]   .swiper-pagination[_ngcontent-%COMP%]   .swiper-pagination-bullet-active[_ngcontent-%COMP%]{background-color:#e96b56}.portfolio-details[_ngcontent-%COMP%]   .portfolio-info[_ngcontent-%COMP%]{padding:30px;box-shadow:0 0 30px #54545414}.portfolio-details[_ngcontent-%COMP%]   .portfolio-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:22px;font-weight:700;margin-bottom:20px;padding-bottom:20px;border-bottom:1px solid #eee}.portfolio-details[_ngcontent-%COMP%]   .portfolio-info[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;font-size:15px}.portfolio-details[_ngcontent-%COMP%]   .portfolio-info[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-top:10px}.portfolio-details[_ngcontent-%COMP%]   .portfolio-description[_ngcontent-%COMP%]{padding-top:30px}.portfolio-details[_ngcontent-%COMP%]   .portfolio-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:26px;font-weight:700;margin-bottom:20px}.portfolio-details[_ngcontent-%COMP%]   .portfolio-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0}.pricing[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding-top:40px}.pricing[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{padding:40px;margin-bottom:30px;box-shadow:0 0 30px #494e5c26;background:#fff;text-align:center}.pricing[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:300;margin-bottom:15px;font-size:28px}.pricing[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:46px;color:#e96b56;font-weight:400;font-family:Open Sans,sans-serif;margin-bottom:25px}.pricing[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#bababa;font-size:18px;display:block}.pricing[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;list-style:none;color:#999;text-align:left;line-height:20px}.pricing[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding-bottom:12px}.pricing[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#e96b56;font-size:18px;padding-right:4px}.pricing[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .na[_ngcontent-%COMP%], .pricing[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .na[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ccc}.pricing[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .na[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-decoration:line-through}.pricing[_ngcontent-%COMP%]   .buy-btn[_ngcontent-%COMP%]{background:#545454;display:inline-block;padding:8px 30px;border-radius:20px;color:#fff;transition:none;font-size:14px;font-weight:400;font-family:Raleway,sans-serif;transition:.3s}.pricing[_ngcontent-%COMP%]   .buy-btn[_ngcontent-%COMP%]:hover{background:#e96b56}.pricing[_ngcontent-%COMP%]   .featured[_ngcontent-%COMP%]{z-index:10;margin:-30px -5px 0}.pricing[_ngcontent-%COMP%]   .featured[_ngcontent-%COMP%]   .buy-btn[_ngcontent-%COMP%]{background:#e96b56}.pricing[_ngcontent-%COMP%]   .featured[_ngcontent-%COMP%]   .buy-btn[_ngcontent-%COMP%]:hover{background:#ee8b7a}@media (max-width: 992px){.pricing[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{max-width:60%;margin:0 auto 30px}}@media (max-width: 767px){.pricing[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{max-width:80%;margin:0 auto 30px}}@media (max-width: 420px){.pricing[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{max-width:100%;margin:0 auto 30px}}.team[_ngcontent-%COMP%]   .member[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;box-shadow:0 0 12px #0000001a;padding:30px 20px;background:#fff}.team[_ngcontent-%COMP%]   .member[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:60%;border-radius:50%;margin:0 0 30px}.team[_ngcontent-%COMP%]   .member[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:700;margin-bottom:2px;font-size:18px}.team[_ngcontent-%COMP%]   .member[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-style:italic;display:block;font-size:13px}.team[_ngcontent-%COMP%]   .member[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-top:10px;font-size:14px;font-style:italic;color:#aaa}.team[_ngcontent-%COMP%]   .member[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]{margin-top:15px}.team[_ngcontent-%COMP%]   .member[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#919191;transition:.3s}.team[_ngcontent-%COMP%]   .member[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#e96b56}.team[_ngcontent-%COMP%]   .member[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px;margin:0 2px}.contact[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]{color:#444;text-align:center;box-shadow:0 0 30px #d6d7d899;padding:20px 0 30px}.contact[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:32px;color:#e96b56;border-radius:50%;padding:8px;border:2px dotted #fef5f4}.contact[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;color:#777;font-weight:700;margin:10px 0}.contact[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0;line-height:24px;font-size:14px;margin-bottom:0}.contact[_ngcontent-%COMP%]   .php-email-form[_ngcontent-%COMP%]{box-shadow:0 0 30px #d6d7d899;padding:30px}.contact[_ngcontent-%COMP%]   .php-email-form[_ngcontent-%COMP%]   .validate[_ngcontent-%COMP%]{display:none;color:red;margin:0 0 15px;font-weight:400;font-size:13px}.contact[_ngcontent-%COMP%]   .php-email-form[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{display:none;color:#fff;background:#ed3c0d;text-align:left;padding:15px;font-weight:600}.contact[_ngcontent-%COMP%]   .php-email-form[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   br[_ngcontent-%COMP%] + br[_ngcontent-%COMP%]{margin-top:25px}.contact[_ngcontent-%COMP%]   .php-email-form[_ngcontent-%COMP%]   .sent-message[_ngcontent-%COMP%]{display:none;color:#fff;background:#18d26e;text-align:center;padding:15px;font-weight:600}.contact[_ngcontent-%COMP%]   .php-email-form[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{display:none;background:#fff;text-align:center;padding:15px}.contact[_ngcontent-%COMP%]   .php-email-form[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]:before{content:"";display:inline-block;border-radius:50%;width:24px;height:24px;margin:0 10px -6px 0;border:3px solid #18d26e;border-top-color:#eee;animation:animate-loading 1s linear infinite}.contact[_ngcontent-%COMP%]   .php-email-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .contact[_ngcontent-%COMP%]   .php-email-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border-radius:0;box-shadow:none;font-size:14px}.contact[_ngcontent-%COMP%]   .php-email-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .contact[_ngcontent-%COMP%]   .php-email-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#e96b56}.contact[_ngcontent-%COMP%]   .php-email-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:10px 15px}.contact[_ngcontent-%COMP%]   .php-email-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:12px 15px}.contact[_ngcontent-%COMP%]   .php-email-form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{background:#e96b56;border:0;border-radius:50px;padding:10px 24px;color:#fff;transition:.4s}.contact[_ngcontent-%COMP%]   .php-email-form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover{background:#e6573f}@keyframes animate-loading{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.blog[_ngcontent-%COMP%]{padding:40px 0 20px}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]{padding:30px;margin-bottom:60px;box-shadow:0 4px 16px #0000001a}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-img[_ngcontent-%COMP%]{max-height:440px;margin:-30px -30px 20px;overflow:hidden}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-title[_ngcontent-%COMP%]{font-size:28px;font-weight:700;padding:0;margin:0 0 20px}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#545454;transition:.3s}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#e96b56}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-meta[_ngcontent-%COMP%]{margin-bottom:15px;color:#bababa}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-meta[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;list-style:none;align-items:center;padding:0;margin:0}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-meta[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{padding-left:20px}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-meta[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px;margin-right:8px;line-height:0}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-meta[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#777;font-size:14px;display:inline-block;line-height:1}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:24px}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-content[_ngcontent-%COMP%]   .read-more[_ngcontent-%COMP%]{text-align-last:right}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-content[_ngcontent-%COMP%]   .read-more[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;background:#e96b56;color:#fff;padding:6px 20px;transition:.3s;font-size:14px;border-radius:4px}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-content[_ngcontent-%COMP%]   .read-more[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#ec7f6d}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:22px;margin-top:30px;font-weight:700}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-content[_ngcontent-%COMP%]   blockquote[_ngcontent-%COMP%]{overflow:hidden;background-color:#fafafa;padding:60px;position:relative;text-align:center;margin:20px 0}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-content[_ngcontent-%COMP%]   blockquote[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#444;line-height:1.6;margin-bottom:0;font-style:italic;font-weight:500;font-size:22px}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-content[_ngcontent-%COMP%]   blockquote[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;top:0;bottom:0;width:3px;background-color:#545454;margin-top:20px;margin-bottom:20px}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-footer[_ngcontent-%COMP%]{padding-top:10px;border-top:1px solid #e6e6e6}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-footer[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#a1a1a1;display:inline}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#616161;transition:.3s}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#e96b56}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-footer[_ngcontent-%COMP%]   .cats[_ngcontent-%COMP%]{list-style:none;display:inline;padding:0 20px 0 0;font-size:14px}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-footer[_ngcontent-%COMP%]   .cats[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-footer[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]{list-style:none;display:inline;padding:0;font-size:14px}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-footer[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-footer[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]:before{padding-right:6px;color:#6c757d;content:","}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-footer[_ngcontent-%COMP%]   .share[_ngcontent-%COMP%]{font-size:16px}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-footer[_ngcontent-%COMP%]   .share[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding-left:5px}.blog[_ngcontent-%COMP%]   .entry-single[_ngcontent-%COMP%]{margin-bottom:30px}.blog[_ngcontent-%COMP%]   .blog-author[_ngcontent-%COMP%]{padding:20px;margin-bottom:30px;box-shadow:0 4px 16px #0000001a}.blog[_ngcontent-%COMP%]   .blog-author[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;margin-right:20px}.blog[_ngcontent-%COMP%]   .blog-author[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:600;font-size:22px;margin-bottom:0;padding:0;color:#545454}.blog[_ngcontent-%COMP%]   .blog-author[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]{margin:0 10px 10px 0}.blog[_ngcontent-%COMP%]   .blog-author[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#54545480;margin-right:5px}.blog[_ngcontent-%COMP%]   .blog-author[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-style:italic;color:#b7b7b7}.blog[_ngcontent-%COMP%]   .blog-comments[_ngcontent-%COMP%]{margin-bottom:30px}.blog[_ngcontent-%COMP%]   .blog-comments[_ngcontent-%COMP%]   .comments-count[_ngcontent-%COMP%]{font-weight:700}.blog[_ngcontent-%COMP%]   .blog-comments[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]{margin-top:30px;position:relative}.blog[_ngcontent-%COMP%]   .blog-comments[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-img[_ngcontent-%COMP%]{margin-right:14px}.blog[_ngcontent-%COMP%]   .blog-comments[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px}.blog[_ngcontent-%COMP%]   .blog-comments[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:16px;margin-bottom:2px}.blog[_ngcontent-%COMP%]   .blog-comments[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;color:#444;transition:.3s}.blog[_ngcontent-%COMP%]   .blog-comments[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#e96b56}.blog[_ngcontent-%COMP%]   .blog-comments[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]   .reply[_ngcontent-%COMP%]{padding-left:10px;color:#545454}.blog[_ngcontent-%COMP%]   .blog-comments[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]   .reply[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.blog[_ngcontent-%COMP%]   .blog-comments[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   time[_ngcontent-%COMP%]{display:block;font-size:14px;color:#6e6e6e;margin-bottom:5px}.blog[_ngcontent-%COMP%]   .blog-comments[_ngcontent-%COMP%]   .comment.comment-reply[_ngcontent-%COMP%]{padding-left:40px}.blog[_ngcontent-%COMP%]   .blog-comments[_ngcontent-%COMP%]   .reply-form[_ngcontent-%COMP%]{margin-top:30px;padding:30px;box-shadow:0 4px 16px #0000001a}.blog[_ngcontent-%COMP%]   .blog-comments[_ngcontent-%COMP%]   .reply-form[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:700;font-size:22px}.blog[_ngcontent-%COMP%]   .blog-comments[_ngcontent-%COMP%]   .reply-form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.blog[_ngcontent-%COMP%]   .blog-comments[_ngcontent-%COMP%]   .reply-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:4px;padding:10px;font-size:14px}.blog[_ngcontent-%COMP%]   .blog-comments[_ngcontent-%COMP%]   .reply-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:none;border-color:#f5bab0}.blog[_ngcontent-%COMP%]   .blog-comments[_ngcontent-%COMP%]   .reply-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border-radius:4px;padding:10px;font-size:14px}.blog[_ngcontent-%COMP%]   .blog-comments[_ngcontent-%COMP%]   .reply-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{box-shadow:none;border-color:#f5bab0}.blog[_ngcontent-%COMP%]   .blog-comments[_ngcontent-%COMP%]   .reply-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:25px}.blog[_ngcontent-%COMP%]   .blog-comments[_ngcontent-%COMP%]   .reply-form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{border-radius:4px;padding:10px 20px;border:0;background-color:#545454}.blog[_ngcontent-%COMP%]   .blog-comments[_ngcontent-%COMP%]   .reply-form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background-color:#616161}.blog[_ngcontent-%COMP%]   .blog-pagination[_ngcontent-%COMP%]{color:#878787}.blog[_ngcontent-%COMP%]   .blog-pagination[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;padding:0;margin:0;list-style:none}.blog[_ngcontent-%COMP%]   .blog-pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 5px;transition:.3s}.blog[_ngcontent-%COMP%]   .blog-pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#545454;padding:7px 16px;display:flex;align-items:center;justify-content:center}.blog[_ngcontent-%COMP%]   .blog-pagination[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%], .blog[_ngcontent-%COMP%]   .blog-pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:#e96b56}.blog[_ngcontent-%COMP%]   .blog-pagination[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .blog[_ngcontent-%COMP%]   .blog-pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{color:#fff}.blog[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]{padding:30px;margin:0 0 60px 20px;box-shadow:0 4px 16px #0000001a}.blog[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-title[_ngcontent-%COMP%]{font-size:20px;font-weight:700;padding:0;margin:0 0 15px;color:#545454;position:relative}.blog[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-item[_ngcontent-%COMP%]{margin-bottom:30px}.blog[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .search-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{background:#fff;border:1px solid #ddd;padding:3px 10px;position:relative}.blog[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .search-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{border:0;padding:4px;border-radius:4px;width:calc(100% - 40px)}.blog[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .search-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;border:0;background:none;font-size:16px;padding:0 15px;margin:-1px;background:#e96b56;color:#fff;transition:.3s;border-radius:0 4px 4px 0;line-height:0}.blog[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .search-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{line-height:0}.blog[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .search-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#eb7b68}.blog[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.blog[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{padding-top:10px}.blog[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#545454;transition:.3s}.blog[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#e96b56}.blog[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:5px;color:#aaa;font-size:14px}.blog[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .recent-posts[_ngcontent-%COMP%]   .post-item[_ngcontent-%COMP%] + .post-item[_ngcontent-%COMP%]{margin-top:15px}.blog[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .recent-posts[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;float:left}.blog[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .recent-posts[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:15px;margin-left:95px;font-weight:700}.blog[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .recent-posts[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#545454;transition:.3s}.blog[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .recent-posts[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#e96b56}.blog[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .recent-posts[_ngcontent-%COMP%]   time[_ngcontent-%COMP%]{display:block;margin-left:95px;font-style:italic;font-size:14px;color:#aaa}.blog[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]{margin-bottom:-10px}.blog[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.blog[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block}.blog[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#949494;font-size:14px;padding:6px 14px;margin:0 6px 8px 0;border:1px solid white;display:inline-block;transition:.3s}.blog[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff;border:1px solid #e96b56;background:#e96b56}.blog[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:5px;color:#ededed;font-size:14px}#footer[_ngcontent-%COMP%]{background:#404040;padding:0 0 30px;color:#fff;font-size:14px}#footer[_ngcontent-%COMP%]   .footer-newsletter[_ngcontent-%COMP%]{padding:50px 0;background:#404040}#footer[_ngcontent-%COMP%]   .footer-newsletter[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:24px;margin:0 0 20px;padding:0;line-height:1;font-weight:600}#footer[_ngcontent-%COMP%]   .footer-newsletter[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin-top:30px;background:#fff;padding:6px 10px;position:relative;border-radius:50px}#footer[_ngcontent-%COMP%]   .footer-newsletter[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{border:0;padding:8px;width:calc(100% - 140px)}#footer[_ngcontent-%COMP%]   .footer-newsletter[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;border:0;background:none;font-size:16px;padding:0 30px;margin:3px;background:#e96b56;color:#fff;transition:.3s;border-radius:50px}#footer[_ngcontent-%COMP%]   .footer-newsletter[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%]:hover{background:#e6573f}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]{background:#3b3b3b;border-top:1px solid #474747;border-bottom:1px solid #474747;padding:60px 0 30px}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .footer-info[_ngcontent-%COMP%]{margin-bottom:30px}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .footer-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;margin:0 0 20px;padding:2px 0;line-height:1;font-weight:700}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .footer-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;line-height:24px;margin-bottom:0;font-family:Raleway,sans-serif;color:#fff}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;display:inline-block;background:#545454;color:#fff;line-height:1;padding:8px 0;margin-right:4px;border-radius:50%;text-align:center;width:36px;height:36px;transition:.3s}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#e96b56;color:#fff;text-decoration:none}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:#fff;text-transform:uppercase;position:relative;padding-bottom:12px}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]{margin-bottom:30px}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding-right:2px;color:#ec7f6d;font-size:18px;line-height:1}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px 0;display:flex;align-items:center}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{padding-top:0}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;transition:.3s;display:inline-block;line-height:1}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#e96b56}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .footer-contact[_ngcontent-%COMP%]{margin-bottom:30px}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .footer-contact[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:26px}#footer[_ngcontent-%COMP%]   .copyright[_ngcontent-%COMP%]{text-align:center;padding-top:30px}#footer[_ngcontent-%COMP%]   .credits[_ngcontent-%COMP%]{padding-top:10px;text-align:center;font-size:13px;color:#fff}']}),n})();const tr=new l.OlP("NgValidators"),yr=new l.OlP("NgAsyncValidators");function ub(n){return null!=n}function db(n){const t=(0,l.QGY)(n)?(0,Pn.D)(n):n;return(0,l.CqO)(t),t}function hb(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function Vp(n,t){return t.map(e=>e(n))}function fb(n){return n.map(t=>function ga(n){return!n.validate}(t)?t:e=>t.validate(e))}function Up(n){return null!=n?function VM(n){if(!n)return null;const t=n.filter(ub);return 0==t.length?null:function(e){return hb(Vp(e,t))}}(fb(n)):null}function Wa(n){if(!n)return null;const t=n.filter(ub);return 0==t.length?null:function(e){return function SM(...n){const t=(0,qn.jO)(n),{args:e,keys:i}=mo(n),r=new Rn.y(o=>{const{length:c}=e;if(!c)return void o.complete();const d=new Array(c);let p=c,v=c;for(let M=0;M<c;M++){let E=!1;(0,Bo.Xf)(e[M]).subscribe((0,Mn.x)(o,O=>{E||(E=!0,v--),d[M]=O},()=>p--,void 0,()=>{(!p||!E)&&(v||o.next(i?ca(i,d):d),o.complete())}))}});return t?r.pipe(Su(t)):r}(Vp(e,t).map(db)).pipe((0,pt.U)(hb))}}function Hp(n){return null!=n?Wa(fb(n)):null}function pb(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function u_(n){return n?Array.isArray(n)?n:[n]:[]}function gb(n,t){return Array.isArray(n)?n.includes(t):n===t}function jp(n,t){const e=u_(t);return u_(n).forEach(r=>{gb(e,r)||e.push(r)}),e}function zp(n,t){return u_(t).filter(e=>!gb(n,e))}class zr extends class d_{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Up(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Hp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}{get formDirective(){return null}get path(){return null}}let UM=(()=>{class n extends class pI{constructor(t){this._cd=t}is(t){var e,i,r;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[t])}}{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(zr,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&l.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[l.qOj]}),n})();function Lh(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function p_(n,t){const e=function c_(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(pb(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=function fI(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(pb(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Lh(t._rawValidators,r),Lh(t._rawAsyncValidators,r)}function $M(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Nc(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Al="VALID",Pl="INVALID",Vh="PENDING",Uh="DISABLED";function Gp(n){return(v_(n)?n.validators:n)||null}function m_(n){return Array.isArray(n)?Up(n):n||null}function __(n,t){return(v_(t)?t.asyncValidators:n)||null}function $p(n){return Array.isArray(n)?Hp(n):n||null}function v_(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const KM=n=>n instanceof bo;function Cb(n){return(n=>n instanceof JM)(n)?n.value:n.getRawValue()}function XM(n,t){const e=KM(n),i=n.controls;if(!(e?Object.keys(i):i).length)throw new l.vHH(1e3,"");if(!i[t])throw new l.vHH(1001,"")}function wb(n,t){KM(n),n._forEachChild((i,r)=>{if(void 0===t[r])throw new l.vHH(1002,"")})}class Mb{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=m_(this._rawValidators),this._composedAsyncValidatorFn=$p(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Al}get invalid(){return this.status===Pl}get pending(){return this.status==Vh}get disabled(){return this.status===Uh}get enabled(){return this.status!==Uh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=m_(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=$p(t)}addValidators(t){this.setValidators(jp(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(jp(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(zp(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(zp(t,this._rawAsyncValidators))}hasValidator(t){return gb(this._rawValidators,t)}hasAsyncValidator(t){return gb(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Vh,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Uh,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Al,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Al||this.status===Vh)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Uh:Al}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Vh,this._hasOwnPendingAsyncValidator=!0;const e=db(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function YM(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(r=>{i=KM(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:(n=>n instanceof MI)(i)&&i.at(r)||null}),i}(this,t,".")}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?Uh:this.errors?Pl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Vh)?Vh:this._anyControlsHaveStatus(Pl)?Pl:Al}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){v_(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class JM extends Mb{constructor(t=null,e,i){super(Gp(e),__(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),v_(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Nc(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Nc(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class bo extends Mb{constructor(t,e,i){super(Gp(e),__(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){wb(this,t),Object.keys(t).forEach(i=>{XM(this,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=Cb(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class MI extends Mb{constructor(t,e,i){super(Gp(e),__(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){wb(this,t),t.forEach((i,r)=>{XM(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>Cb(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const xI={provide:zr,useExisting:(0,l.Gpc)(()=>b_)},y_=(()=>Promise.resolve(null))();let b_=(()=>{class n extends zr{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new bo({},Up(e),Hp(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){y_.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),function f_(n,t){p_(n,t),t.valueAccessor.writeValue(n.value),function GM(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&$M(n,t)})}(n,t),function Fc(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function vb(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&$M(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function yI(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){y_.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){y_.then(()=>{const i=this._findContainer(e.path),r=new bo({});(function yb(n,t){p_(n,t)})(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){y_.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){y_.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,function WM(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(tr,10),l.Y36(yr,10))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&l.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([xI]),l.qOj]}),n})(),Db=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),ox=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const ax=new l.OlP("NgModelWithFormControlWarning");let _x=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[ox]]}),n})(),zh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[_x]}),n})(),UI=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:ax,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[_x]}),n})(),js=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-contact"]],decls:55,vars:0,consts:[["id","main"],["id","breadcrumbs",1,"breadcrumbs"],[1,"container"],["routerLink",""],["id","contact",1,"contact"],[1,"row"],[1,"col-lg-6"],[1,"info-box","mb-4"],[1,"col-lg-3","col-md-6"],["src","https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d12097.433213460943!2d-74.0062269!3d40.7101282!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0xb89d1fe6bc499443!2sDowntown+Conference+Center!5e0!3m2!1smk!2sbg!4v1539943755621","frameborder","0","allowfullscreen","",1,"mb-4","mb-lg-0",2,"border","0","width","100%","height","384px"],["action","forms/contact.php","method","post","role","form",1,"php-email-form"],[1,"col-md-6","form-group"],["type","text","name","name","id","name","placeholder","Your Name","required","",1,"form-control"],[1,"col-md-6","form-group","mt-3","mt-md-0"],["type","email","name","email","id","email","placeholder","Your Email","required","",1,"form-control"],[1,"form-group","mt-3"],["type","text","name","subject","id","subject","placeholder","Subject","required","",1,"form-control"],["name","message","rows","5","placeholder","Message","required","",1,"form-control"],[1,"my-3"],[1,"loading"],[1,"error-message"],[1,"sent-message"],[1,"text-center"],["type","submit"]],template:function(e,i){1&e&&(l.TgZ(0,"main",0)(1,"section",1)(2,"div",2)(3,"ol")(4,"li")(5,"a",3),l._uU(6,"Home"),l.qZA()(),l.TgZ(7,"li"),l._uU(8,"Contact"),l.qZA()(),l.TgZ(9,"h2"),l._uU(10,"Contact"),l.qZA()()(),l.TgZ(11,"section",4)(12,"div",2)(13,"div",5)(14,"div",6)(15,"div",7)(16,"h3"),l._uU(17,"Our Address"),l.qZA(),l.TgZ(18,"p"),l._uU(19,"Malad, Mumbai, MH 400095"),l.qZA()()(),l.TgZ(20,"div",8)(21,"div",7)(22,"h3"),l._uU(23,"Email Us"),l.qZA(),l.TgZ(24,"p"),l._uU(25,"contact@photofactory.com"),l.qZA()()(),l.TgZ(26,"div",8)(27,"div",7)(28,"h3"),l._uU(29,"Call Us"),l.qZA(),l.TgZ(30,"p"),l._uU(31,"+91 2254 7676"),l.qZA()()()(),l.TgZ(32,"div",5)(33,"div",6),l._UZ(34,"iframe",9),l.qZA(),l.TgZ(35,"div",6)(36,"form",10)(37,"div",5)(38,"div",11),l._UZ(39,"input",12),l.qZA(),l.TgZ(40,"div",13),l._UZ(41,"input",14),l.qZA()(),l.TgZ(42,"div",15),l._UZ(43,"input",16),l.qZA(),l.TgZ(44,"div",15),l._UZ(45,"textarea",17),l.qZA(),l.TgZ(46,"div",18)(47,"div",19),l._uU(48,"Loading"),l.qZA(),l._UZ(49,"div",20),l.TgZ(50,"div",21),l._uU(51,"Your message has been sent. Thank you!"),l.qZA()(),l.TgZ(52,"div",22)(53,"button",23),l._uU(54,"Send Message"),l.qZA()()()()()()()())},directives:[Rh,Db,UM,b_],styles:['.breadcrumbs[_ngcontent-%COMP%]{padding:20px 0;background:#f7f7f7;border-bottom:1px solid #ededed;margin-bottom:40px}.breadcrumbs[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#545454}.breadcrumbs[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;list-style:none;padding:0 0 5px;margin:0;font-size:14px}.breadcrumbs[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{padding-left:10px}.breadcrumbs[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]:before{display:inline-block;padding-right:10px;color:#6e6e6e;content:"/"}.contact[_ngcontent-%COMP%]{padding-bottom:30px}.contact[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]{color:#444;text-align:center;box-shadow:0 0 30px #d6d7d899;padding:20px 0 30px}.contact[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px;color:#e96b56;border-radius:50%;padding:8px;border:2px dotted #fef5f4}.contact[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;color:#777;font-weight:700;margin:10px 0}.contact[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0;line-height:24px;font-size:14px;margin-bottom:0}.contact[_ngcontent-%COMP%]   .php-email-form[_ngcontent-%COMP%]{box-shadow:0 0 30px #d6d7d899;padding:30px}.contact[_ngcontent-%COMP%]   .php-email-form[_ngcontent-%COMP%]   .validate[_ngcontent-%COMP%]{display:none;color:red;margin:0 0 15px;font-weight:400;font-size:13px}.contact[_ngcontent-%COMP%]   .php-email-form[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{display:none;color:#fff;background:#ed3c0d;text-align:left;padding:15px;font-weight:600}.contact[_ngcontent-%COMP%]   .php-email-form[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   br[_ngcontent-%COMP%] + br[_ngcontent-%COMP%]{margin-top:25px}.contact[_ngcontent-%COMP%]   .php-email-form[_ngcontent-%COMP%]   .sent-message[_ngcontent-%COMP%]{display:none;color:#fff;background:#18d26e;text-align:center;padding:15px;font-weight:600}.contact[_ngcontent-%COMP%]   .php-email-form[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{display:none;background:#fff;text-align:center;padding:15px}.contact[_ngcontent-%COMP%]   .php-email-form[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]:before{content:"";display:inline-block;border-radius:50%;width:24px;height:24px;margin:0 10px -6px 0;border:3px solid #18d26e;border-top-color:#eee;animation:animate-loading 1s linear infinite}.contact[_ngcontent-%COMP%]   .php-email-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .contact[_ngcontent-%COMP%]   .php-email-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border-radius:0;box-shadow:none;font-size:14px}.contact[_ngcontent-%COMP%]   .php-email-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .contact[_ngcontent-%COMP%]   .php-email-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#e96b56}.contact[_ngcontent-%COMP%]   .php-email-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:10px 15px}.contact[_ngcontent-%COMP%]   .php-email-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:12px 15px}.contact[_ngcontent-%COMP%]   .php-email-form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{background:#e96b56;border:0;border-radius:50px;padding:10px 24px;color:#fff;transition:.4s}.contact[_ngcontent-%COMP%]   .php-email-form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover{background:#e6573f}@keyframes animate-loading{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']}),n})(),Hb=(()=>{class n{constructor(){this.dropped=new l.vpe,this.hovered=new l.vpe}onDrop(e){e.preventDefault(),this.dropped.emit(e.dataTransfer.files),this.hovered.emit(!1)}onDragOver(e){e.preventDefault(),this.hovered.emit(!0)}onDragLeave(e){e.preventDefault(),this.hovered.emit(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","dropzone",""]],hostBindings:function(e,i){1&e&&l.NdJ("drop",function(o){return i.onDrop(o)})("dragover",function(o){return i.onDragOver(o)})("dragleave",function(o){return i.onDragLeave(o)})},outputs:{dropped:"dropped",hovered:"hovered"}}),n})();var Ce=L(5861),ld=L(4986);var vn=L(5813),nr=L(2011),jb=L(3942),Co=L(9681),N=L(2090),zs=L(4859);const HI="firebasestorage.googleapis.com",zb="storageBucket";class Ii extends N.ZR{constructor(t,e){super(vx(t),`Firebase Storage: ${e} (${vx(t)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ii.prototype)}_codeEquals(t){return vx(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function vx(n){return"storage/"+n}function Yp(){return new Ii("unknown","An unknown error occurred, please check the error payload for server response.")}function $I(){return new Ii("canceled","User canceled the upload/download.")}function xx(){return new Ii("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Bc(n){return new Ii("invalid-argument",n)}function Dx(){return new Ii("app-deleted","The Firebase app was deleted.")}function S_(n){return new Ii("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Kp(n,t){return new Ii("invalid-format","String does not match format '"+n+"': "+t)}function Qp(n){throw new Ii("internal-error","Internal error: "+n)}class io{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=io.makeFromUrl(t,e)}catch(r){return new io(t,"")}if(""===i.path)return i;throw function wx(n){return new Ii("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",d=new RegExp("^gs://"+r+"(/(.*))?$","i");function v(Le){Le.path_=decodeURIComponent(Le.path)}const E=e.replace(/[.]/g,"\\."),We=[{regex:d,indices:{bucket:1,path:3},postModify:function o(Le){"/"===Le.path.charAt(Le.path.length-1)&&(Le.path_=Le.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${E}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:v},{regex:new RegExp(`^https?://${e===HI?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:v}];for(let Le=0;Le<We.length;Le++){const St=We[Le],xt=St.regex.exec(t);if(xt){let Hn=xt[St.indices.path];Hn||(Hn=""),i=new io(xt[St.indices.bucket],Hn),St.postModify(i);break}}if(null==i)throw function Cx(n){return new Ii("invalid-url","Invalid URL '"+n+"'.")}(t);return i}}class qI{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function Vc(n){return"string"==typeof n||n instanceof String}function Sx(n){return Gb()&&n instanceof Blob}function Gb(){return"undefined"!=typeof Blob}function Xp(n,t,e,i){if(i<t)throw Bc(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw Bc(`Invalid value for '${n}'. Expected ${e} or less.`)}function br(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function $h(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var pi=(()=>{return(n=pi||(pi={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",pi;var n})();class cd{constructor(t,e,i,r,o,c,d,p,v,M,E){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=v,this.progressCallback_=M,this.connectionFactory_=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,R)=>{this.resolve_=O,this.reject_=R,this.start_()})}start_(){const e=(i,r)=>{const o=this.resolve_,c=this.reject_,d=r.connection;if(r.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());!function T_(n){return void 0!==n}(p)?o():o(p)}catch(p){c(p)}else if(null!==d){const p=Yp();p.serverResponse=d.getErrorText(),c(this.errorCallback_?this.errorCallback_(d,p):p)}else c(r.canceled?this.appDelete_?Dx():$I():function qF(){return new Ii("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?e(0,new ud(!1,null,!0)):this.backoffId_=function WI(n,t,e){let i=1,r=null,o=null,c=!1,d=0;function p(){return 2===d}let v=!1;function M(...re){v||(v=!0,t.apply(null,re))}function E(re){r=setTimeout(()=>{r=null,n(R,p())},re)}function O(){o&&clearTimeout(o)}function R(re,...Pe){if(v)return void O();if(re)return O(),void M.call(null,re,...Pe);if(p()||c)return O(),void M.call(null,re,...Pe);let We;i<64&&(i*=2),1===d?(d=2,We=0):We=1e3*(i+Math.random()),E(We)}let V=!1;function Z(re){V||(V=!0,O(),!v&&(null!==r?(re||(d=2),clearTimeout(r),E(0)):re||(d=1)))}return E(0),o=setTimeout(()=>{c=!0,Z(!0)},e),Z}((i,r)=>{if(r)return void i(!1,new ud(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const c=d=>{null!==this.progressCallback_&&this.progressCallback_(d.loaded,d.lengthComputable?d.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const d=o.getErrorCode()===pi.NO_ERROR,p=o.getStatus();if(!d||this.isRetryStatusCode_(p)){const M=o.getErrorCode()===pi.ABORT;return void i(!1,new ud(!1,null,M))}const v=-1!==this.successCodes_.indexOf(p);i(!0,new ud(v,o))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function ZI(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(t){const e=t>=500&&t<600,r=-1!==[408,429].indexOf(t),o=-1!==this.additionalRetryCodes_.indexOf(t);return e||r||o}}class ud{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function Kh(...n){const t=function Yh(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(Gb())return new Blob(n);throw new Ii("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Cr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Uc{constructor(t,e){this.data=t,this.contentType=e||null}}function I_(n,t){switch(n){case Cr.RAW:return new Uc(qb(t));case Cr.BASE64:case Cr.BASE64URL:return new Uc(Wb(n,t));case Cr.DATA_URL:return new Uc(function Ix(n){const t=new Zb(n);return t.base64?Wb(Cr.BASE64,t.rest):function Tx(n){let t;try{t=decodeURIComponent(n)}catch(e){throw Kp(Cr.DATA_URL,"Malformed data URL.")}return qb(t)}(t.rest)}(t),function Ox(n){return new Zb(n).contentType}(t))}throw Yp()}function qb(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function Wb(n,t){switch(n){case Cr.BASE64:{const r=-1!==t.indexOf("-"),o=-1!==t.indexOf("_");if(r||o)throw Kp(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Cr.BASE64URL:{const r=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(r||o)throw Kp(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function Xh(n){return atob(n)}(t)}catch(r){throw Kp(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class Zb{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw Kp(Cr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function kx(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class ya{constructor(t,e){let i=0,r="";Sx(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(Sx(this.data_)){const r=function Qh(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new ya(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new ya(i,!0)}}static getBlob(...t){if(Gb()){const e=t.map(i=>i instanceof ya?i.data_:i);return new ya(Kh.apply(null,e))}{const e=t.map(c=>Vc(c)?I_(Cr.RAW,c).data:c.data_);let i=0;e.forEach(c=>{i+=c.byteLength});const r=new Uint8Array(i);let o=0;return e.forEach(c=>{for(let d=0;d<c.length;d++)r[o++]=c[d]}),new ya(r,!0)}}uploadData(){return this.data_}}function Yb(n){let t;try{t=JSON.parse(n)}catch(e){return null}return function YI(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function Kb(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function Px(n,t){return t}class wo{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||Px}}let O_=null;function Jp(){if(O_)return O_;const n=[];n.push(new wo("bucket")),n.push(new wo("generation")),n.push(new wo("metageneration")),n.push(new wo("name","fullPath",!0));const e=new wo("name");e.xform=function t(o,c){return function Rx(n){return!Vc(n)||n.length<2?n:Kb(n)}(c)},n.push(e);const r=new wo("size");return r.xform=function i(o,c){return void 0!==c?Number(c):c},n.push(r),n.push(new wo("timeCreated")),n.push(new wo("updated")),n.push(new wo("md5Hash",null,!0)),n.push(new wo("cacheControl",null,!0)),n.push(new wo("contentDisposition",null,!0)),n.push(new wo("contentEncoding",null,!0)),n.push(new wo("contentLanguage",null,!0)),n.push(new wo("contentType",null,!0)),n.push(new wo("metadata","customMetadata",!0)),O_=n,O_}function Nx(n,t,e){const i=Yb(t);return null===i?null:function QI(n,t,e){const i={type:"file"},r=e.length;for(let o=0;o<r;o++){const c=e[o];i[c.local]=c.xform(i,t[c.server])}return function Fx(n,t){Object.defineProperty(n,"ref",{get:function e(){const o=new io(n.bucket,n.fullPath);return t._makeStorageReference(o)}})}(i,n),i}(n,i,e)}function Qb(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const o=t[r];o.writable&&(e[o.server]=n[o.local])}return JSON.stringify(e)}const k_="prefixes";class Fl{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Nl(n){if(!n)throw Yp()}function P_(n,t){return function e(i,r){const o=Nx(n,r,t);return Nl(null!==o),o}}function Jh(n){return function t(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function $F(){return new Ii("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function bx(){return new Ii("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function yx(n){return new Ii("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function va(n){return new Ii("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.serverResponse=i.serverResponse,r}}function Ya(n){const t=Jh(n);return function e(i,r){let o=t(i,r);return 404===i.getStatus()&&(o=function GI(n){return new Ii("object-not-found","Object '"+n+"' does not exist.")}(n.path)),o.serverResponse=r.serverResponse,o}}function Bx(n,t,e){const r=br(t.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new Fl(r,"GET",P_(n,e),c);return d.errorHandler=Ya(t),d}function Vx(n,t,e,i,r){const o={};o.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(o.delimiter=e),i&&(o.pageToken=i),r&&(o.maxResults=r);const d=br(t.bucketOnlyServerUrl(),n.host,n._protocol),v=n.maxOperationRetryTime,M=new Fl(d,"GET",function Lx(n,t){return function e(i,r){const o=function YF(n,t,e){const i=Yb(e);return null===i?null:function XI(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[k_])for(const r of e[k_]){const o=r.replace(/\/$/,""),c=n._makeStorageReference(new io(t,o));i.prefixes.push(c)}if(e.items)for(const r of e.items){const o=n._makeStorageReference(new io(t,r.name));i.items.push(o)}return i}(n,t,i)}(n,t,r);return Nl(null!==o),o}}(n,t.bucket),v);return M.urlParams=o,M.errorHandler=Jh(t),M}function zx(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function jx(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class F_{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}}function Xb(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch(r){Nl(!1)}return Nl(!!e&&-1!==(t||["active"]).indexOf(e)),e}const Zx={STATE_CHANGED:"state_changed"},Gr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Yx(n){switch(n){case"running":case"pausing":case"canceling":return Gr.RUNNING;case"paused":return Gr.PAUSED;case"success":return Gr.SUCCESS;case"canceled":return Gr.CANCELED;default:return Gr.ERROR}}class Jb{constructor(t,e,i){if(function Gh(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=null!=e?e:void 0,this.complete=null!=i?i:void 0;else{const o=t;this.next=o.next,this.error=o.error,this.complete=o.complete}}}function ef(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class Kx extends class eg{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=pi.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=pi.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=pi.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw Qp("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Qp("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Qp("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}}getResponse(){if(!this.sent_)throw Qp("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Qp("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}{initXhr(){this.xhr_.responseType="text"}}function ls(){return new Kx}class B_{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=Jp(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=r,this._transition("error"))},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this._promise=new Promise((r,o)=>{this._resolve=r,this._reject=o,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function eO(n,t,e,i,r){const o=t.bucketOnlyServerUrl(),c=zx(t,i,r),d={name:c.fullPath},p=br(o,n.host,n._protocol),M={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},E=Qb(c,e),V=new Fl(p,"POST",function R(Z){let re;Xb(Z);try{re=Z.getResponseHeader("X-Goog-Upload-URL")}catch(Pe){Nl(!1)}return Nl(Vc(re)),re},n.maxUploadRetryTime);return V.urlParams=d,V.headers=M,V.body=E,V.errorHandler=Jh(t),V}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,ls,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const r=function $x(n,t,e,i){const p=new Fl(e,"POST",function o(v){const M=Xb(v,["active","final"]);let E=null;try{E=v.getResponseHeader("X-Goog-Upload-Size-Received")}catch(R){Nl(!1)}E||Nl(!1);const O=Number(E);return Nl(!isNaN(O)),new F_(O,i.size(),"final"===M)},n.maxUploadRetryTime);return p.headers={"X-Goog-Upload-Command":"query"},p.errorHandler=Jh(t),p}(this._ref.storage,this._ref._location,t,this._blob),o=this._ref.storage._makeRequest(r,ls,e,i);this._request=o,o.getPromise().then(c=>{c=c,this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new F_(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,o)=>{let c;try{c=function Wx(n,t,e,i,r,o,c,d){const p=new F_(0,0);if(c?(p.current=c.current,p.total=c.total):(p.current=0,p.total=i.size()),i.size()!==p.total)throw function WF(){return new Ii("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const v=p.total-p.current;let M=v;r>0&&(M=Math.min(M,r));const E=p.current,V={"X-Goog-Upload-Command":M===v?"upload, finalize":"upload","X-Goog-Upload-Offset":`${p.current}`},Z=i.slice(E,E+M);if(null===Z)throw xx();const We=new Fl(e,"POST",function re(Le,St){const xt=Xb(Le,["active","final"]),Un=p.current+M,Hn=i.size();let lr;return lr="final"===xt?P_(t,o)(Le,St):null,new F_(Un,Hn,"final"===xt,lr)},t.maxUploadRetryTime);return We.headers=V,We.body=Z.uploadData(),We.progressCallback=d||null,We.errorHandler=Jh(n),We}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(p){return this._error=p,void this._transition("error")}const d=this._ref.storage._makeRequest(c,ls,r,o);this._request=d,d.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=Bx(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,ls,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function Gx(n,t,e,i,r){const o=t.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},p=function d(){let We="";for(let Le=0;Le<2;Le++)We+=Math.random().toString().slice(2);return We}();c["Content-Type"]="multipart/related; boundary="+p;const v=zx(t,i,r),M=Qb(v,e),R=ya.getBlob("--"+p+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+M+"\r\n--"+p+"\r\nContent-Type: "+v.contentType+"\r\n\r\n",i,"\r\n--"+p+"--");if(null===R)throw xx();const V={name:v.fullPath},Z=br(o,n.host,n._protocol),Pe=n.maxUploadRetryTime,Re=new Fl(Z,"POST",P_(n,e),Pe);return Re.urlParams=V,Re.headers=c,Re.body=R.uploadData(),Re.errorHandler=Jh(t),Re}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,ls,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=$I(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=Yx(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){const o=new Jb(e||void 0,i||void 0,r||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(Yx(this._state)){case Gr.SUCCESS:ef(this._resolve.bind(null,this.snapshot))();break;case Gr.CANCELED:case Gr.ERROR:ef(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(Yx(this._state)){case Gr.RUNNING:case Gr.PAUSED:t.next&&ef(t.next.bind(t,this.snapshot))();break;case Gr.SUCCESS:t.complete&&ef(t.complete.bind(t))();break;default:t.error&&ef(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class tf{constructor(t,e){this._service=t,this._location=e instanceof io?e:io.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new tf(t,e)}get root(){const t=new io(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Kb(this._location.path)}get storage(){return this._service}get parent(){const t=function Ax(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new io(this._location.bucket,t);return new tf(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw S_(t)}}function r0(n,t,e){return U_.apply(this,arguments)}function U_(){return(U_=(0,Ce.Z)(function*(n,t,e){const r=yield H_(n,{pageToken:e});t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&(yield r0(n,t,r.nextPageToken))})).apply(this,arguments)}function H_(n,t){null!=t&&"number"==typeof t.maxResults&&Xp("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=Vx(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,ls)}function Xx(n){n._throwIfRoot("getDownloadURL");const t=function Hx(n,t,e){const r=br(t.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new Fl(r,"GET",function KF(n,t){return function e(i,r){const o=Nx(n,r,t);return Nl(null!==o),function ZF(n,t,e,i){const r=Yb(t);if(null===r||!Vc(r.downloadTokens))return null;const o=r.downloadTokens;if(0===o.length)return null;const c=encodeURIComponent;return o.split(",").map(v=>{const E=n.fullPath;return br("/b/"+c(n.bucket)+"/o/"+c(E),e,i)+$h({alt:"media",token:v})})[0]}(o,r,n.host,n._protocol)}}(n,e),c);return d.errorHandler=Ya(t),d}(n.storage,n._location,Jp());return n.storage.makeRequestWithTokens(t,ls).then(e=>{if(null===e)throw function Ex(){return new Ii("no-download-url","The given file does not have any download URLs.")}();return e})}function j_(n,t){const e=function KI(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new io(n._location.bucket,e);return new tf(n.storage,i)}function s0(n,t){if(n instanceof z_){const e=n;if(null==e._bucket)throw function Mx(){return new Ii("no-default-bucket","No default bucket found. Did you set the '"+zb+"' property when initializing the app?")}();const i=new tf(e,e._bucket);return null!=t?s0(i,t):i}return void 0!==t?j_(n,t):n}function tE(n,t){if(t&&function eE(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof z_)return function oO(n,t){return new tf(n,t)}(n,t);throw Bc("To use ref(service, url), the first argument must be a Storage instance.")}return s0(n,t)}function a0(n,t){const e=null==t?void 0:t[zb];return null==e?null:io.makeFromBucketSpec(e,n)}class z_{constructor(t,e,i,r,o){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=HI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?io.makeFromBucketSpec(r,this._host):a0(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?io.makeFromBucketSpec(this._url,t):a0(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Xp("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Xp("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,Ce.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,Ce.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new tf(this,t)}_makeRequest(t,e,i,r){if(this._deleted)return new qI(Dx());{const o=function Zh(n,t,e,i,r,o){const c=$h(n.urlParams),d=n.url+c,p=Object.assign({},n.headers);return function qh(n,t){t&&(n["X-Firebase-GMPID"]=t)}(p,t),function Gs(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(p,e),function $b(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(p,o),function Wh(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(p,i),new cd(d,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r)}(t,this._appId,i,r,e,this._firebaseVersion);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(t,e){var i=this;return(0,Ce.Z)(function*(){const[r,o]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,o).getPromise()})()}}const c0="@firebase/storage";function h0(n,t){return tE(n=(0,N.m9)(n),t)}function oE(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new z_(e,i,r,t,Co.SDK_VERSION)}!function nf(){(0,Co._registerComponent)(new zs.wA("storage",oE,"PUBLIC").setMultipleInstances(!0)),(0,Co.registerVersion)(c0,"0.9.4",""),(0,Co.registerVersion)(c0,"0.9.4","esm2017")}();class G_{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class sE{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new G_(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new G_(i,this,this._ref))},e)}on(t,e,i,r){let o;return e&&(o="function"==typeof e?c=>e(new G_(c,this,this._ref)):{next:e.next?c=>e.next(new G_(c,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,i||void 0,r||void 0)}}class f0{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new Ll(t,this._service))}get items(){return this._delegate.items.map(t=>new Ll(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Ll{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function hO(n,t){return j_(n,t)}(this._delegate,t);return new Ll(e,this.storage)}get root(){return new Ll(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new Ll(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new sE(function nE(n,t,e){return function t0(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new B_(n,new ya(t),e)}(n=(0,N.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=Cr.RAW,i){this._throwIfRoot("putString");const r=I_(e,t),o=Object.assign({},i);return null==o.contentType&&null!=r.contentType&&(o.contentType=r.contentType),new sE(new B_(this._delegate,new ya(r.data,!0),o),this)}listAll(){return function iE(n){return function n0(n){const t={prefixes:[],items:[]};return r0(n,t).then(()=>t)}(n=(0,N.m9)(n))}(this._delegate).then(t=>new f0(t,this.storage))}list(t){return function uO(n,t){return H_(n=(0,N.m9)(n),t)}(this._delegate,t||void 0).then(e=>new f0(e,this.storage))}getMetadata(){return function QF(n){return function o0(n){n._throwIfRoot("getMetadata");const t=Bx(n.storage,n._location,Jp());return n.storage.makeRequestWithTokens(t,ls)}(n=(0,N.m9)(n))}(this._delegate)}updateMetadata(t){return function cO(n,t){return function rO(n,t){n._throwIfRoot("updateMetadata");const e=function R_(n,t,e,i){const o=br(t.fullServerUrl(),n.host,n._protocol),d=Qb(e,i),v=n.maxOperationRetryTime,M=new Fl(o,"PATCH",P_(n,i),v);return M.headers={"Content-Type":"application/json; charset=utf-8"},M.body=d,M.errorHandler=Ya(t),M}(n.storage,n._location,t,Jp());return n.storage.makeRequestWithTokens(e,ls)}(n=(0,N.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function dO(n){return Xx(n=(0,N.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function ir(n){return function Jx(n){n._throwIfRoot("deleteObject");const t=function JI(n,t){const i=br(t.fullServerUrl(),n.host,n._protocol),d=new Fl(i,"DELETE",function c(p,v){},n.maxOperationRetryTime);return d.successCodes=[200,204],d.errorHandler=Ya(t),d}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,ls)}(n=(0,N.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw S_(t)}}class p0{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(pO(t))throw Bc("ref() expected a child path but got a URL, use refFromURL instead.");return new Ll(h0(this._delegate,t),this)}refFromURL(t){if(!pO(t))throw Bc("refFromURL() expected a full URL but got a child path, use ref() instead.");try{io.makeFromUrl(t,this._delegate.host)}catch(e){throw Bc("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ll(h0(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function rE(n,t,e,i={}){!function l0(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,N.Sg)(r,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function pO(n){return/^[A-Za-z]+:\/\//.test(n)}function gO(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new p0(e,i)}!function mO(n){const t={TaskState:Gr,TaskEvent:Zx,StringFormat:Cr,Storage:p0,Reference:Ll};n.INTERNAL.registerComponent(new zs.wA("storage-compat",gO,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.12")}(jb.Z),L(5867);var $s=L(1877);const b0=new Map,C0={activated:!1,tokenObservers:[]},q_={initialized:!1,enabled:!1};function rr(n){return b0.get(n)||C0}function cs(n,t){b0.set(n,t)}function ng(){return q_}class MO{constructor(t,e,i,r,o){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Ce.Z)(function*(){e.stop();try{e.pending=new N.BH,yield function xO(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new N.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Mo=new N.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function dE(n){if(!rr(n).activated)throw Mo.create("use-before-activation",{appName:n.name})}function x0(n,t){return E0.apply(this,arguments)}function E0(){return(E0=(0,Ce.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const E=yield r.getHeartbeatsHeader();E&&(i["X-Firebase-Client"]=E)}const o={method:"POST",body:JSON.stringify(t),headers:i};let c,d;try{c=yield fetch(n,o)}catch(E){throw Mo.create("fetch-network-error",{originalErrorMessage:E.message})}if(200!==c.status)throw Mo.create("fetch-status-error",{httpStatus:c.status});try{d=yield c.json()}catch(E){throw Mo.create("fetch-parse-error",{originalErrorMessage:E.message})}const p=d.ttl.match(/^([\d.]+)(s)$/);if(!p||!p[2]||isNaN(Number(p[1])))throw Mo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${d.ttl}`});const v=1e3*Number(p[1]),M=Date.now();return{token:d.attestationToken,expireTimeMillis:M+v,issuedAtTimeMillis:M}})).apply(this,arguments)}function IO(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const ig="firebase-app-check-store";let rg=null;function S0(){return rg||(rg=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(Mo.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(ig,{keyPath:"compositeKey"})}}catch(e){t(Mo.create("storage-open",{originalErrorMessage:e.message}))}}),rg)}function K_(){return(K_=(0,Ce.Z)(function*(n,t){const i=(yield S0()).transaction(ig,"readwrite"),o=i.objectStore(ig).put({compositeKey:n,value:t});return new Promise((c,d)=>{o.onsuccess=p=>{c()},i.onerror=p=>{var v;d(Mo.create("storage-set",{originalErrorMessage:null===(v=p.target.error)||void 0===v?void 0:v.message}))}})})).apply(this,arguments)}const sg=new $s.Yd("@firebase/app-check");function PO(n,t){return(0,N.hl)()?function fE(n,t){return function T0(n,t){return K_.apply(this,arguments)}(function Hc(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{sg.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function O0(){return ng().enabled}function k0(){return _E.apply(this,arguments)}function _E(){return(_E=(0,Ce.Z)(function*(){const n=ng();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const RO={error:"UNKNOWN_ERROR"};function FO(n){return N.US.encodeString(JSON.stringify(n),!1)}function X_(n){return rf.apply(this,arguments)}function rf(){return(rf=(0,Ce.Z)(function*(n,t=!1){const e=n.app;dE(e);const i=rr(e);let o,r=i.token;if(!r){const p=yield i.cachedTokenPromise;p&&lg(p)&&(r=p)}if(!t&&r&&lg(r))return{token:r.token};let d,c=!1;if(O0()){i.exchangeTokenPromise||(i.exchangeTokenPromise=x0(IO(e,yield k0()),n.heartbeatServiceProvider).then(v=>(i.exchangeTokenPromise=void 0,v)),c=!0);const p=yield i.exchangeTokenPromise;return yield PO(e,p),cs(e,Object.assign(Object.assign({},i),{token:p})),{token:p.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(p=>(i.exchangeTokenPromise=void 0,p)),c=!0),r=yield i.exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?sg.warn(p.message):sg.error(p),o=p}return r?(d={token:r.token},cs(e,Object.assign(Object.assign({},i),{token:r})),yield PO(e,r)):d=LO(o),c&&NO(e,d),d})).apply(this,arguments)}function sf(n,t){const e=rr(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),cs(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function ag(n){const{app:t}=n,e=rr(t);let i=e.tokenRefresher;i||(i=function bi(n){const{app:t}=n;return new MO((0,Ce.Z)(function*(){let i;if(i=rr(t).token?yield X_(n,!0):yield X_(n),i.error)throw i.error}),()=>!0,()=>{const e=rr(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),cs(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function NO(n,t){const e=rr(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(r){}}function lg(n){return n.expireTimeMillis-Date.now()>0}function LO(n){return{token:FO(RO),error:n}}class BO{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=rr(this.app);for(const e of t)sf(this.app,e.next);return Promise.resolve()}}const kE="app-check-internal";!function sN(){(0,Co._registerComponent)(new zs.wA("app-check",n=>function vE(n,t){return new BO(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(kE).initialize()})),(0,Co._registerComponent)(new zs.wA(kE,n=>function yE(n){return{getToken:t=>X_(n,t),addTokenListener:t=>function A0(n,t,e,i){const{app:r}=n,o=rr(r),c={next:e,error:i,type:t};if(cs(r,Object.assign(Object.assign({},o),{tokenObservers:[...o.tokenObservers,c]})),o.token&&lg(o.token)){const d=o.token;Promise.resolve().then(()=>{e({token:d.token}),ag(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>ag(n))}(n,"INTERNAL",t),removeTokenListener:t=>sf(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Co.registerVersion)("@firebase/app-check","0.5.5")}();class ev{constructor(){return(0,vn.vb)("app-check")}}"undefined"!=typeof window&&window;var R0=L(127);function PE(n){return new Rn.y(t=>{const e=c=>t.next(c);e(n.snapshot);const o=n.on("state_changed",e);return n.then(c=>{e(c),t.complete()},c=>{e(n.snapshot),(c=>{t.error(c)})(c)}),function(){o()}}).pipe(function D_(n,t=ld.z){return(0,di.e)((e,i)=>{let r=null,o=null,c=null;const d=()=>{if(r){r.unsubscribe(),r=null;const v=o;o=null,i.next(v)}};function p(){const v=c+n,M=t.now();if(M<v)return r=this.schedule(void 0,v-M),void i.add(r);d()}e.subscribe((0,Mn.x)(i,v=>{o=v,c=t.now(),r||(r=t.schedule(p,n),i.add(r))},()=>{d(),i.complete()},void 0,()=>{o=r=null}))})}(0))}function RE(n){const t=PE(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,pt.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function hg(n){return{getDownloadURL:()=>et(void 0).pipe(vn.fc,un(()=>n.getDownloadURL()),vn.iC),getMetadata:()=>et(void 0).pipe(vn.fc,un(()=>n.getMetadata()),vn.iC),delete:()=>(0,Pn.D)(n.delete()),child:t=>hg(n.child(t)),updateMetadata:t=>(0,Pn.D)(n.updateMetadata(t)),put:(t,e)=>RE(n.put(t,e)),putString:(t,e,i)=>RE(n.putString(t,e,i)),list:t=>(0,Pn.D)(n.list(t)),listAll:()=>(0,Pn.D)(n.listAll())}}const JO=new l.OlP("angularfire2.storageBucket"),FE=new l.OlP("angularfire2.storage.maxUploadRetryTime"),ek=new l.OlP("angularfire2.storage.maxOperationRetryTime"),F0=new l.OlP("angularfire2.storage.use-emulator");let NE=(()=>{class n{constructor(e,i,r,o,c,d,p,v,M,E){const O=(0,nr.on)(e,c,i);this.storage=(0,nr.cc)(`${O.name}.storage.${r}`,"AngularFireStorage",O.name,()=>{const R=c.runOutsideAngular(()=>O.storage(r||void 0)),V=M;return V&&R.useEmulator(...V),p&&R.setMaxUploadRetryTime(p),v&&R.setMaxOperationRetryTime(v),R},[p,v])}ref(e){return hg(this.storage.ref(e))}refFromURL(e){return hg(this.storage.refFromURL(e))}upload(e,i,r){return hg(this.storage.ref(e)).put(i,r)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(nr.Dh),l.LFG(nr.xv,8),l.LFG(JO,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(vn.HU),l.LFG(FE,8),l.LFG(ek,8),l.LFG(F0,8),l.LFG(ev,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),LE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),nk=(()=>{class n{constructor(){R0.Z.registerVersion("angularfire",vn.q4.full,"gcs-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[NE],imports:[LE]}),n})();function N0(){return(0,di.e)((n,t)=>{let e,i=!1;n.subscribe((0,Mn.x)(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}function L0(n,t=Vr.y){return n=null!=n?n:B0,(0,di.e)((e,i)=>{let r,o=!0;e.subscribe((0,Mn.x)(i,c=>{const d=t(c);(o||!n(r,d))&&(o=!1,r=d,i.next(c))}))})}function B0(n,t){return n===t}L(4087);var ot,BE="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Bl={},V0=V0||{},Bt=BE||self;function tv(){}function U0(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function fg(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var nv="closure_uid_"+(1e9*Math.random()>>>0),VE=0;function rk(n,t,e){return n.call.apply(n.bind,arguments)}function ok(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function wr(n,t,e){return(wr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?rk:ok).apply(null,arguments)}function iv(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function $r(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,r,o){for(var c=Array(arguments.length-2),d=2;d<arguments.length;d++)c[d-2]=arguments[d];return t.prototype[r].apply(i,c)}}function zc(){this.s=this.s,this.o=this.o}var j0={};zc.prototype.s=!1,zc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function ik(n){return Object.prototype.hasOwnProperty.call(n,nv)&&n[nv]||(n[nv]=++VE)}(this);delete j0[n]}},zc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const z0=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},rv=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const i=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<i;o++)o in r&&t.call(e,r[o],o,n)};function UE(n){return Array.prototype.concat.apply([],arguments)}function pg(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function ov(n){return/^[\s\xa0]*$/.test(n)}var Eo,G0=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function xo(n,t){return-1!=n.indexOf(t)}function sv(n,t){return n<t?-1:n>t?1:0}e:{var $0=Bt.navigator;if($0){var ak=$0.userAgent;if(ak){Eo=ak;break e}}Eo=""}function q0(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function df(n){const t={};for(const e in n)t[e]=n[e];return t}var HE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function dd(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let o=0;o<HE.length;o++)e=HE[o],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function hd(n){return hd[" "](n),n}hd[" "]=tv;var gg,n,pN=xo(Eo,"Opera"),fd=xo(Eo,"Trident")||xo(Eo,"MSIE"),jE=xo(Eo,"Edge"),W0=jE||fd,zE=xo(Eo,"Gecko")&&!(xo(Eo.toLowerCase(),"webkit")&&!xo(Eo,"Edge"))&&!(xo(Eo,"Trident")||xo(Eo,"MSIE"))&&!xo(Eo,"Edge"),ck=xo(Eo.toLowerCase(),"webkit")&&!xo(Eo,"Edge");function Z0(){var n=Bt.document;return n?n.documentMode:void 0}e:{var mg="",hf=(n=Eo,zE?/rv:([^\);]+)(\)|;)/.exec(n):jE?/Edge\/([\d\.]+)/.exec(n):fd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):ck?/WebKit\/(\S+)/.exec(n):pN?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(hf&&(mg=hf?hf[1]:""),fd){var pd=Z0();if(null!=pd&&pd>parseFloat(mg)){gg=String(pd);break e}}gg=mg}var uk={};var dk=Bt.document&&fd&&(Z0()||parseInt(gg,10))||void 0,hk=function(){if(!Bt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Bt.addEventListener("test",tv,t),Bt.removeEventListener("test",tv,t)}catch(e){}return n}();function Mr(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function _g(n,t){if(Mr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(zE){e:{try{hd(t.nodeName);var r=!0;break e}catch(o){}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:gN[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&_g.Z.h.call(this)}}Mr.prototype.h=function(){this.defaultPrevented=!0},$r(_g,Mr);var gN={2:"touch",3:"pen",4:"mouse"};_g.prototype.h=function(){_g.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var vg="closure_listenable_"+(1e6*Math.random()|0),fk=0;function ff(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ia=r,this.key=++fk,this.ca=this.fa=!1}function yg(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Vl(n){this.src=n,this.g={},this.h=0}function qE(n,t){var e=t.type;if(e in n.g){var o,i=n.g[e],r=z0(i,t);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(yg(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function lv(n,t,e,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.ca&&o.listener==t&&o.capture==!!e&&o.ia==i)return r}return-1}Vl.prototype.add=function(n,t,e,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var c=lv(n,t,i,r);return-1<c?(t=n[c],e||(t.fa=!1)):((t=new ff(t,this.src,o,!!i,r)).fa=e,n.push(t)),t};var Y0="closure_lm_"+(1e6*Math.random()|0),WE={};function K0(n,t,e,i,r){if(i&&i.once)return cv(n,t,e,i,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)K0(n,t[o],e,i,r);return null}return e=eC(e),n&&n[vg]?n.N(t,e,fg(i)?!!i.capture:!!i,r):pk(n,t,e,!1,i,r)}function pk(n,t,e,i,r,o){if(!t)throw Error("Invalid event type");var c=fg(r)?!!r.capture:!!r,d=X0(n);if(d||(n[Y0]=d=new Vl(n)),(e=d.add(t,e,i,c,o)).proxy)return e;if(i=function ZE(){var t=gk;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)hk||(r=c),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(YE(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function cv(n,t,e,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)cv(n,t[o],e,i,r);return null}return e=eC(e),n&&n[vg]?n.O(t,e,fg(i)?!!i.capture:!!i,r):pk(n,t,e,!0,i,r)}function Q0(n,t,e,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)Q0(n,t[o],e,i,r);else i=fg(i)?!!i.capture:!!i,e=eC(e),n&&n[vg]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=lv(o=n.g[t],e,i,r))&&(yg(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete n.g[t],n.h--))):n&&(n=X0(n))&&(t=n.g[t.toString()],n=-1,t&&(n=lv(t,e,i,r)),(e=-1<n?t[n]:null)&&uv(e))}function uv(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[vg])qE(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(YE(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=X0(t))?(qE(e,n),0==e.h&&(e.src=null,t[Y0]=null)):yg(n)}}}function YE(n){return n in WE?WE[n]:WE[n]="on"+n}function gk(n,t){if(n.ca)n=!0;else{t=new _g(t,this);var e=n.listener,i=n.ia||n.src;n.fa&&uv(n),n=e.call(i,t)}return n}function X0(n){return(n=n[Y0])instanceof Vl?n:null}var J0="__closure_events_fn_"+(1e9*Math.random()>>>0);function eC(n){return"function"==typeof n?n:(n[J0]||(n[J0]=function(t){return n.handleEvent(t)}),n[J0])}function xr(){zc.call(this),this.i=new Vl(this),this.P=this,this.I=null}function qr(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new Mr(t,n);else if(t instanceof Mr)t.target=t.target||n;else{var r=t;dd(t=new Mr(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var c=t.g=e[o];r=dv(c,i,!0,t)&&r}if(r=dv(c=t.g=n,i,!0,t)&&r,r=dv(c,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=dv(c=t.g=e[o],i,!1,t)&&r}function dv(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var c=t[o];if(c&&!c.ca&&c.capture==e){var d=c.listener,p=c.ia||c.src;c.fa&&qE(n.i,c),r=!1!==d.call(p,i)&&r}}return r&&!i.defaultPrevented}$r(xr,zc),xr.prototype[vg]=!0,xr.prototype.removeEventListener=function(n,t,e,i){Q0(this,n,t,e,i)},xr.prototype.M=function(){if(xr.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)yg(e[i]);delete n.g[t],n.h--}}this.I=null},xr.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},xr.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var gd=Bt.JSON.stringify;function KE(){var n=tD;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var nC,tC=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new XE,n=>n.reset());class XE{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function JE(n){Bt.setTimeout(()=>{throw n},0)}function hv(n,t){nC||function eD(){var n=Bt.Promise.resolve(void 0);nC=function(){n.then(mk)}}(),fv||(nC(),fv=!0),tD.add(n,t)}var fv=!1,tD=new class QE{constructor(){this.h=this.g=null}add(t,e){const i=tC.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function mk(){for(var n;n=KE();){try{n.h.call(n.g)}catch(e){JE(e)}var t=tC;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}fv=!1}function pv(n,t){xr.call(this),this.h=n||1,this.g=t||Bt,this.j=wr(this.kb,this),this.l=Date.now()}function md(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function iC(n,t,e){if("function"==typeof n)e&&(n=wr(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=wr(n.handleEvent,n)}return 2147483647<Number(t)?-1:Bt.setTimeout(n,t||0)}function gv(n){n.g=iC(()=>{n.g=null,n.i&&(n.i=!1,gv(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}$r(pv,xr),(ot=pv.prototype).da=!1,ot.S=null,ot.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),qr(this,"tick"),this.da&&(md(this),this.start()))}},ot.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ot.M=function(){pv.Z.M.call(this),md(this),delete this.g};class Qa extends zc{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:gv(this)}M(){super.M(),this.g&&(Bt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bg(n){zc.call(this),this.h=n,this.g={}}$r(bg,zc);var Cg=[];function pf(n,t,e,i){Array.isArray(e)||(e&&(Cg[0]=e.toString()),e=Cg);for(var r=0;r<e.length;r++){var o=K0(t,e[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function nD(n){q0(n.g,function(t,e){this.g.hasOwnProperty(e)&&uv(t)},n),n.g={}}function mv(){this.g=!0}function Ul(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function yk(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var c=1;c<r.length;c++)r[c]=""}}}return gd(e)}catch(d){return t}}(n,e)+(i?" "+i:"")})}bg.prototype.M=function(){bg.Z.M.call(this),nD(this)},bg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},mv.prototype.Aa=function(){this.g=!1},mv.prototype.info=function(){};var Gc={},rC=null;function gf(){return rC=rC||new xr}function oC(n){Mr.call(this,Gc.Ma,n)}function wg(n){const t=gf();qr(t,new oC(t,n))}function iD(n,t){Mr.call(this,Gc.STAT_EVENT,n),this.stat=t}function qo(n){const t=gf();qr(t,new iD(t,n))}function vv(n,t){Mr.call(this,Gc.Na,n),this.size=t}function _d(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Bt.setTimeout(function(){n()},t)}Gc.Ma="serverreachability",$r(oC,Mr),Gc.STAT_EVENT="statevent",$r(iD,Mr),Gc.Na="timingevent",$r(vv,Mr);var Mg={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},yv={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function xg(){}function oD(){}xg.prototype.h=null;var Dg,Eg={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function sC(){Mr.call(this,"d")}function bv(){Mr.call(this,"c")}function Sg(){}function mf(n,t,e,i){this.l=n,this.j=t,this.m=e,this.X=i||1,this.V=new bg(this),this.P=sD,this.W=new pv(n=W0?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new aC}function aC(){this.i=null,this.g="",this.h=!1}$r(sC,Mr),$r(bv,Mr),$r(Sg,xg),Sg.prototype.g=function(){return new XMLHttpRequest},Sg.prototype.i=function(){return{}},Dg=new Sg;var sD=45e3,lC={},Tg={};function Cv(n,t,e){n.K=1,n.v=bd(qs(t)),n.s=e,n.U=!0,aD(n,null)}function aD(n,t){n.F=Date.now(),Xa(n),n.A=qs(n.v);var e=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),gC(e.h,"t",i),n.C=0,e=n.l.H,n.h=new aC,n.g=RD(n.l,e?t:null,!n.s),0<n.O&&(n.L=new Qa(wr(n.Ia,n,n.g),n.O)),pf(n.V,n.g,"readystatechange",n.gb),t=n.H?df(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),wg(1),function _k(n,t,e,i,r,o){n.info(function(){if(n.g)if(o)for(var c="",d=o.split("&"),p=0;p<d.length;p++){var v=d[p].split("=");if(1<v.length){var M=v[0];v=v[1];var E=M.split("_");c=2<=E.length&&"type"==E[1]?c+(M+"=")+v+"&":c+(M+"=redacted&")}}else c=null;else c=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function cC(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function lD(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=Do(n,e),r==Tg){4==t&&(n.o=4,qo(14),i=!1),Ul(n.j,n.m,null,"[Incomplete Response]");break}if(r==lC){n.o=4,qo(15),Ul(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Ul(n.j,n.m,r,null),uC(n,r)}cC(n)&&r!=Tg&&r!=lC&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,qo(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),kv(t),t.L=!0,qo(11))):(Ul(n.j,n.m,e,"[Invalid Chunked Response]"),wa(n),Mv(n))}function Do(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?Tg:(e=Number(t.substring(e,i)),isNaN(e)?lC:(i+=1)+e>t.length?Tg:(t=t.substr(i,e),n.C=i+e,t))}function Xa(n){n.Y=Date.now()+n.P,cD(n,n.P)}function cD(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=_d(wr(n.eb,n),t)}function wv(n){n.B&&(Bt.clearTimeout(n.B),n.B=null)}function Mv(n){0==n.l.G||n.I||AD(n.l,n)}function wa(n){wv(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,md(n.W),nD(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function uC(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||MD(e.i,n)))if(e.I=n.N,!n.J&&MD(e.i,n)&&3==e.G){try{var i=e.Ca.g.parse(t)}catch(v){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(e.u)e.ta=r[1],0<e.ta-e.U&&37500>r[2]&&e.N&&0==e.A&&!e.v&&(e.v=_d(wr(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<n.F))break e;Av(e),Ov(e)}DC(e),qo(18)}if(1>=wD(e.i)&&e.ka){try{e.ka()}catch(v){}e.ka=void 0}}else Wr(e,11)}else if((n.J||e.g==n)&&Av(e),!ov(t))for(r=e.Ca.g.parse(t),t=0;t<r.length;t++){let v=r[t];if(e.U=v[0],v=v[1],2==e.G)if("c"==v[0]){e.J=v[1],e.la=v[2];const M=v[3];null!=M&&(e.ma=M,e.h.info("VER="+e.ma));const E=v[4];null!=E&&(e.za=E,e.h.info("SVER="+e.za));const O=v[5];null!=O&&"number"==typeof O&&0<O&&(e.K=i=1.5*O,e.h.info("backChannelRequestTimeoutMs_="+i)),i=e;const R=n.g;if(R){const V=R.g?R.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(V){var o=i.i;!o.g&&(xo(V,"spdy")||xo(V,"quic")||xo(V,"h2"))&&(o.j=o.l,o.g=new Set,o.h&&(Ev(o,o.h),o.h=null))}if(i.D){const Z=R.g?R.g.getResponseHeader("X-HTTP-Session-Id"):null;Z&&(i.sa=Z,Kn(i.F,i.D,Z))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var c=n;if((i=e).oa=Tk(i,i.H?i.la:null,i.W),c.J){Mk(i.i,c);var d=c,p=i.K;p&&d.setTimeout(p),d.B&&(wv(d),Xa(d)),i.g=c}else EC(i);0<e.l.length&&Cf(e)}else"stop"!=v[0]&&"close"!=v[0]||Wr(e,7);else 3==e.G&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?Wr(e,7):kg(e):"noop"!=v[0]&&e.j&&e.j.wa(v),e.A=0)}wg(4)}catch(v){}}function hC(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(U0(n)||"string"==typeof n)rv(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(U0(n)||"string"==typeof n){e=[];for(var i=n.length,r=0;r<i;r++)e.push(r)}else for(r in e=[],i=0,n)e[i++]=r;i=function dC(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(U0(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length;for(var o=0;o<r;o++)t.call(void 0,i[o],e&&e[o],n)}}function vd(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var i=0;i<e;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof vd)for(e=n.T(),i=0;i<e.length;i++)this.set(e[i],n.get(e[i]));else for(i in n)this.set(i,n[i])}function fC(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var i=n.g[t];yd(n.h,i)&&(n.g[e++]=i),t++}n.g.length=e}if(n.i!=n.g.length){var r={};for(e=t=0;t<n.g.length;)yd(r,i=n.g[t])||(n.g[e++]=i,r[i]=1),t++;n.g.length=e}}function yd(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(ot=mf.prototype).setTimeout=function(n){this.P=n},ot.gb=function(n){n=n.target;const t=this.L;t&&3==qc(n)?t.l():this.Ia(n)},ot.Ia=function(n){try{if(n==this.g)e:{const M=qc(this.g);var t=this.g.Da();const E=this.g.ba();if(!(3>M)&&(3!=M||W0||this.g&&(this.h.h||this.g.ga()||ID(this.g)))){this.I||4!=M||7==t||wg(8==t||0>=E?3:2),wv(this);var e=this.g.ba();this.N=e;t:if(cC(this)){var i=ID(this.g);n="";var r=i.length,o=4==qc(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){wa(this),Mv(this);var c="";break t}this.h.i=new Bt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:o&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==e,function _v(n,t,e,i,r,o,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+o+" "+c})}(this.j,this.u,this.A,this.m,this.X,M,e),this.i){if(this.$&&!this.J){t:{if(this.g){var d,p=this.g;if((d=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ov(d)){var v=d;break t}}v=null}if(!(e=v)){this.i=!1,this.o=3,qo(12),wa(this),Mv(this);break e}Ul(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,uC(this,e)}this.U?(lD(this,M,c),W0&&this.i&&3==M&&(pf(this.V,this.W,"tick",this.fb),this.W.start())):(Ul(this.j,this.m,c,null),uC(this,c)),4==M&&wa(this),this.i&&!this.I&&(4==M?AD(this.l,this):(this.i=!1,Xa(this)))}else 400==e&&0<c.indexOf("Unknown SID")?(this.o=3,qo(12)):(this.o=0,qo(13)),wa(this),Mv(this)}}}catch(M){}},ot.fb=function(){if(this.g){var n=qc(this.g),t=this.g.ga();this.C<t.length&&(wv(this),lD(this,n,t),this.i&&4!=n&&Xa(this))}},ot.cancel=function(){this.I=!0,wa(this)},ot.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function vk(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(wg(3),qo(17)),wa(this),this.o=2,Mv(this)):cD(this,this.Y-n)},(ot=vd.prototype).R=function(){fC(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},ot.T=function(){return fC(this),this.g.concat()},ot.get=function(n,t){return yd(this.h,n)?this.h[n]:t},ot.set=function(n,t){yd(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},ot.forEach=function(n,t){for(var e=this.T(),i=0;i<e.length;i++){var r=e[i],o=this.get(r);n.call(t,o,r,this)}};var xv=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function $c(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof $c){this.g=void 0!==t?t:n.g,_f(this,n.j),this.s=n.s,pC(this,n.i),Ig(this,n.m),this.l=n.l,t=n.h;var e=new vf;e.i=t.i,t.g&&(e.g=new vd(t.g),e.h=t.h),dD(this,e),this.o=n.o}else n&&(e=String(n).match(xv))?(this.g=!!t,_f(this,e[1]||"",!0),this.s=Cd(e[2]||""),pC(this,e[3]||"",!0),Ig(this,e[4]),this.l=Cd(e[5]||"",!0),dD(this,e[6]||"",!0),this.o=Cd(e[7]||"")):(this.g=!!t,this.h=new vf(null,this.g))}function qs(n){return new $c(n)}function _f(n,t,e){n.j=e?Cd(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function pC(n,t,e){n.i=e?Cd(t,!0):t}function Ig(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function dD(n,t,e){t instanceof vf?(n.h=t,function vD(n,t){t&&!n.j&&(Hl(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(mD(this,i),gC(this,r,e))},n)),n.j=t}(n.h,n.g)):(e||(t=wd(t,gD)),n.h=new vf(t,n.g))}function Kn(n,t,e){n.h.set(t,e)}function bd(n){return Kn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Cd(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function wd(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,mN),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function mN(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}$c.prototype.toString=function(){var n=[],t=this.j;t&&n.push(wd(t,fD,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(wd(t,fD,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(wd(e,"/"==e.charAt(0)?pD:Ck,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",wd(e,wk)),n.join("")};var fD=/[#\/\?@]/g,Ck=/[#\?:]/g,pD=/[#\?]/g,gD=/[#\?@]/g,wk=/#/g;function vf(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Hl(n){n.g||(n.g=new vd,n.h=0,n.i&&function uD(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var o=n[e].substring(0,i);r=n[e].substring(i+1)}else o=n[e];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function mD(n,t){Hl(n),t=yf(n,t),yd(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,yd((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&fC(n)))}function _D(n,t){return Hl(n),t=yf(n,t),yd(n.g.h,t)}function gC(n,t,e){mD(n,t),0<e.length&&(n.i=null,n.g.set(yf(n,t),pg(e)),n.h+=e.length)}function yf(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function mC(n){this.l=n||bD,n=Bt.PerformanceNavigationTiming?0<(n=Bt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Bt.g&&Bt.g.Ea&&Bt.g.Ea()&&Bt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ot=vf.prototype).add=function(n,t){Hl(this),this.i=null,n=yf(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},ot.forEach=function(n,t){Hl(this),this.g.forEach(function(e,i){rv(e,function(r){n.call(t,r,i,this)},this)},this)},ot.T=function(){Hl(this);for(var n=this.g.R(),t=this.g.T(),e=[],i=0;i<t.length;i++)for(var r=n[i],o=0;o<r.length;o++)e.push(t[i]);return e},ot.R=function(n){Hl(this);var t=[];if("string"==typeof n)_D(this,n)&&(t=UE(t,this.g.get(yf(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=UE(t,n[e])}return t},ot.set=function(n,t){return Hl(this),this.i=null,_D(this,n=yf(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},ot.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},ot.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var i=t[e],r=encodeURIComponent(String(i));i=this.R(i);for(var o=0;o<i.length;o++){var c=r;""!==i[o]&&(c+="="+encodeURIComponent(String(i[o]))),n.push(c)}}return this.i=n.join("&")};var bD=10;function CD(n){return!!n.h||!!n.g&&n.g.size>=n.j}function wD(n){return n.h?1:n.g?n.g.size:0}function MD(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function Ev(n,t){n.g?n.g.add(t):n.h=t}function Mk(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function xk(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return pg(n.i)}function xD(){}function _N(){this.g=new xD}function vN(n,t,e){const i=e||"";try{hC(n,function(r,o){let c=r;fg(r)&&(c=gd(r)),t.push(i+o+"="+encodeURIComponent(c))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function _C(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch(o){}}function Dv(n){this.l=n.$b||null,this.j=n.ib||!1}function Md(n,t){xr.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=ED,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}mC.prototype.cancel=function(){if(this.i=xk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},xD.prototype.stringify=function(n){return Bt.JSON.stringify(n,void 0)},xD.prototype.parse=function(n){return Bt.JSON.parse(n,void 0)},$r(Dv,xg),Dv.prototype.g=function(){return new Md(this.l,this.j)},Dv.prototype.i=function(n){return function(){return n}}({}),$r(Md,xr);var ED=0;function Sv(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Ja(n){n.readyState=4,n.l=null,n.j=null,n.A=null,bf(n)}function bf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ot=Md.prototype).open=function(n,t){if(this.readyState!=ED)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,bf(this)},ot.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Bt).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},ot.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ja(this)),this.readyState=ED},ot.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,bf(this)),this.g&&(this.readyState=3,bf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Bt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Sv(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},ot.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Ja(this):bf(this),3==this.readyState&&Sv(this)}},ot.Ua=function(n){this.g&&(this.response=this.responseText=n,Ja(this))},ot.Ta=function(n){this.g&&(this.response=n,Ja(this))},ot.ha=function(){this.g&&Ja(this)},ot.setRequestHeader=function(n,t){this.v.append(n,t)},ot.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ot.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(Md.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Ek=Bt.JSON.parse;function Gi(n){xr.call(this),this.headers=new vd,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Tv,this.K=this.L=!1}$r(Gi,xr);var Tv="",DD=/^https?$/i,SD=["POST","PUT"];function bN(n){return"content-type"==n.toLowerCase()}function vC(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,Og(n),bC(n)}function Og(n){n.D||(n.D=!0,qr(n,"complete"),qr(n,"error"))}function yC(n){if(n.h&&void 0!==V0&&(!n.C[1]||4!=qc(n)||2!=n.ba()))if(n.v&&4==qc(n))iC(n.Fa,0,n);else if(qr(n,"readystatechange"),4==qc(n)){n.h=!1;try{const d=n.ba();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===d){var r=String(n.H).match(xv)[1]||null;if(!r&&Bt.self&&Bt.self.location){var o=Bt.self.location.protocol;r=o.substr(0,o.length-1)}i=!DD.test(r?r.toLowerCase():"")}e=i}if(e)qr(n,"complete"),qr(n,"success");else{n.m=6;try{var c=2<qc(n)?n.g.statusText:""}catch(p){c=""}n.j=c+" ["+n.ba()+"]",Og(n)}}finally{bC(n)}}}function bC(n,t){if(n.g){Dk(n);const e=n.g,i=n.C[0]?tv:null;n.g=null,n.C=null,t||qr(n,"ready");try{e.onreadystatechange=i}catch(r){}}}function Dk(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Bt.clearTimeout(n.A),n.A=null)}function qc(n){return n.g?n.g.readyState:0}function ID(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Tv:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(t){return null}}function wC(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=function CC(n){let t="";return q0(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Kn(n,t,e))}function Iv(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function OD(n){this.za=0,this.l=[],this.h=new mv,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Iv("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Iv("baseRetryDelayMs",5e3,n),this.$a=Iv("retryDelaySeedMs",1e4,n),this.Ya=Iv("forwardChannelMaxRetries",2,n),this.ra=Iv("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new mC(n&&n.concurrentRequestLimit),this.Ca=new _N,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function kg(n){if(Wo(n),3==n.G){var t=n.V++,e=qs(n.F);Kn(e,"SID",n.J),Kn(e,"RID",t),Kn(e,"TYPE","terminate"),xd(n,e),(t=new mf(n,n.h,t,void 0)).K=2,t.v=bd(qs(e)),e=!1,Bt.navigator&&Bt.navigator.sendBeacon&&(e=Bt.navigator.sendBeacon(t.v.toString(),"")),!e&&Bt.Image&&((new Image).src=t.v,e=!0),e||(t.g=RD(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Xa(t)}PD(n)}function Ov(n){n.g&&(kv(n),n.g.cancel(),n.g=null)}function Wo(n){Ov(n),n.u&&(Bt.clearTimeout(n.u),n.u=null),Av(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Bt.clearTimeout(n.m),n.m=null)}function MC(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&Cf(n)}function Cf(n){CD(n.i)||n.m||(n.m=!0,hv(n.Ha,n),n.C=0)}function kD(n,t){var e;e=t?t.m:n.V++;const i=qs(n.F);Kn(i,"SID",n.J),Kn(i,"RID",e),Kn(i,"AID",n.U),xd(n,i),n.o&&n.s&&wC(i,n.o,n.s),e=new mf(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=xC(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Ev(n.i,e),Cv(e,i,t)}function xd(n,t){n.j&&hC({},function(e,i){Kn(t,i,e)})}function xC(n,t,e){e=Math.min(n.l.length,e);var i=n.j?wr(n.j.Oa,n.j,n):null;e:{var r=n.l;let o=-1;for(;;){const c=["count="+e];-1==o?0<e?(o=r[0].h,c.push("ofs="+o)):o=0:c.push("ofs="+o);let d=!0;for(let p=0;p<e;p++){let v=r[p].h;const M=r[p].g;if(v-=o,0>v)o=Math.max(0,r[p].h-100),d=!1;else try{vN(M,c,"req"+v+"_")}catch(E){i&&i(M)}}if(d){i=c.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,i}function EC(n){n.g||n.u||(n.Y=1,hv(n.Ga,n),n.A=0)}function DC(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=_d(wr(n.Ga,n),Pv(n,n.A)),n.A++,0))}function kv(n){null!=n.B&&(Bt.clearTimeout(n.B),n.B=null)}function SC(n){n.g=new mf(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=qs(n.oa);Kn(t,"RID","rpc"),Kn(t,"SID",n.J),Kn(t,"CI",n.N?"0":"1"),Kn(t,"AID",n.U),xd(n,t),Kn(t,"TYPE","xmlhttp"),n.o&&n.s&&wC(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=bd(qs(t)),e.s=null,e.U=!0,aD(e,n)}function Av(n){null!=n.v&&(Bt.clearTimeout(n.v),n.v=null)}function AD(n,t){var e=null;if(n.g==t){Av(n),kv(n),n.g=null;var i=2}else{if(!MD(n.i,t))return;e=t.D,Mk(n.i,t),i=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;qr(i=gf(),new vv(i,e,t,r)),Cf(n)}else EC(n);else if(3==(r=t.o)||0==r&&0<n.I||!(1==i&&function Sk(n,t){return!(wD(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=_d(wr(n.Ha,n,t),Pv(n,n.C)),n.C++,0)))}(n,t)||2==i&&DC(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:Wr(n,5);break;case 4:Wr(n,10);break;case 3:Wr(n,6);break;default:Wr(n,2)}}function Pv(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function Wr(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var i=wr(n.jb,n);e||(e=new $c("//www.google.com/images/cleardot.gif"),Bt.location&&"http"==Bt.location.protocol||_f(e,"https"),bd(e)),function yN(n,t){const e=new mv;if(Bt.Image){const i=new Image;i.onload=iv(_C,e,i,"TestLoadImage: loaded",!0,t),i.onerror=iv(_C,e,i,"TestLoadImage: error",!1,t),i.onabort=iv(_C,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=iv(_C,e,i,"TestLoadImage: timeout",!1,t),Bt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else qo(2);n.G=0,n.j&&n.j.va(t),PD(n),Wo(n)}function PD(n){n.G=0,n.I=-1,n.j&&((0!=xk(n.i).length||0!=n.l.length)&&(n.i.i.length=0,pg(n.l),n.l.length=0),n.j.ua())}function Tk(n,t,e){let i=function hD(n){return n instanceof $c?qs(n):new $c(n,void 0)}(e);if(""!=i.i)t&&pC(i,t+"."+i.i),Ig(i,i.m);else{const r=Bt.location;i=function bk(n,t,e,i){var r=new $c(null,void 0);return n&&_f(r,n),t&&pC(r,t),e&&Ig(r,e),i&&(r.l=i),r}(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,e)}return n.aa&&q0(n.aa,function(r,o){Kn(i,o,r)}),e=n.sa,(t=n.D)&&e&&Kn(i,t,e),Kn(i,"VER",n.ma),xd(n,i),i}function RD(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Gi(e&&n.Ba&&!n.qa?new Dv({ib:!0}):n.qa)).L=n.H,t}function TC(){}function Rv(){if(fd&&!(10<=Number(dk)))throw Error("Environmental error: no available transport.")}function us(n,t){xr.call(this),this.g=new OD(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!ov(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ov(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new Ag(this)}function IC(n){sC.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function FD(){bv.call(this),this.status=1}function Ag(n){this.g=n}(ot=Gi.prototype).ea=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Dg.g(),this.C=function rD(n){return n.h||(n.h=n.i())}(this.u?this.u:Dg),this.g.onreadystatechange=wr(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(o){return void vC(this,o)}n=e||"";const r=new vd(this.headers);i&&hC(i,function(o,c){r.set(c,o)}),i=function sk(n){e:{var t=bN;const e=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<e;r++)if(r in i&&t.call(void 0,i[r],r,n)){t=r;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(r.T()),e=Bt.FormData&&n instanceof Bt.FormData,!(0<=z0(SD,t))||i||e||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(o,c){this.g.setRequestHeader(c,o)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Dk(this),0<this.B&&((this.K=function TD(n){return fd&&function GE(){return function lk(n){var t=uk;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=G0(String(gg)).split("."),e=G0("9").split("."),i=Math.max(t.length,e.length);for(let c=0;0==n&&c<i;c++){var r=t[c]||"",o=e[c]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==r[0].length&&0==o[0].length)break;n=sv(0==r[1].length?0:parseInt(r[1],10),0==o[1].length?0:parseInt(o[1],10))||sv(0==r[2].length,0==o[2].length)||sv(r[2],o[2]),r=r[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=wr(this.pa,this)):this.A=iC(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){vC(this,o)}},ot.pa=function(){void 0!==V0&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,qr(this,"timeout"),this.abort(8))},ot.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,qr(this,"complete"),qr(this,"abort"),bC(this))},ot.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),bC(this,!0)),Gi.Z.M.call(this)},ot.Fa=function(){this.s||(this.F||this.v||this.l?yC(this):this.cb())},ot.cb=function(){yC(this)},ot.ba=function(){try{return 2<qc(this)?this.g.status:-1}catch(n){return-1}},ot.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},ot.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),Ek(t)}},ot.Da=function(){return this.m},ot.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ot=OD.prototype).ma=8,ot.G=1,ot.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(t){}},ot.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new mf(this,this.h,n,void 0);let o=this.s;if(this.P&&(o?(o=df(o),dd(o,this.P)):o=this.P),null===this.o&&(r.H=o),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var i=this.l[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=xC(this,r,t),Kn(e=qs(this.F),"RID",n),Kn(e,"CVER",22),this.D&&Kn(e,"X-HTTP-Session-Id",this.D),xd(this,e),this.o&&o&&wC(e,this.o,o),Ev(this.i,r),this.Ra&&Kn(e,"TYPE","init"),this.ja?(Kn(e,"$req",t),Kn(e,"SID","null"),r.$=!0,Cv(r,e,null)):Cv(r,e,t),this.G=2}}else 3==this.G&&(n?kD(this,n):0==this.l.length||CD(this.i)||kD(this))},ot.Ga=function(){if(this.u=null,SC(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=_d(wr(this.bb,this),n)}},ot.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,qo(10),Ov(this),SC(this))},ot.ab=function(){null!=this.v&&(this.v=null,Ov(this),DC(this),qo(19))},ot.jb=function(n){n?(this.h.info("Successfully pinged google.com"),qo(2)):(this.h.info("Failed to ping google.com"),qo(1))},(ot=TC.prototype).xa=function(){},ot.wa=function(){},ot.va=function(){},ot.ua=function(){},ot.Oa=function(){},Rv.prototype.g=function(n,t){return new us(n,t)},$r(us,xr),us.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),hv(wr(n.hb,n,t))),qo(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=Tk(n,null,n.W),Cf(n)},us.prototype.close=function(){kg(this.g)},us.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,MC(this.g,t)}else this.v?((t={}).__data__=gd(n),MC(this.g,t)):MC(this.g,n)},us.prototype.M=function(){this.g.j=null,delete this.j,kg(this.g),delete this.g,us.Z.M.call(this)},$r(IC,sC),$r(FD,bv),$r(Ag,TC),Ag.prototype.xa=function(){qr(this.g,"a")},Ag.prototype.wa=function(n){qr(this.g,new IC(n))},Ag.prototype.va=function(n){qr(this.g,new FD(n))},Ag.prototype.ua=function(){qr(this.g,"b")},Rv.prototype.createWebChannel=Rv.prototype.g,us.prototype.send=us.prototype.u,us.prototype.open=us.prototype.m,us.prototype.close=us.prototype.close,Mg.NO_ERROR=0,Mg.TIMEOUT=8,Mg.HTTP_ERROR=6,yv.COMPLETE="complete",oD.EventType=Eg,Eg.OPEN="a",Eg.CLOSE="b",Eg.ERROR="c",Eg.MESSAGE="d",xr.prototype.listen=xr.prototype.N,Gi.prototype.listenOnce=Gi.prototype.O,Gi.prototype.getLastError=Gi.prototype.La,Gi.prototype.getLastErrorCode=Gi.prototype.Da,Gi.prototype.getStatus=Gi.prototype.ba,Gi.prototype.getResponseJson=Gi.prototype.Qa,Gi.prototype.getResponseText=Gi.prototype.ga,Gi.prototype.send=Gi.prototype.ea;var ND=Bl.createWebChannelTransport=function(){return new Rv},LD=Bl.getStatEventTarget=function(){return gf()},OC=Bl.ErrorCode=Mg,Ik=Bl.EventType=yv,BD=Bl.Event=Gc,wf=Bl.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},kC=Bl.FetchXmlHttpFactory=Dv,Pg=Bl.WebChannel=oD,Ok=Bl.XhrIo=Gi;const AC="@firebase/firestore";class Er{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Er.UNAUTHENTICATED=new Er(null),Er.GOOGLE_CREDENTIALS=new Er("google-credentials-uid"),Er.FIRST_PARTY=new Er("first-party-uid"),Er.MOCK_USER=new Er("mock-user");let Mf="9.6.10";const Wc=new $s.Yd("@firebase/firestore");function VD(){return Wc.logLevel}function Ue(n,...t){if(Wc.logLevel<=$s.in.DEBUG){const e=t.map(PC);Wc.debug(`Firestore (${Mf}): ${n}`,...e)}}function $i(n,...t){if(Wc.logLevel<=$s.in.ERROR){const e=t.map(PC);Wc.error(`Firestore (${Mf}): ${n}`,...e)}}function Rg(n,...t){if(Wc.logLevel<=$s.in.WARN){const e=t.map(PC);Wc.warn(`Firestore (${Mf}): ${n}`,...e)}}function PC(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(e){return n}}function ut(n="Unexpected state"){const t=`FIRESTORE (${Mf}) INTERNAL ASSERTION FAILED: `+n;throw $i(t),new Error(t)}function Ft(n,t){n||ut()}function Qe(n,t){return n}const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends N.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Oi{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class UD{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class kk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Er.UNAUTHENTICATED))}shutdown(){}}class HD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class Ed{constructor(t){this.t=t,this.currentUser=Er.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const o=v=>this.i!==r?(r=this.i,e(v)):Promise.resolve();let c=new Oi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Oi,t.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const v=c;t.enqueueRetryable((0,Ce.Z)(function*(){yield v.promise,yield o(i.currentUser)}))},p=v=>{Ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(v=>p(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(Ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Oi)}},0),d()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ft("string"==typeof i.accessToken),new UD(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Ft(null===t||"string"==typeof t),new Er(t)}}class jD{constructor(t,e,i){this.type="FirstParty",this.user=Er.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const r=t.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class RC{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new jD(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Er.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Fv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ak{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(t,e){const i=o=>{null!=o.error&&Ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.p;return this.p=o.token,Ue("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{Ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.g.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.g.getImmediate({optional:!0});o?r(o):Ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Ft("string"==typeof e.token),this.p=e.token,new Fv(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class So{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.I(i),this.T=i=>e.writeSequenceNumber(i))}I(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.T&&this.T(t),t}}function Nv(n){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}So.A=-1;class Pk{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=Nv(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%t.length))}return i}}function en(n,t){return n<t?-1:n>t?1:0}function Fg(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function Rk(n){return n+"\0"}class Ci{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ae(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ae(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ae(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ae(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ci.fromMillis(Date.now())}static fromDate(t){return Ci.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Ci(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?en(this.nanoseconds,t.nanoseconds):en(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class kt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new kt(t)}static min(){return new kt(new Ci(0,0))}static max(){return new kt(new Ci(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function GD(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Dd(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function $D(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class xf{constructor(t,e,i){void 0===e?e=0:e>t.length&&ut(),void 0===i?i=t.length-e:i>t.length-e&&ut(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===xf.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof xf?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),c=e.get(r);if(o<c)return-1;if(o>c)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class an extends xf{construct(t,e,i){return new an(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Ae(he.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new an(e)}static emptyPath(){return new an([])}}const qD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dr extends xf{construct(t,e,i){return new Dr(t,e,i)}static isValidIdentifier(t){return qD.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Dr(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new Ae(he.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const d=t[r];if("\\"===d){if(r+1===t.length)throw new Ae(he.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[r+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new Ae(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=p,r+=2}else"`"===d?(c=!c,r++):"."!==d||c?(i+=d,r++):(o(),r++)}if(o(),c)throw new Ae(he.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Dr(e)}static emptyPath(){return new Dr([])}}class Ef{constructor(t){this.fields=t,t.sort(Dr.comparator)}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Fg(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class ki{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new ki(e)}static fromUint8Array(t){const e=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(t);return new ki(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return en(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ki.EMPTY_BYTE_STRING=new ki("");const MN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jl(n){if(Ft(!!n),"string"==typeof n){let t=0;const e=MN.exec(n);if(Ft(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ri(n.seconds),nanos:ri(n.nanos)}}function ri(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Sd(n){return"string"==typeof n?ki.fromBase64String(n):ki.fromUint8Array(n)}function FC(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==n?void 0:n.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function Fk(n){const t=n.mapValue.fields.__previous_value__;return FC(t)?Fk(t):t}function Lv(n){const t=jl(n.mapValue.fields.__local_write_time__.timestampValue);return new Ci(t.seconds,t.nanos)}class xN{constructor(t,e,i,r,o,c,d,p){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.useFetchStreams=p}}class zl{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new zl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof zl&&t.projectId===this.projectId&&t.database===this.database}}function Td(n){return null==n}function Ng(n){return 0===n&&1/n==-1/0}function ZD(n){return"number"==typeof n&&Number.isInteger(n)&&!Ng(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class $e{constructor(t){this.path=t}static fromPath(t){return new $e(an.fromString(t))}static fromName(t){return new $e(an.fromString(t).popFirst(5))}static empty(){return new $e(an.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===an.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return an.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new $e(new an(t.slice()))}}const YD={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Nk={nullValue:"NULL_VALUE"};function Df(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?FC(n)?4:m(n)?9:10:ut()}function Gl(n,t){if(n===t)return!0;const e=Df(n);if(e!==Df(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Lv(n).isEqual(Lv(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=jl(i.timestampValue),c=jl(r.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,Sd(n.bytesValue).isEqual(Sd(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return ri(i.geoPointValue.latitude)===ri(r.geoPointValue.latitude)&&ri(i.geoPointValue.longitude)===ri(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return ri(i.integerValue)===ri(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=ri(i.doubleValue),c=ri(r.doubleValue);return o===c?Ng(o)===Ng(c):isNaN(o)&&isNaN(c)}return!1}(n,t);case 9:return Fg(n.arrayValue.values||[],t.arrayValue.values||[],Gl);case 10:return function(i,r){const o=i.mapValue.fields||{},c=r.mapValue.fields||{};if(GD(o)!==GD(c))return!1;for(const d in o)if(o.hasOwnProperty(d)&&(void 0===c[d]||!Gl(o[d],c[d])))return!1;return!0}(n,t);default:return ut()}var r}function Bv(n,t){return void 0!==(n.values||[]).find(e=>Gl(e,t))}function Id(n,t){if(n===t)return 0;const e=Df(n),i=Df(t);if(e!==i)return en(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return en(n.booleanValue,t.booleanValue);case 2:return function(r,o){const c=ri(r.integerValue||r.doubleValue),d=ri(o.integerValue||o.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(n,t);case 3:return KD(n.timestampValue,t.timestampValue);case 4:return KD(Lv(n),Lv(t));case 5:return en(n.stringValue,t.stringValue);case 6:return function(r,o){const c=Sd(r),d=Sd(o);return c.compareTo(d)}(n.bytesValue,t.bytesValue);case 7:return function(r,o){const c=r.split("/"),d=o.split("/");for(let p=0;p<c.length&&p<d.length;p++){const v=en(c[p],d[p]);if(0!==v)return v}return en(c.length,d.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,o){const c=en(ri(r.latitude),ri(o.latitude));return 0!==c?c:en(ri(r.longitude),ri(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,o){const c=r.values||[],d=o.values||[];for(let p=0;p<c.length&&p<d.length;++p){const v=Id(c[p],d[p]);if(v)return v}return en(c.length,d.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,o){const c=r.fields||{},d=Object.keys(c),p=o.fields||{},v=Object.keys(p);d.sort(),v.sort();for(let M=0;M<d.length&&M<v.length;++M){const E=en(d[M],v[M]);if(0!==E)return E;const O=Id(c[d[M]],p[v[M]]);if(0!==O)return O}return en(d.length,v.length)}(n.mapValue,t.mapValue);default:throw ut()}}function KD(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return en(n,t);const e=jl(n),i=jl(t),r=en(e.seconds,i.seconds);return 0!==r?r:en(e.nanos,i.nanos)}function Lg(n){return QD(n)}function QD(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=jl(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Sd(n.bytesValue).toBase64():"referenceValue"in n?$e.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const c of i.values||[])o?o=!1:r+=",",r+=QD(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of r)c?c=!1:o+=",",o+=`${d}:${QD(i.fields[d])}`;return o+"}"}(n.mapValue):ut();var t}function Bg(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function XD(n){return!!n&&"integerValue"in n}function s(n){return!!n&&"arrayValue"in n}function a(n){return!!n&&"nullValue"in n}function u(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function h(n){return!!n&&"mapValue"in n}function f(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Dd(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=f(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=f(n.arrayValue.values[e]);return t}return Object.assign({},n)}function m(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function b(n,t){return void 0===n?t:void 0===t||Id(n,t)>0?n:t}function w(n,t){return void 0===n?t:void 0===t||Id(n,t)<0?n:t}class x{constructor(t){this.value=t}static empty(){return new x({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!h(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=f(e)}setAll(t){let e=Dr.emptyPath(),i={},r=[];t.forEach((c,d)=>{if(!e.isImmediateParentOf(d)){const p=this.getFieldsMap(e);this.applyChanges(p,i,r),i={},r=[],e=d.popLast()}c?i[d.lastSegment()]=f(c):r.push(d.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());h(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Gl(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];h(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Dd(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new x(f(this.value))}}function T(n){const t=[];return Dd(n.fields,(e,i)=>{const r=new Dr([e]);if(h(i)){const o=T(i.mapValue).fields;if(0===o.length)t.push(r);else for(const c of o)t.push(r.child(c))}else t.push(r)}),new Ef(t)}class k{constructor(t,e,i,r,o,c){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.data=o,this.documentState=c}static newInvalidDocument(t){return new k(t,0,kt.min(),kt.min(),x.empty(),0)}static newFoundDocument(t,e,i){return new k(t,1,e,kt.min(),i,0)}static newNoDocument(t,e){return new k(t,2,e,kt.min(),x.empty(),0)}static newUnknownDocument(t,e){return new k(t,3,e,kt.min(),x.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=x.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=x.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof k&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new k(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class U{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function z(n){return n.fields.find(t=>2===t.kind)}function Q(n){return n.fields.filter(t=>2!==t.kind)}U.UNKNOWN_ID=-1;class we{constructor(t,e){this.fieldPath=t,this.kind=e}}class Ne{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Ne(0,Ee.min())}}function qe(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=kt.fromTimestamp(1e9===i?new Ci(e+1,0):new Ci(e,i));return new Ee(r,$e.empty(),t)}function st(n){return new Ee(n.readTime,n.key,-1)}class Ee{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Ee(kt.min(),$e.empty(),-1)}static max(){return new Ee(kt.max(),$e.empty(),-1)}}function Mt(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=$e.comparator(n.documentKey,t.documentKey),0!==e?e:en(n.largestBatchId,t.largestBatchId))}class tn{constructor(t,e=null,i=[],r=[],o=null,c=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=c,this.endAt=d,this.P=null}}function En(n,t=null,e=[],i=[],r=null,o=null,c=null){return new tn(n,t,e,i,r,o,c)}function or(n){const t=Qe(n);if(null===t.P){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+Lg(r.value);var r}).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Td(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Lg(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Lg(i)).join(",")),t.P=e}return t.P}function kd(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!j3(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!Gl(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!DN(n.startAt,t.startAt)&&DN(n.endAt,t.endAt)}function Sf(n){return $e.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Tf(n,t){return n.filters.filter(e=>e instanceof sr&&e.field.isEqual(t))}class sr extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.V(t,e,i):new NC(t,e,i):"array-contains"===e?new VC(t,i):"in"===e?new V3(t,i):"not-in"===e?new U3(t,i):"array-contains-any"===e?new H3(t,i):new sr(t,e,i)}static V(t,e,i){return"in"===e?new LC(t,i):new BC(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.v(Id(e,this.value)):null!==e&&Df(this.value)===Df(e)&&this.v(Id(e,this.value))}v(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ut()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class NC extends sr{constructor(t,e,i){super(t,e,i),this.key=$e.fromName(i.referenceValue)}matches(t){const e=$e.comparator(t.key,this.key);return this.v(e)}}class LC extends sr{constructor(t,e){super(t,"in",e),this.keys=Vv(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class BC extends sr{constructor(t,e){super(t,"not-in",e),this.keys=Vv(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function Vv(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>$e.fromName(i.referenceValue))}class VC extends sr{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return s(e)&&Bv(e.arrayValue,this.value)}}class V3 extends sr{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Bv(this.value.arrayValue,e)}}class U3 extends sr{constructor(t,e){super(t,"not-in",e)}matches(t){if(Bv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Bv(this.value.arrayValue,e)}}class H3 extends sr{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!s(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Bv(this.value.arrayValue,i))}}class If{constructor(t,e){this.position=t,this.inclusive=e}}class Uv{constructor(t,e="asc"){this.field=t,this.dir=e}}function j3(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function EN(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],c=n.position[r];if(i=o.field.isKeyField()?$e.comparator($e.fromName(c.referenceValue),e.key):Id(c,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function DN(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Gl(n.position[e],t.position[e]))return!1;return!0}class Ad{constructor(t,e=null,i=[],r=[],o=null,c="F",d=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=c,this.startAt=d,this.endAt=p,this.D=null,this.C=null}}function SN(n,t,e,i,r,o,c,d){return new Ad(n,t,e,i,r,o,c,d)}function Hv(n){return new Ad(n)}function JD(n){return!Td(n.limit)&&"F"===n.limitType}function eS(n){return!Td(n.limit)&&"L"===n.limitType}function Lk(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Bk(n){for(const t of n.filters)if(t.S())return t.field;return null}function Vk(n){return null!==n.collectionGroup}function jv(n){const t=Qe(n);if(null===t.D){t.D=[];const e=Bk(t),i=Lk(t);if(null!==e&&null===i)e.isKeyField()||t.D.push(new Uv(e)),t.D.push(new Uv(Dr.keyField(),"asc"));else{let r=!1;for(const o of t.explicitOrderBy)t.D.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new Uv(Dr.keyField(),o))}}}return t.D}function el(n){const t=Qe(n);if(!t.C)if("F"===t.limitType)t.C=En(t.path,t.collectionGroup,jv(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const o of jv(t))e.push(new Uv(o.field,"desc"===o.dir?"asc":"desc"));const i=t.endAt?new If(t.endAt.position,!t.endAt.inclusive):null,r=t.startAt?new If(t.startAt.position,!t.startAt.inclusive):null;t.C=En(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.C}function TN(n,t,e){return new Ad(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function UC(n,t){return kd(el(n),el(t))&&n.limitType===t.limitType}function IN(n){return`${or(el(n))}|lt:${n.limitType}`}function Uk(n){return`Query(target=${function Od(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${Lg(i.value)}`;var i}).join(", ")}]`),Td(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>Lg(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>Lg(e)).join(",")),`Target(${t})`}(el(n))}; limitType=${n.limitType})`}function Hk(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):$e.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,o,c){const d=EN(r,o,c);return r.inclusive?d<=0:d<0}(e.startAt,jv(e),i)||e.endAt&&!function(r,o,c){const d=EN(r,o,c);return r.inclusive?d>=0:d>0}(e.endAt,jv(e),i)));var e,i}function ON(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function kN(n){return(t,e)=>{let i=!1;for(const r of jv(n)){const o=z3(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function z3(n,t,e){const i=n.field.isKeyField()?$e.comparator(t.key,e.key):function(r,o,c){const d=o.data.field(r),p=c.data.field(r);return null!==d&&null!==p?Id(d,p):ut()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ut()}}function AN(n,t){if(n.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ng(t)?"-0":t}}function PN(n){return{integerValue:""+n}}function RN(n,t){return ZD(t)?PN(t):AN(n,t)}class tS{constructor(){this._=void 0}}function G3(n,t,e){return n instanceof zv?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(o.fields.__previous_value__=r),{mapValue:o}}(e,t):n instanceof Vg?NN(n,t):n instanceof Ug?LN(n,t):function(i,r){const o=FN(i,r),c=BN(o)+BN(i.k);return XD(o)&&XD(i.k)?PN(c):AN(i.M,c)}(n,t)}function $3(n,t,e){return n instanceof Vg?NN(n,t):n instanceof Ug?LN(n,t):e}function FN(n,t){return n instanceof Gv?XD(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class zv extends tS{}class Vg extends tS{constructor(t){super(),this.elements=t}}function NN(n,t){const e=VN(t);for(const i of n.elements)e.some(r=>Gl(r,i))||e.push(i);return{arrayValue:{values:e}}}class Ug extends tS{constructor(t){super(),this.elements=t}}function LN(n,t){let e=VN(t);for(const i of n.elements)e=e.filter(r=>!Gl(r,i));return{arrayValue:{values:e}}}class Gv extends tS{constructor(t,e){super(),this.M=t,this.k=e}}function BN(n){return ri(n.integerValue||n.doubleValue)}function VN(n){return s(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class HC{constructor(t,e){this.field=t,this.transform=e}}class W3{constructor(t,e){this.version=t,this.transformResults=e}}class Sr{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Sr}static exists(t){return new Sr(void 0,t)}static updateTime(t){return new Sr(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function nS(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class iS{}function Z3(n,t,e){n instanceof jC?function(i,r,o){const c=i.value.clone(),d=zN(i.fieldTransforms,r,o.transformResults);c.setAll(d),r.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,t,e):n instanceof Hg?function(i,r,o){if(!nS(i.precondition,r))return void r.convertToUnknownDocument(o.version);const c=zN(i.fieldTransforms,r,o.transformResults),d=r.data;d.setAll(jN(i)),d.setAll(c),r.convertToFoundDocument(o.version,d).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function jk(n,t,e){var r;n instanceof jC?function(i,r,o){if(!nS(i.precondition,r))return;const c=i.value.clone(),d=GN(i.fieldTransforms,o,r);c.setAll(d),r.convertToFoundDocument(HN(r),c).setHasLocalMutations()}(n,t,e):n instanceof Hg?function(i,r,o){if(!nS(i.precondition,r))return;const c=GN(i.fieldTransforms,o,r),d=r.data;d.setAll(jN(i)),d.setAll(c),r.convertToFoundDocument(HN(r),d).setHasLocalMutations()}(n,t,e):nS(n.precondition,r=t)&&r.convertToNoDocument(kt.min())}function Y3(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=FN(i.transform,r||null);null!=o&&(null==e&&(e=x.empty()),e.set(i.field,o))}return e||null}function UN(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&Fg(e,i,(r,o)=>function q3(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Vg&&i instanceof Vg||e instanceof Ug&&i instanceof Ug?Fg(e.elements,i.elements,Gl):e instanceof Gv&&i instanceof Gv?Gl(e.k,i.k):e instanceof zv&&i instanceof zv);var e,i}(r,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}function HN(n){return n.isFoundDocument()?n.version:kt.min()}class jC extends iS{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}}class Hg extends iS{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}}function jN(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function zN(n,t,e){const i=new Map;Ft(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],c=o.transform,d=t.data.field(o.field);i.set(o.field,$3(c,d,e[r]))}return i}function GN(n,t,e){const i=new Map;for(const r of n){const o=r.transform,c=e.data.field(r.field);i.set(r.field,G3(o,c,t))}return i}class zC extends iS{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}}class zk extends iS{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}}class K3{constructor(t){this.count=t}}var Tr,yn;function $N(n){switch(n){default:return ut();case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0}}function qN(n){if(void 0===n)return $i("GRPC error has no .code"),he.UNKNOWN;switch(n){case Tr.OK:return he.OK;case Tr.CANCELLED:return he.CANCELLED;case Tr.UNKNOWN:return he.UNKNOWN;case Tr.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Tr.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Tr.INTERNAL:return he.INTERNAL;case Tr.UNAVAILABLE:return he.UNAVAILABLE;case Tr.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Tr.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Tr.NOT_FOUND:return he.NOT_FOUND;case Tr.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Tr.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Tr.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Tr.ABORTED:return he.ABORTED;case Tr.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Tr.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Tr.DATA_LOSS:return he.DATA_LOSS;default:return ut()}}(yn=Tr||(Tr={}))[yn.OK=0]="OK",yn[yn.CANCELLED=1]="CANCELLED",yn[yn.UNKNOWN=2]="UNKNOWN",yn[yn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yn[yn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yn[yn.NOT_FOUND=5]="NOT_FOUND",yn[yn.ALREADY_EXISTS=6]="ALREADY_EXISTS",yn[yn.PERMISSION_DENIED=7]="PERMISSION_DENIED",yn[yn.UNAUTHENTICATED=16]="UNAUTHENTICATED",yn[yn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yn[yn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yn[yn.ABORTED=10]="ABORTED",yn[yn.OUT_OF_RANGE=11]="OUT_OF_RANGE",yn[yn.UNIMPLEMENTED=12]="UNIMPLEMENTED",yn[yn.INTERNAL=13]="INTERNAL",yn[yn.UNAVAILABLE=14]="UNAVAILABLE",yn[yn.DATA_LOSS=15]="DATA_LOSS";class Of{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Dd(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return $D(this.inner)}size(){return this.innerSize}}class ar{constructor(t,e){this.comparator=t,this.root=e||To.EMPTY}insert(t,e){return new ar(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,To.BLACK,null,null))}remove(t){return new ar(this.comparator,this.root.remove(t,this.comparator).copy(null,null,To.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new rS(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new rS(this.root,t,this.comparator,!1)}getReverseIterator(){return new rS(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new rS(this.root,t,this.comparator,!0)}}class rS{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class To{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=null!=i?i:To.RED,this.left=null!=r?r:To.EMPTY,this.right=null!=o?o:To.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new To(null!=t?t:this.key,null!=e?e:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=o?o:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return To.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return To.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,To.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,To.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ut();const t=this.left.check();if(t!==this.right.check())throw ut();return t+(this.isRed()?0:1)}}To.EMPTY=null,To.RED=!0,To.BLACK=!1,To.EMPTY=new class{constructor(){this.size=0}get key(){throw ut()}get value(){throw ut()}get color(){throw ut()}get left(){throw ut()}get right(){throw ut()}copy(n,t,e,i,r){return this}insert(n,t,e){return new To(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class gi{constructor(t){this.comparator=t,this.data=new ar(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new WN(this.data.getIterator())}getIteratorFrom(t){return new WN(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof gi)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new gi(this.comparator);return e.data=t,e}}class WN{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function $v(n){return n.hasNext()?n.getNext():void 0}const Q3=new ar($e.comparator);function tl(){return Q3}const X3=new ar($e.comparator);function Gk(){return X3}function GC(){return new Of(n=>n.toString(),(n,t)=>n.isEqual(t))}const J3=new ar($e.comparator),e5=new gi($e.comparator);function Bn(...n){let t=e5;for(const e of n)t=t.add(e);return t}const t5=new gi(en);function oS(){return t5}class $C{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,qC.createSynthesizedTargetChangeForCurrentChange(t,e)),new $C(kt.min(),i,oS(),tl(),Bn())}}class qC{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e){return new qC(ki.EMPTY_BYTE_STRING,e,Bn(),Bn(),Bn())}}class sS{constructor(t,e,i,r){this.O=t,this.removedTargetIds=e,this.key=i,this.F=r}}class ZN{constructor(t,e){this.targetId=t,this.$=e}}class YN{constructor(t,e,i=ki.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class KN{constructor(){this.B=0,this.L=XN(),this.U=ki.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}get current(){return this.q}get resumeToken(){return this.U}get K(){return 0!==this.B}get j(){return this.G}W(t){t.approximateByteSize()>0&&(this.G=!0,this.U=t)}H(){let t=Bn(),e=Bn(),i=Bn();return this.L.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:ut()}}),new qC(this.U,this.q,t,e,i)}J(){this.G=!1,this.L=XN()}Y(t,e){this.G=!0,this.L=this.L.insert(t,e)}X(t){this.G=!0,this.L=this.L.remove(t)}Z(){this.B+=1}tt(){this.B-=1}et(){this.G=!0,this.q=!0}}class n5{constructor(t){this.nt=t,this.st=new Map,this.it=tl(),this.rt=QN(),this.ot=new gi(en)}ut(t){for(const e of t.O)t.F&&t.F.isFoundDocument()?this.at(e,t.F):this.ct(e,t.key,t.F);for(const e of t.removedTargetIds)this.ct(e,t.key,t.F)}ht(t){this.forEachTarget(t,e=>{const i=this.lt(e);switch(t.state){case 0:this.ft(e)&&i.W(t.resumeToken);break;case 1:i.tt(),i.K||i.J(),i.W(t.resumeToken);break;case 2:i.tt(),i.K||this.removeTarget(e);break;case 3:this.ft(e)&&(i.et(),i.W(t.resumeToken));break;case 4:this.ft(e)&&(this.dt(e),i.W(t.resumeToken));break;default:ut()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.st.forEach((i,r)=>{this.ft(r)&&e(r)})}_t(t){const e=t.targetId,i=t.$.count,r=this.wt(e);if(r){const o=r.target;if(Sf(o))if(0===i){const c=new $e(o.path);this.ct(e,c,k.newNoDocument(c,kt.min()))}else Ft(1===i);else this.gt(e)!==i&&(this.dt(e),this.ot=this.ot.add(e))}}yt(t){const e=new Map;this.st.forEach((o,c)=>{const d=this.wt(c);if(d){if(o.current&&Sf(d.target)){const p=new $e(d.target.path);null!==this.it.get(p)||this.It(c,p)||this.ct(c,p,k.newNoDocument(p,t))}o.j&&(e.set(c,o.H()),o.J())}});let i=Bn();this.rt.forEach((o,c)=>{let d=!0;c.forEachWhile(p=>{const v=this.wt(p);return!v||2===v.purpose||(d=!1,!1)}),d&&(i=i.add(o))}),this.it.forEach((o,c)=>c.setReadTime(t));const r=new $C(t,e,this.ot,this.it,i);return this.it=tl(),this.rt=QN(),this.ot=new gi(en),r}at(t,e){if(!this.ft(t))return;const i=this.It(t,e.key)?2:0;this.lt(t).Y(e.key,i),this.it=this.it.insert(e.key,e),this.rt=this.rt.insert(e.key,this.Tt(e.key).add(t))}ct(t,e,i){if(!this.ft(t))return;const r=this.lt(t);this.It(t,e)?r.Y(e,1):r.X(e),this.rt=this.rt.insert(e,this.Tt(e).delete(t)),i&&(this.it=this.it.insert(e,i))}removeTarget(t){this.st.delete(t)}gt(t){const e=this.lt(t).H();return this.nt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Z(t){this.lt(t).Z()}lt(t){let e=this.st.get(t);return e||(e=new KN,this.st.set(t,e)),e}Tt(t){let e=this.rt.get(t);return e||(e=new gi(en),this.rt=this.rt.insert(t,e)),e}ft(t){const e=null!==this.wt(t);return e||Ue("WatchChangeAggregator","Detected inactive target",t),e}wt(t){const e=this.st.get(t);return e&&e.K?null:this.nt.Et(t)}dt(t){this.st.set(t,new KN),this.nt.getRemoteKeysForTarget(t).forEach(e=>{this.ct(t,e,null)})}It(t,e){return this.nt.getRemoteKeysForTarget(t).has(e)}}function QN(){return new ar($e.comparator)}function XN(){return new ar($e.comparator)}const r5={asc:"ASCENDING",desc:"DESCENDING"},o5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class s5{constructor(t,e){this.databaseId=t,this.N=e}}function WC(n,t){return n.N?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function JN(n,t){return n.N?t.toBase64():t.toUint8Array()}function a5(n,t){return WC(n,t.toTimestamp())}function ro(n){return Ft(!!n),kt.fromTimestamp(function(t){const e=jl(t);return new Ci(e.seconds,e.nanos)}(n))}function $k(n,t){return(e=n,new an(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function eL(n){const t=an.fromString(n);return Ft(cL(t)),t}function ZC(n,t){return $k(n.databaseId,t.path)}function Zc(n,t){const e=eL(t);if(e.get(1)!==n.databaseId.projectId)throw new Ae(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Ae(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new $e(nL(e))}function qk(n,t){return $k(n.databaseId,t)}function tL(n){const t=eL(n);return 4===t.length?an.emptyPath():nL(t)}function YC(n){return new an(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function nL(n){return Ft(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function iL(n,t,e){return{name:ZC(n,t),fields:e.value.mapValue.fields}}function rL(n,t,e){const i=Zc(n,t.name),r=ro(t.updateTime),o=new x({mapValue:{fields:t.fields}}),c=k.newFoundDocument(i,r,o);return e&&c.setHasCommittedMutations(),e?c.setHasCommittedMutations():c}function KC(n,t){let e;if(t instanceof jC)e={update:iL(n,t.key,t.value)};else if(t instanceof zC)e={delete:ZC(n,t.key)};else if(t instanceof Hg)e={update:iL(n,t.key,t.data),updateMask:m5(t.fieldMask)};else{if(!(t instanceof zk))return ut();e={verify:ZC(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,o){const c=o.transform;if(c instanceof zv)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Vg)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Ug)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Gv)return{fieldPath:o.field.canonicalString(),increment:c.k};throw ut()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:a5(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ut()),e;var r}function Wk(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?Sr.updateTime(ro(r.updateTime)):void 0!==r.exists?Sr.exists(r.exists):Sr.none():Sr.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(o,c){let d=null;"setToServerValue"in c?(Ft("REQUEST_TIME"===c.setToServerValue),d=new zv):"appendMissingElements"in c?d=new Vg(c.appendMissingElements.values||[]):"removeAllFromArray"in c?d=new Ug(c.removeAllFromArray.values||[]):"increment"in c?d=new Gv(o,c.increment):ut();const p=Dr.fromServerFormat(c.fieldPath);return new HC(p,d)}(n,r)):[];var r;if(t.update){const r=Zc(n,t.update.name),o=new x({mapValue:{fields:t.update.fields}});if(t.updateMask){const c=new Ef((t.updateMask.fieldPaths||[]).map(v=>Dr.fromServerFormat(v)));return new Hg(r,o,c,e,i)}return new jC(r,o,e,i)}if(t.delete){const r=Zc(n,t.delete);return new zC(r,e)}if(t.verify){const r=Zc(n,t.verify);return new zk(r,e)}return ut()}function oL(n,t){return{documents:[qk(n,t.path)]}}function sL(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=qk(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=qk(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(p){if(0===p.length)return;const v=p.map(M=>function(E){if("=="===E.op){if(u(E.value))return{unaryFilter:{field:qv(E.field),op:"IS_NAN"}};if(a(E.value))return{unaryFilter:{field:qv(E.field),op:"IS_NULL"}}}else if("!="===E.op){if(u(E.value))return{unaryFilter:{field:qv(E.field),op:"IS_NOT_NAN"}};if(a(E.value))return{unaryFilter:{field:qv(E.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qv(E.field),op:f5(E.op),value:E.value}}}(M));return 1===v.length?v[0]:{compositeFilter:{op:"AND",filters:v}}}(t.filters);r&&(e.structuredQuery.where=r);const o=function(p){if(0!==p.length)return p.map(v=>{return{field:qv((M=v).field),direction:h5(M.dir)};var M})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const c=(v=t.limit,n.N||Td(v)?v:{value:v});var v,d,p;return null!==c&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt={before:(d=t.startAt).inclusive,values:d.position}),t.endAt&&(e.structuredQuery.endAt={before:!(p=t.endAt).inclusive,values:p.position}),e}function aL(n){let t=tL(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Ft(1===i);const M=e.from[0];M.allDescendants?r=M.collectionId:t=t.child(M.collectionId)}let o=[];e.where&&(o=lL(e.where));let c=[];e.orderBy&&(c=e.orderBy.map(M=>{return new Uv(Wv((E=M).field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction));var E}));let d=null;e.limit&&(d=function(M){let E;return E="object"==typeof M?M.value:M,Td(E)?null:E}(e.limit));let p=null;var M;e.startAt&&(p=new If((M=e.startAt).values||[],!!M.before));let v=null;return e.endAt&&(v=function(M){return new If(M.values||[],!M.before)}(e.endAt)),SN(t,r,c,o,d,"F",p,v)}function lL(n){return n?void 0!==n.unaryFilter?[g5(n)]:void 0!==n.fieldFilter?[p5(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>lL(t)).reduce((t,e)=>t.concat(e)):ut():[]}function h5(n){return r5[n]}function f5(n){return o5[n]}function qv(n){return{fieldPath:n.canonicalString()}}function Wv(n){return Dr.fromServerFormat(n.fieldPath)}function p5(n){return sr.create(Wv(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ut()}}(n.fieldFilter.op),n.fieldFilter.value)}function g5(n){switch(n.unaryFilter.op){case"IS_NAN":const t=Wv(n.unaryFilter.field);return sr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=Wv(n.unaryFilter.field);return sr.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Wv(n.unaryFilter.field);return sr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Wv(n.unaryFilter.field);return sr.create(r,"!=",{nullValue:"NULL_VALUE"});default:return ut()}}function m5(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function cL(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function oo(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=uL(t)),t=_5(n.get(e),t);return uL(t)}function _5(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function uL(n){return n+"\x01\x01"}function $l(n){const t=n.length;if(Ft(t>=2),2===t)return Ft("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),an.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const c=n.indexOf("\x01",o);switch((c<0||c>e)&&ut(),n.charAt(c+1)){case"\x01":const d=n.substring(o,c);let p;0===r.length?p=d:(r+=d,p=r,r=""),i.push(p);break;case"\x10":r+=n.substring(o,c),r+="\0";break;case"\x11":r+=n.substring(o,c+1);break;default:ut()}o=c+2}return new an(i)}const dL=["userId","batchId"];function aS(n,t){return[n,oo(t)]}function hL(n,t,e){return[n,oo(t),e]}const v5={},y5=["prefixPath","collectionGroup","readTime","documentId"],b5=["prefixPath","collectionGroup","documentId"],C5=["collectionGroup","readTime","prefixPath","documentId"],w5=["canonicalId","targetId"],M5=["targetId","path"],x5=["path","targetId"],E5=["collectionId","parent"],D5=["indexId","uid"],S5=["uid","sequenceNumber"],T5=["indexId","uid","arrayValue","directionalValue","documentKey"],I5=["indexId","uid","documentKey"],O5=["userId","collectionPath","documentId"],k5=["userId","collectionPath","largestBatchId"],A5=["userId","collectionGroup","largestBatchId"],fL=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],P5=[...fL,"documentOverlays"],pL=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],R5=[...pL,"indexConfiguration","indexState","indexEntries"],gL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}class ve{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ut(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ve((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ve?e:ve.resolve(e)}catch(e){return ve.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ve.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ve.reject(e)}static resolve(t){return new ve((e,i)=>{e(t)})}static reject(t){return new ve((e,i)=>{i(t)})}static waitFor(t){return new ve((e,i)=>{let r=0,o=0,c=!1;t.forEach(d=>{++r,d.next(()=>{++o,c&&o===r&&e()},p=>i(p))}),c=!0,o===r&&e()})}static or(t){let e=ve.resolve(!1);for(const i of t)e=e.next(r=>r?ve.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}}class lS{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.At=new Oi,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{e.error?this.At.reject(new QC(t,e.error)):this.At.resolve()},this.transaction.onerror=i=>{const r=Zk(i.target.error);this.At.reject(new QC(t,r))}}static open(t,e,i,r){try{return new lS(e,t.transaction(r,i))}catch(o){throw new QC(e,o)}}get Rt(){return this.At.promise}abort(t){t&&this.At.reject(t),this.aborted||(Ue("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new N5(e)}}class ql{constructor(t,e,i){this.name=t,this.version=e,this.Pt=i,12.2===ql.Vt((0,N.z$)())&&$i("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Ue("SimpleDb","Removing database:",t),zg(window.indexedDB.deleteDatabase(t)).toPromise()}static vt(){if(!(0,N.hl)())return!1;if(ql.St())return!0;const t=(0,N.z$)(),e=ql.Vt(t),i=0<e&&e<10,r=ql.Dt(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static St(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Ct)}static xt(t,e){return t.store(e)}static Vt(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static Dt(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}Nt(t){var e=this;return(0,Ce.Z)(function*(){return e.db||(Ue("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=c=>{i(c.target.result)},o.onblocked=()=>{r(new QC(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=c=>{const d=c.target.error;r("VersionError"===d.name?new Ae(he.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===d.name?new Ae(he.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+d):new QC(t,d))},o.onupgradeneeded=c=>{Ue("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',c.oldVersion),e.Pt.kt(c.target.result,o.transaction,c.oldVersion,e.version).next(()=>{Ue("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.Mt&&(e.db.onversionchange=i=>e.Mt(i)),e.db})()}Ot(t){this.Mt=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,Ce.Z)(function*(){const c="readonly"===e;let d=0;for(;;){++d;try{o.db=yield o.Nt(t);const p=lS.open(o.db,t,c?"readonly":"readwrite",i),v=r(p).next(M=>(p.bt(),M)).catch(M=>(p.abort(M),ve.reject(M))).toPromise();return v.catch(()=>{}),yield p.Rt,v}catch(p){const v="FirebaseError"!==p.name&&d<3;if(Ue("SimpleDb","Transaction failed with error:",p.message,"Retrying:",v),o.close(),!v)return Promise.reject(p)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class F5{constructor(t){this.Ft=t,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(t){this.Ft=t}done(){this.$t=!0}Ut(t){this.Bt=t}delete(){return zg(this.Ft.delete())}}class QC extends Ae{constructor(t,e){super(he.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function jg(n){return"IndexedDbTransactionError"===n.name}class N5{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Ue("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Ue("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),zg(i)}add(t){return Ue("SimpleDb","ADD",this.store.name,t,t),zg(this.store.add(t))}get(t){return zg(this.store.get(t)).next(e=>(void 0===e&&(e=null),Ue("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Ue("SimpleDb","DELETE",this.store.name,t),zg(this.store.delete(t))}count(){return Ue("SimpleDb","COUNT",this.store.name),zg(this.store.count())}qt(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.Gt(r,(c,d)=>{o.push(d)}).next(()=>o)}{const r=this.store.getAll(i.range);return new ve((o,c)=>{r.onerror=d=>{c(d.target.error)},r.onsuccess=d=>{o(d.target.result)}})}}Kt(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new ve((r,o)=>{i.onerror=c=>{o(c.target.error)},i.onsuccess=c=>{r(c.target.result)}})}Qt(t,e){Ue("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.jt=!1;const r=this.cursor(i);return this.Gt(r,(o,c,d)=>d.delete())}Wt(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.Gt(r,e)}zt(t){const e=this.cursor({});return new ve((i,r)=>{e.onerror=o=>{const c=Zk(o.target.error);r(c)},e.onsuccess=o=>{const c=o.target.result;c?t(c.primaryKey,c.value).next(d=>{d?c.continue():i()}):i()}})}Gt(t,e){const i=[];return new ve((r,o)=>{t.onerror=c=>{o(c.target.error)},t.onsuccess=c=>{const d=c.target.result;if(!d)return void r();const p=new F5(d),v=e(d.primaryKey,d.value,p);if(v instanceof ve){const M=v.catch(E=>(p.done(),ve.reject(E)));i.push(M)}p.isDone?r():null===p.Lt?d.continue():d.continue(p.Lt)}}).next(()=>ve.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.jt?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function zg(n){return new ve((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=Zk(i.target.error);e(r)}})}let _L=!1;function Zk(n){const t=ql.Vt((0,N.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Ae("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return _L||(_L=!0,setTimeout(()=>{throw i},0)),i}}return n}class vL extends mL{constructor(t,e){super(),this.Ht=t,this.currentSequenceNumber=e}}function so(n,t){const e=Qe(n);return ql.xt(e.Ht,t)}class Yk{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&Z3(o,t,i[r])}}applyToLocalView(t){for(const e of this.baseMutations)e.key.isEqual(t.key)&&jk(e,t,this.localWriteTime);for(const e of this.mutations)e.key.isEqual(t.key)&&jk(e,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach(e=>{const i=t.get(e.key),r=i;this.applyToLocalView(r),i.isValidDocument()||r.convertToNoDocument(kt.min())})}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Bn())}isEqual(t){return this.batchId===t.batchId&&Fg(this.mutations,t.mutations,(e,i)=>UN(e,i))&&Fg(this.baseMutations,t.baseMutations,(e,i)=>UN(e,i))}}class Kk{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Ft(t.mutations.length===i.length);let r=J3;const o=t.mutations;for(let c=0;c<o.length;c++)r=r.insert(o[c].key,i[c].version);return new Kk(t,e,i,r)}}class Qk{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class kf{constructor(t,e,i,r,o=kt.min(),c=kt.min(),d=ki.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d}withSequenceNumber(t){return new kf(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new kf(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new kf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class yL{constructor(t){this.Jt=t}}function bL(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:cS(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:ZC(r=n.Jt,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:WC(r,o.version.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:Gg(t.version)};else{if(!t.isUnknownDocument())return ut();i.unknownDocument={path:e.path.toArray(),version:Gg(t.version)}}var r,o;return i}function cS(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function Gg(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function $g(n){const t=new Ci(n.seconds,n.nanoseconds);return kt.fromTimestamp(t)}function Zv(n,t){const e=(t.baseMutations||[]).map(o=>Wk(n.Jt,o));for(let o=0;o<t.mutations.length-1;++o){const c=t.mutations[o];o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(c.updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o)}const i=t.mutations.map(o=>Wk(n.Jt,o)),r=Ci.fromMillis(t.localWriteTimeMs);return new Yk(t.batchId,r,e,i)}function XC(n){const t=$g(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?$g(n.lastLimboFreeSnapshotVersion):kt.min();let i;var r;return void 0!==n.query.documents?(Ft(1===(r=n.query).documents.length),i=el(Hv(tL(r.documents[0])))):i=el(aL(n.query)),new kf(i,n.targetId,0,n.lastListenSequenceNumber,t,e,ki.fromBase64String(n.resumeToken))}function CL(n,t){const e=Gg(t.snapshotVersion),i=Gg(t.lastLimboFreeSnapshotVersion);let r;r=Sf(t.target)?oL(n.Jt,t.target):sL(n.Jt,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:or(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function Xk(n){const t=aL({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?TN(t,t.limit,"L"):t}function Jk(n,t){return new Qk(t.largestBatchId,Wk(n.Jt,t.overlayMutation))}function wL(n,t){const e=t.path.lastSegment();return[n,oo(t.path.popLast()),e]}class B5{getBundleMetadata(t,e){return ML(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:$g(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return ML(t).put({bundleId:(i=e).id,createTime:Gg(ro(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return xL(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:Xk(r.bundledQuery),readTime:$g(r.readTime)};var r})}saveNamedQuery(t,e){return xL(t).put({name:(i=e).name,readTime:Gg(ro(i.readTime)),bundledQuery:i.bundledQuery});var i}}function ML(n){return so(n,"bundles")}function xL(n){return so(n,"namedQueries")}class eA{constructor(t,e){this.M=t,this.userId=e}static Yt(t,e){return new eA(t,e.uid||"")}getOverlay(t,e){return JC(t).get(wL(this.userId,e)).next(i=>i?Jk(this.M,i):null)}saveOverlays(t,e,i){const r=[];return i.forEach((o,c)=>{const d=new Qk(e,c);r.push(this.Xt(t,d))}),ve.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(c=>r.add(oo(c.getCollectionPath())));const o=[];return r.forEach(c=>{const d=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);o.push(JC(t).Qt("collectionPathOverlayIndex",d))}),ve.waitFor(o)}getOverlaysForCollection(t,e,i){const r=GC(),o=oo(e),c=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return JC(t).qt("collectionPathOverlayIndex",c).next(d=>{for(const p of d){const v=Jk(this.M,p);r.set(v.getKey(),v)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const o=GC();let c;const d=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return JC(t).Wt({index:"collectionGroupOverlayIndex",range:d},(p,v,M)=>{const E=Jk(this.M,v);o.size()<r||E.largestBatchId===c?(o.set(E.getKey(),E),c=E.largestBatchId):M.done()}).next(()=>o)}Xt(t,e){return JC(t).put(function(i,r,o){const[c,d,p]=wL(r,o.mutation.key);return{userId:r,collectionPath:d,documentId:p,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:KC(i.Jt,o.mutation)}}(this.M,this.userId,e))}}function JC(n){return so(n,"documentOverlays")}class Yv{constructor(){}Zt(t,e){this.te(t,e),e.ee()}te(t,e){if("nullValue"in t)this.ne(e,5);else if("booleanValue"in t)this.ne(e,10),e.se(t.booleanValue?1:0);else if("integerValue"in t)this.ne(e,15),e.se(ri(t.integerValue));else if("doubleValue"in t){const i=ri(t.doubleValue);isNaN(i)?this.ne(e,13):(this.ne(e,15),Ng(i)?e.se(0):e.se(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ne(e,20),"string"==typeof i?e.ie(i):(e.ie(`${i.seconds||""}`),e.se(i.nanos||0))}else if("stringValue"in t)this.re(t.stringValue,e),this.oe(e);else if("bytesValue"in t)this.ne(e,30),e.ue(Sd(t.bytesValue)),this.oe(e);else if("referenceValue"in t)this.ae(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ne(e,45),e.se(i.latitude||0),e.se(i.longitude||0)}else"mapValue"in t?m(t)?this.ne(e,Number.MAX_SAFE_INTEGER):(this.ce(t.mapValue,e),this.oe(e)):"arrayValue"in t?(this.he(t.arrayValue,e),this.oe(e)):ut()}re(t,e){this.ne(e,25),this.le(t,e)}le(t,e){e.ie(t)}ce(t,e){const i=t.fields||{};this.ne(e,55);for(const r of Object.keys(i))this.re(r,e),this.te(i[r],e)}he(t,e){const i=t.values||[];this.ne(e,50);for(const r of i)this.te(r,e)}ae(t,e){this.ne(e,37),$e.fromName(t).path.forEach(i=>{this.ne(e,60),this.le(i,e)})}ne(t,e){t.se(e)}oe(t){t.se(2)}}function V5(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function EL(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const o=V5(255&e[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(t/8)}Yv.fe=new Yv;class U5{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this._e(i.value),i=e.next();this.we()}me(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.ge(i.value),i=e.next();this.ye()}pe(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(e<"\ud800"||"\udbff"<e)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{const r=e.codePointAt(0);this._e(240|r>>>18),this._e(128|63&r>>>12),this._e(128|63&r>>>6),this._e(128|63&r)}}this.we()}Ie(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{const r=e.codePointAt(0);this.ge(240|r>>>18),this.ge(128|63&r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r)}}this.ye()}Te(t){const e=this.Ee(t),i=EL(e);this.Ae(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Re(t){const e=this.Ee(t),i=EL(e);this.Ae(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(t){this.Ae(t.length),this.buffer.set(t,this.position),this.position+=t.length}Se(){return this.buffer.slice(0,this.position)}Ee(t){const e=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}_e(t){const e=255&t;0===e?(this.Pe(0),this.Pe(255)):255===e?(this.Pe(255),this.Pe(0)):this.Pe(e)}ge(t){const e=255&t;0===e?(this.ve(0),this.ve(255)):255===e?(this.ve(255),this.ve(0)):this.ve(t)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(t){this.Ae(1),this.buffer[this.position++]=t}ve(t){this.Ae(1),this.buffer[this.position++]=~t}Ae(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class H5{constructor(t){this.De=t}ue(t){this.De.de(t)}ie(t){this.De.pe(t)}se(t){this.De.Te(t)}ee(){this.De.be()}}class j5{constructor(t){this.De=t}ue(t){this.De.me(t)}ie(t){this.De.Ie(t)}se(t){this.De.Re(t)}ee(){this.De.Ve()}}class uS{constructor(){this.De=new U5,this.Ce=new H5(this.De),this.xe=new j5(this.De)}seed(t){this.De.seed(t)}Ne(t){return 0===t?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Af{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}ke(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new Af(this.indexId,this.documentKey,this.arrayValue,i)}}function qg(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=DL(n.arrayValue,t.arrayValue),0!==e?e:(e=DL(n.directionalValue,t.directionalValue),0!==e?e:$e.comparator(n.documentKey,t.documentKey)))}function DL(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class z5{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];for(const e of t.filters){const i=e;i.S()?this.Fe=i:this.Oe.push(i)}}$e(t){const e=z(t);if(void 0!==e&&!this.Be(e))return!1;const i=Q(t);let r=0,o=0;for(;r<i.length&&this.Be(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Fe){const c=i[r];if(!this.Le(this.Fe,c)||!this.Ue(this.Me[o++],c))return!1;++r}for(;r<i.length;++r){const c=i[r];if(o>=this.Me.length||!this.Ue(this.Me[o++],c))return!1}return!0}Be(t){for(const e of this.Oe)if(this.Le(e,t))return!0;return!1}Le(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}Ue(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class G5{constructor(){this.qe=new tA}addToCollectionParentIndex(t,e){return this.qe.add(e),ve.resolve()}getCollectionParents(t,e){return ve.resolve(this.qe.getEntries(e))}addFieldIndex(t,e){return ve.resolve()}deleteFieldIndex(t,e){return ve.resolve()}getDocumentsMatchingTarget(t,e){return ve.resolve(null)}getFieldIndex(t,e){return ve.resolve(null)}getFieldIndexes(t,e){return ve.resolve([])}getNextCollectionGroupToUpdate(t){return ve.resolve(null)}updateCollectionGroup(t,e,i){return ve.resolve()}updateIndexEntries(t,e){return ve.resolve()}}class tA{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new gi(an.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new gi(an.comparator)).toArray()}}const dS=new Uint8Array(0);class $5{constructor(t){this.user=t,this.Ge=new tA,this.Ke=new Of(e=>or(e),(e,i)=>kd(e,i)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Ge.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Ge.add(e)});const o={collectionId:i,parent:oo(r)};return SL(t).put(o)}return ve.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[Rk(e),""],!1,!0);return SL(t).qt(r).next(o=>{for(const c of o){if(c.collectionId!==e)break;i.push($l(c.parent))}return i})}addFieldIndex(t,e){const i=hS(t),r={indexId:(o=e).indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var o;return delete r.indexId,i.add(r).next()}deleteFieldIndex(t,e){const i=hS(t),r=fS(t),o=ew(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=ew(t);let r=!0;const o=new Map;return ve.forEach(this.Qe(e),c=>this.getFieldIndex(t,c).next(d=>{r&&(r=!!d),o.set(c,d)})).next(()=>{if(r){let c=Bn();return ve.forEach(o,(d,p)=>{var v;Ue("IndexedDbIndexManager",`Using index ${v=d,`id=${v.indexId}|cg=${v.collectionGroup}|f=${v.fields.map(Re=>`${Re.fieldPath}:${Re.kind}`).join(",")}`} to execute ${or(e)}`);const M=function(Re,We){const Le=z(We);if(void 0===Le)return null;for(const St of Tf(Re,Le.fieldPath))switch(St.op){case"array-contains-any":return St.value.arrayValue.values||[];case"array-contains":return[St.value]}return null}(p,d),E=function(Re,We){const Le=new Map;for(const St of Q(We))for(const xt of Tf(Re,St.fieldPath))switch(xt.op){case"==":case"in":Le.set(St.fieldPath.canonicalString(),xt.value);break;case"not-in":case"!=":return Le.set(St.fieldPath.canonicalString(),xt.value),Array.from(Le.values())}return null}(p,d),O=function(Re,We){const Le=[];let St=!0;for(const Un of Q(We)){let Hn,lr=!0;for(const jn of Tf(Re,Un.fieldPath)){let ai,fl=!0;switch(jn.op){case"<":case"<=":ai="nullValue"in(xt=jn.value)?Nk:"booleanValue"in xt?{booleanValue:!1}:"integerValue"in xt||"doubleValue"in xt?{doubleValue:NaN}:"timestampValue"in xt?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in xt?{stringValue:""}:"bytesValue"in xt?{bytesValue:""}:"referenceValue"in xt?Bg(zl.empty(),$e.empty()):"geoPointValue"in xt?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in xt?{arrayValue:{}}:"mapValue"in xt?{mapValue:{}}:ut();break;case"==":case"in":case">=":ai=jn.value;break;case">":ai=jn.value,fl=!1;break;case"!=":case"not-in":ai=Nk}b(Hn,ai)===ai&&(Hn=ai,lr=fl)}if(null!==Re.startAt)for(let jn=0;jn<Re.orderBy.length;++jn)if(Re.orderBy[jn].field.isEqual(Un.fieldPath)){const ai=Re.startAt.position[jn];b(Hn,ai)===ai&&(Hn=ai,lr=Re.startAt.inclusive);break}if(void 0===Hn)return null;Le.push(Hn),St&&(St=lr)}var xt;return new If(Le,St)}(p,d),R=function(Re,We){const Le=[];let St=!0;for(const Un of Q(We)){let Hn,lr=!0;for(const jn of Tf(Re,Un.fieldPath)){let ai,fl=!0;switch(jn.op){case">=":case">":ai="nullValue"in(xt=jn.value)?{booleanValue:!1}:"booleanValue"in xt?{doubleValue:NaN}:"integerValue"in xt||"doubleValue"in xt?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in xt?{stringValue:""}:"stringValue"in xt?{bytesValue:""}:"bytesValue"in xt?Bg(zl.empty(),$e.empty()):"referenceValue"in xt?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in xt?{arrayValue:{}}:"arrayValue"in xt?{mapValue:{}}:"mapValue"in xt?YD:ut(),fl=!1;break;case"==":case"in":case"<=":ai=jn.value;break;case"<":ai=jn.value,fl=!1;break;case"!=":case"not-in":ai=YD}w(Hn,ai)===ai&&(Hn=ai,lr=fl)}if(null!==Re.endAt)for(let jn=0;jn<Re.orderBy.length;++jn)if(Re.orderBy[jn].field.isEqual(Un.fieldPath)){const ai=Re.endAt.position[jn];w(Hn,ai)===ai&&(Hn=ai,lr=Re.endAt.inclusive);break}if(void 0===Hn)return null;Le.push(Hn),St&&(St=lr)}var xt;return new If(Le,St)}(p,d),V=this.je(d,p,O),Z=this.je(d,p,R),re=this.We(d,p,E),Pe=this.ze(d.indexId,M,V,!!O&&O.inclusive,Z,!!R&&R.inclusive,re);return ve.forEach(Pe,Re=>i.Kt(Re,e.limit).next(We=>{We.forEach(Le=>{c=c.add(new $e($l(Le.documentKey)))})}))}).next(()=>c)}return ve.resolve(null)})}Qe(t){let e=this.Ke.get(t);return e||(e=[t],this.Ke.set(t,e),e)}ze(t,e,i,r,o,c,d){const p=(null!=e?e.length:1)*Math.max(null!=i?i.length:1,null!=o?o.length:1),v=p/(null!=e?e.length:1),M=[];for(let E=0;E<p;++E){const O=e?this.He(e[E/v]):dS,R=i?this.Je(t,O,i[E%v],r):this.Ye(t),V=o?this.Xe(t,O,o[E%v],c):this.Ye(t+1);M.push(...this.createRange(R,V,d.map(Z=>this.Je(t,O,Z,!0))))}return M}Je(t,e,i,r){const o=new Af(t,$e.empty(),e,i);return r?o:o.ke()}Xe(t,e,i,r){const o=new Af(t,$e.empty(),e,i);return r?o.ke():o}Ye(t){return new Af(t,$e.empty(),dS,dS)}getFieldIndex(t,e){const i=new z5(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{const c=o.filter(d=>i.$e(d));return c.sort((d,p)=>p.fields.length-d.fields.length),c.length>0?c[0]:null})}Ze(t,e){const i=new uS;for(const r of Q(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const c=i.Ne(r.kind);Yv.fe.Zt(o,c)}return i.Se()}He(t){const e=new uS;return Yv.fe.Zt(t,e.Ne(0)),e.Se()}We(t,e,i){if(null===i)return[];let r=[];r.push(new uS);let o=0;for(const c of Q(t)){const d=i[o++];for(const p of r)if(this.tn(e,c.fieldPath)&&s(d))r=this.en(r,c,d);else{const v=p.Ne(c.kind);Yv.fe.Zt(d,v)}}return this.nn(r)}je(t,e,i){return null==i?null:this.We(t,e,i.position)}nn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Se();return e}en(t,e,i){const r=[...t],o=[];for(const c of i.arrayValue.values||[])for(const d of r){const p=new uS;p.seed(d.Se()),Yv.fe.Zt(c,p.Ne(e.kind)),o.push(p)}return o}tn(t,e){return!!t.filters.find(i=>i instanceof sr&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=hS(t),r=fS(t);return(e?i.qt("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.qt()).next(o=>{const c=[];return ve.forEach(o,d=>r.get([d.indexId,this.uid]).next(p=>{c.push(function(v,M){const E=M?new Ne(M.sequenceNumber,new Ee($g(M.readTime),new $e($l(M.documentKey)),M.largestBatchId)):Ne.empty(),O=v.fields.map(([R,V])=>new we(Dr.fromServerFormat(R),V));return new U(v.indexId,v.collectionGroup,O,E)}(d,p))})).next(()=>c)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:en(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=hS(t),o=fS(t);return this.sn(t).next(c=>r.qt("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(d=>ve.forEach(d,p=>{return o.put({indexId:p.indexId,uid:this.user.uid||"",sequenceNumber:c,readTime:Gg((O=i).readTime),documentKey:oo(O.documentKey.path),largestBatchId:O.largestBatchId});var O})))}updateIndexEntries(t,e){const i=new Map;return ve.forEach(e,(r,o)=>{const c=i.get(r.collectionGroup);return(c?ve.resolve(c):this.getFieldIndexes(t,r.collectionGroup)).next(d=>(i.set(r.collectionGroup,d),ve.forEach(d,p=>this.rn(t,r,p).next(v=>{const M=this.on(o,p);return v.isEqual(M)?ve.resolve():this.un(t,o,v,M)}))))})}an(t,e,i){return ew(t).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,documentKey:oo(e.key.path)})}cn(t,e,i){return ew(t).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,oo(e.key.path)])}rn(t,e,i){const r=ew(t);let o=new gi(qg);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,oo(e.path)])},(c,d)=>{o=o.add(new Af(i.indexId,e,d.arrayValue,d.directionalValue))}).next(()=>o)}on(t,e){let i=new gi(qg);const r=this.Ze(e,t);if(null==r)return i;const o=z(e);if(null!=o){const c=t.data.field(o.fieldPath);if(s(c))for(const d of c.arrayValue.values||[])i=i.add(new Af(e.indexId,t.key,this.He(d),r))}else i=i.add(new Af(e.indexId,t.key,dS,r));return i}un(t,e,i,r){Ue("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const o=[];return function(c,d,p,v,M){const E=c.getIterator(),O=d.getIterator();let R=$v(E),V=$v(O);for(;R||V;){let Z=!1,re=!1;if(R&&V){const Pe=p(R,V);Pe<0?re=!0:Pe>0&&(Z=!0)}else null!=R?re=!0:Z=!0;Z?(v(V),V=$v(O)):re?(M(R),R=$v(E)):(R=$v(E),V=$v(O))}}(i,r,qg,c=>{o.push(this.an(t,e,c))},c=>{o.push(this.cn(t,e,c))}),ve.waitFor(o)}sn(t){let e=1;return fS(t).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((c,d)=>qg(c,d)).filter((c,d,p)=>!d||0!==qg(c,p[d-1]));const r=[];r.push(t);for(const c of i){const d=qg(c,t),p=qg(c,e);if(0===d)r[0]=t.ke();else if(d>0&&p<0)r.push(c),r.push(c.ke());else if(p>0)break}r.push(e);const o=[];for(let c=0;c<r.length;c+=2)o.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,""],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,""]));return o}}function SL(n){return so(n,"collectionParents")}function ew(n){return so(n,"indexEntries")}function hS(n){return so(n,"indexConfiguration")}function fS(n){return so(n,"indexState")}const TL={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ws{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new Ws(t,Ws.DEFAULT_COLLECTION_PERCENTILE,Ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function IL(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],c=IDBKeyRange.only(e.batchId);let d=0;const p=i.Wt({range:c},(M,E,O)=>(d++,O.delete()));o.push(p.next(()=>{Ft(1===d)}));const v=[];for(const M of e.mutations){const E=hL(t,M.key.path,e.batchId);o.push(r.delete(E)),v.push(M.key)}return ve.waitFor(o).next(()=>v)}function pS(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw ut();t=n.noDocument}return JSON.stringify(t).length}Ws.DEFAULT_COLLECTION_PERCENTILE=10,Ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ws.DEFAULT=new Ws(41943040,Ws.DEFAULT_COLLECTION_PERCENTILE,Ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ws.DISABLED=new Ws(-1,0,0);class nA{constructor(t,e,i,r){this.userId=t,this.M=e,this.indexManager=i,this.referenceDelegate=r,this.hn={}}static Yt(t,e,i,r){Ft(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new nA(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Pf(t).Wt({index:"userMutationsIndex",range:i},(r,o,c)=>{e=!1,c.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=Kv(t),c=Pf(t);return c.add({}).next(d=>{Ft("number"==typeof d);const p=new Yk(d,e,i,r),v=function(O,R,V){const Z=V.baseMutations.map(Pe=>KC(O.Jt,Pe)),re=V.mutations.map(Pe=>KC(O.Jt,Pe));return{userId:R,batchId:V.batchId,localWriteTimeMs:V.localWriteTime.toMillis(),baseMutations:Z,mutations:re}}(this.M,this.userId,p),M=[];let E=new gi((O,R)=>en(O.canonicalString(),R.canonicalString()));for(const O of r){const R=hL(this.userId,O.key.path,d);E=E.add(O.key.path.popLast()),M.push(c.put(v)),M.push(o.put(R,v5))}return E.forEach(O=>{M.push(this.indexManager.addToCollectionParentIndex(t,O))}),t.addOnCommittedListener(()=>{this.hn[d]=p.keys()}),ve.waitFor(M).next(()=>p)})}lookupMutationBatch(t,e){return Pf(t).get(e).next(i=>i?(Ft(i.userId===this.userId),Zv(this.M,i)):null)}ln(t,e){return this.hn[e]?ve.resolve(this.hn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.hn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Pf(t).Wt({index:"userMutationsIndex",range:r},(c,d,p)=>{d.userId===this.userId&&(Ft(d.batchId>=i),o=Zv(this.M,d)),p.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Pf(t).Wt({index:"userMutationsIndex",range:e,reverse:!0},(r,o,c)=>{i=o.batchId,c.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Pf(t).qt("userMutationsIndex",e).next(i=>i.map(r=>Zv(this.M,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=aS(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return Kv(t).Wt({range:r},(c,d,p)=>{const[v,M,E]=c,O=$l(M);if(v===this.userId&&e.path.isEqual(O))return Pf(t).get(E).next(R=>{if(!R)throw ut();Ft(R.userId===this.userId),o.push(Zv(this.M,R))});p.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new gi(en);const r=[];return e.forEach(o=>{const c=aS(this.userId,o.path),d=IDBKeyRange.lowerBound(c),p=Kv(t).Wt({range:d},(v,M,E)=>{const[O,R,V]=v,Z=$l(R);O===this.userId&&o.path.isEqual(Z)?i=i.add(V):E.done()});r.push(p)}),ve.waitFor(r).next(()=>this.fn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=aS(this.userId,i),c=IDBKeyRange.lowerBound(o);let d=new gi(en);return Kv(t).Wt({range:c},(p,v,M)=>{const[E,O,R]=p,V=$l(O);E===this.userId&&i.isPrefixOf(V)?V.length===r&&(d=d.add(R)):M.done()}).next(()=>this.fn(t,d))}fn(t,e){const i=[],r=[];return e.forEach(o=>{r.push(Pf(t).get(o).next(c=>{if(null===c)throw ut();Ft(c.userId===this.userId),i.push(Zv(this.M,c))}))}),ve.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return IL(t.Ht,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.dn(e.batchId)}),ve.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}dn(t){delete this.hn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return ve.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Kv(t).Wt({range:i},(o,c,d)=>{if(o[0]===this.userId){const p=$l(o[1]);r.push(p)}else d.done()}).next(()=>{Ft(0===r.length)})})}containsKey(t,e){return OL(t,this.userId,e)}_n(t){return kL(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function OL(n,t,e){const i=aS(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let c=!1;return Kv(n).Wt({range:o,jt:!0},(d,p,v)=>{const[M,E,O]=d;M===t&&E===r&&(c=!0),v.done()}).next(()=>c)}function Pf(n){return so(n,"mutations")}function Kv(n){return so(n,"documentMutations")}function kL(n){return so(n,"mutationQueues")}class Wg{constructor(t){this.wn=t}next(){return this.wn+=2,this.wn}static mn(){return new Wg(0)}static gn(){return new Wg(-1)}}class q5{constructor(t,e){this.referenceDelegate=t,this.M=e}allocateTargetId(t){return this.yn(t).next(e=>{const i=new Wg(e.highestTargetId);return e.highestTargetId=i.next(),this.pn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.yn(t).next(e=>kt.fromTimestamp(new Ci(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.yn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.yn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.pn(t,r)))}addTargetData(t,e){return this.In(t,e).next(()=>this.yn(t).next(i=>(i.targetCount+=1,this.Tn(e,i),this.pn(t,i))))}updateTargetData(t,e){return this.In(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>Qv(t).delete(e.targetId)).next(()=>this.yn(t)).next(i=>(Ft(i.targetCount>0),i.targetCount-=1,this.pn(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return Qv(t).Wt((c,d)=>{const p=XC(d);p.sequenceNumber<=e&&null===i.get(p.targetId)&&(r++,o.push(this.removeTargetData(t,p)))}).next(()=>ve.waitFor(o)).next(()=>r)}forEachTarget(t,e){return Qv(t).Wt((i,r)=>{const o=XC(r);e(o)})}yn(t){return AL(t).get("targetGlobalKey").next(e=>(Ft(null!==e),e))}pn(t,e){return AL(t).put("targetGlobalKey",e)}In(t,e){return Qv(t).put(CL(this.M,e))}Tn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.yn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=or(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return Qv(t).Wt({range:r,index:"queryTargetsIndex"},(c,d,p)=>{const v=XC(d);kd(e,v.target)&&(o=v,p.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=Rf(t);return e.forEach(c=>{const d=oo(c.path);r.push(o.put({targetId:i,path:d})),r.push(this.referenceDelegate.addReference(t,i,c))}),ve.waitFor(r)}removeMatchingKeys(t,e,i){const r=Rf(t);return ve.forEach(e,o=>{const c=oo(o.path);return ve.waitFor([r.delete([i,c]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=Rf(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=Rf(t);let o=Bn();return r.Wt({range:i,jt:!0},(c,d,p)=>{const v=$l(c[1]),M=new $e(v);o=o.add(M)}).next(()=>o)}containsKey(t,e){const i=oo(e.path),r=IDBKeyRange.bound([i],[Rk(i)],!1,!0);let o=0;return Rf(t).Wt({index:"documentTargetsIndex",jt:!0,range:r},([c,d],p,v)=>{0!==c&&(o++,v.done())}).next(()=>o>0)}Et(t,e){return Qv(t).get(e).next(i=>i?XC(i):null)}}function Qv(n){return so(n,"targets")}function AL(n){return so(n,"targetGlobal")}function Rf(n){return so(n,"targetDocuments")}function Zg(n){return iA.apply(this,arguments)}function iA(){return iA=(0,Ce.Z)(function*(n){if(n.code!==he.FAILED_PRECONDITION||n.message!==gL)throw n;Ue("LocalStore","Unexpectedly lost primary lease")}),iA.apply(this,arguments)}function PL([n,t],[e,i]){const r=en(n,e);return 0===r?en(t,i):r}class W5{constructor(t){this.En=t,this.buffer=new gi(PL),this.An=0}Rn(){return++this.An}bn(t){const e=[t,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();PL(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Z5{constructor(t,e){this.garbageCollector=t,this.asyncQueue=e,this.Pn=!1,this.Vn=null}start(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(t)}stop(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}get started(){return null!==this.Vn}vn(t){var e=this;const i=this.Pn?3e5:6e4;Ue("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,Ce.Z)(function*(){e.Vn=null,e.Pn=!0;try{yield t.collectGarbage(e.garbageCollector)}catch(r){jg(r)?Ue("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Zg(r)}yield e.vn(t)}))}}class Y5{constructor(t,e){this.Sn=t,this.params=e}calculateTargetCount(t,e){return this.Sn.Dn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return ve.resolve(So.A);const i=new W5(e);return this.Sn.forEachTarget(t,r=>i.bn(r.sequenceNumber)).next(()=>this.Sn.Cn(t,r=>i.bn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Sn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Sn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector","Garbage collection skipped; disabled"),ve.resolve(TL)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),TL):this.xn(t,e))}getCacheSize(t){return this.Sn.getCacheSize(t)}xn(t,e){let i,r,o,c,d,p,v;const M=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(Ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),r=this.params.maximumSequenceNumbersToCollect):r=E,c=Date.now(),this.nthSequenceNumber(t,r))).next(E=>(i=E,d=Date.now(),this.removeTargets(t,i,e))).next(E=>(o=E,p=Date.now(),this.removeOrphanedDocuments(t,i))).next(E=>(v=Date.now(),VD()<=$s.in.DEBUG&&Ue("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-M}ms\n\tDetermined least recently used ${r} in `+(d-c)+`ms\n\tRemoved ${o} targets in `+(p-d)+`ms\n\tRemoved ${E} documents in `+(v-p)+`ms\nTotal Duration: ${v-M}ms`),ve.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:E})))}}class K5{constructor(t,e){this.db=t,this.garbageCollector=new Y5(this,e)}Dn(t){const e=this.Nn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Nn(t){let e=0;return this.Cn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Cn(t,e){return this.kn(t,(i,r)=>e(r))}addReference(t,e,i){return gS(t,i)}removeReference(t,e,i){return gS(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return gS(t,e)}Mn(t,e){return function(i,r){let o=!1;return kL(i).zt(c=>OL(i,c,r).next(d=>(d&&(o=!0),ve.resolve(!d)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.kn(t,(c,d)=>{if(d<=e){const p=this.Mn(t,c).next(v=>{if(!v)return o++,i.getEntry(t,c).next(()=>(i.removeEntry(c,kt.min()),Rf(t).delete([0,oo(c.path)])))});r.push(p)}}).next(()=>ve.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return gS(t,e)}kn(t,e){const i=Rf(t);let r,o=So.A;return i.Wt({index:"documentTargetsIndex"},([c,d],{path:p,sequenceNumber:v})=>{0===c?(o!==So.A&&e(new $e($l(r)),o),o=v,r=p):o=So.A}).next(()=>{o!==So.A&&e(new $e($l(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function gS(n,t){return Rf(n).put((i=n.currentSequenceNumber,{targetId:0,path:oo(t.path),sequenceNumber:i}));var i}class RL{constructor(){this.changes=new Of(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,k.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?ve.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Q5{constructor(t){this.M=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Yg(t).put(i)}removeEntry(t,e,i){return Yg(t).delete(function(r,o){const c=r.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],cS(o),c[c.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.On(t,i)))}getEntry(t,e){let i=k.newInvalidDocument(e);return Yg(t).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(tw(e))},(r,o)=>{i=this.Fn(e,o)}).next(()=>i)}$n(t,e){let i={size:0,document:k.newInvalidDocument(e)};return Yg(t).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(tw(e))},(r,o)=>{i={document:this.Fn(e,o),size:pS(o)}}).next(()=>i)}getEntries(t,e){let i=tl();return this.Bn(t,e,(r,o)=>{const c=this.Fn(r,o);i=i.insert(r,c)}).next(()=>i)}Ln(t,e){let i=tl(),r=new ar($e.comparator);return this.Bn(t,e,(o,c)=>{const d=this.Fn(o,c);i=i.insert(o,d),r=r.insert(o,pS(c))}).next(()=>({documents:i,Un:r}))}Bn(t,e,i){if(e.isEmpty())return ve.resolve();let r=new gi(LL);e.forEach(p=>r=r.add(p));const o=IDBKeyRange.bound(tw(r.first()),tw(r.last())),c=r.getIterator();let d=c.getNext();return Yg(t).Wt({index:"documentKeyIndex",range:o},(p,v,M)=>{const E=$e.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;d&&LL(d,E)<0;)i(d,null),d=c.getNext();d&&d.isEqual(E)&&(i(d,v),d=c.hasNext()?c.getNext():null),d?M.Ut(tw(d)):M.done()}).next(()=>{for(;d;)i(d,null),d=c.hasNext()?c.getNext():null})}getAllFromCollection(t,e,i){const r=[e.popLast().toArray(),e.lastSegment(),cS(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],o=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Yg(t).qt(IDBKeyRange.bound(r,o,!0)).next(c=>{let d=tl();for(const p of c){const v=this.Fn($e.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);d=d.insert(v.key,v)}return d})}getAllFromCollectionGroup(t,e,i,r){let o=tl();const c=NL(e,i),d=NL(e,Ee.max());return Yg(t).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,d,!0)},(p,v,M)=>{const E=this.Fn($e.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);o=o.insert(E.key,E),o.size===r&&M.done()}).next(()=>o)}newChangeBuffer(t){return new X5(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return FL(t).get("remoteDocumentGlobalKey").next(e=>(Ft(!!e),e))}On(t,e){return FL(t).put("remoteDocumentGlobalKey",e)}Fn(t,e){if(e){const i=function L5(n,t){let e;if(t.document)e=rL(n.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=$e.fromSegments(t.noDocument.path),r=$g(t.noDocument.readTime);e=k.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return ut();{const i=$e.fromSegments(t.unknownDocument.path),r=$g(t.unknownDocument.version);e=k.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new Ci(i[0],i[1]);return kt.fromTimestamp(r)}(t.readTime)),e}(this.M,e);if(!i.isNoDocument()||!i.version.isEqual(kt.min()))return i}return k.newInvalidDocument(t)}}class X5 extends RL{constructor(t,e){super(),this.qn=t,this.trackRemovals=e,this.Gn=new Of(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new gi((o,c)=>en(o.canonicalString(),c.canonicalString()));return this.changes.forEach((o,c)=>{const d=this.Gn.get(o);if(e.push(this.qn.removeEntry(t,o,d.readTime)),c.isValidDocument()){const p=bL(this.qn.M,c);r=r.add(o.path.popLast()),i+=pS(p)-d.size,e.push(this.qn.addEntry(t,o,p))}else if(i-=d.size,this.trackRemovals){const p=bL(this.qn.M,c.convertToNoDocument(kt.min()));e.push(this.qn.addEntry(t,o,p))}}),r.forEach(o=>{e.push(this.qn.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.qn.updateMetadata(t,i)),ve.waitFor(e)}getFromCache(t,e){return this.qn.$n(t,e).next(i=>(this.Gn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.qn.Ln(t,e).next(({documents:i,Un:r})=>(r.forEach((o,c)=>{this.Gn.set(o,{size:c,readTime:i.get(o).readTime})}),i))}}function FL(n){return so(n,"remoteDocumentGlobal")}function Yg(n){return so(n,"remoteDocumentsV14")}function tw(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function NL(n,t){const e=t.documentKey.path.toArray();return[n,cS(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function LL(n,t){const e=n.path.length-t.path.length;return 0!==e?e:$e.comparator(n,t)}class J5{constructor(t){this.M=t}kt(t,e,i,r){const o=new lS("createOrUpgrade",e);var d;i<1&&r>=1&&(t.createObjectStore("owner"),(d=t).createObjectStore("mutationQueues",{keyPath:"userId"}),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",dL,{unique:!0}),d.createObjectStore("documentMutations"),BL(t),function(d){d.createObjectStore("remoteDocuments")}(t));let c=ve.resolve();return i<3&&r>=3&&(0!==i&&(function(d){d.deleteObjectStore("targetDocuments"),d.deleteObjectStore("targets"),d.deleteObjectStore("targetGlobal")}(t),BL(t)),c=c.next(()=>function(d){const p=d.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:kt.min().toTimestamp(),targetCount:0};return p.put("targetGlobalKey",v)}(o))),i<4&&r>=4&&(0!==i&&(c=c.next(()=>function(d,p){return p.store("mutations").qt().next(v=>{d.deleteObjectStore("mutations"),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",dL,{unique:!0});const M=p.store("mutations"),E=v.map(O=>M.put(O));return ve.waitFor(E)})}(t,o))),c=c.next(()=>{!function(d){d.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(c=c.next(()=>this.Kn(o))),i<6&&r>=6&&(c=c.next(()=>(function(d){d.createObjectStore("remoteDocumentGlobal")}(t),this.Qn(o)))),i<7&&r>=7&&(c=c.next(()=>this.jn(o))),i<8&&r>=8&&(c=c.next(()=>this.Wn(t,o))),i<9&&r>=9&&(c=c.next(()=>{!function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(c=c.next(()=>this.zn(o))),i<11&&r>=11&&(c=c.next(()=>{(function(d){d.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(d){d.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(c=c.next(()=>{!function(d){const p=d.createObjectStore("documentOverlays",{keyPath:O5});p.createIndex("collectionPathOverlayIndex",k5,{unique:!1}),p.createIndex("collectionGroupOverlayIndex",A5,{unique:!1})}(t)})),i<13&&r>=13&&(c=c.next(()=>function(d){const p=d.createObjectStore("remoteDocumentsV14",{keyPath:y5});p.createIndex("documentKeyIndex",b5),p.createIndex("collectionGroupIndex",C5)}(t)).next(()=>this.Hn(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(c=c.next(()=>{!function(d){d.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),d.createObjectStore("indexState",{keyPath:D5}).createIndex("sequenceNumberIndex",S5,{unique:!1}),d.createObjectStore("indexEntries",{keyPath:T5}).createIndex("documentKeyIndex",I5,{unique:!1})}(t)})),c}Qn(t){let e=0;return t.store("remoteDocuments").Wt((i,r)=>{e+=pS(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Kn(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.qt().next(r=>ve.forEach(r,o=>{const c=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.qt("userMutationsIndex",c).next(d=>ve.forEach(d,p=>{Ft(p.userId===o.userId);const v=Zv(this.M,p);return IL(t,o.userId,v).next(()=>{})}))}))}jn(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.Wt((c,d)=>{const p=new an(c),v=[0,oo(p)];o.push(e.get(v).next(M=>M?ve.resolve():e.put({targetId:0,path:oo(p),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ve.waitFor(o))})}Wn(t,e){t.createObjectStore("collectionParents",{keyPath:E5});const i=e.store("collectionParents"),r=new tA,o=c=>{if(r.add(c)){const d=c.lastSegment(),p=c.popLast();return i.put({collectionId:d,parent:oo(p)})}};return e.store("remoteDocuments").Wt({jt:!0},(c,d)=>{const p=new an(c);return o(p.popLast())}).next(()=>e.store("documentMutations").Wt({jt:!0},([c,d,p],v)=>{const M=$l(d);return o(M.popLast())}))}zn(t){const e=t.store("targets");return e.Wt((i,r)=>{const o=XC(r),c=CL(this.M,o);return e.put(c)})}Hn(t,e){const i=e.store("remoteDocuments"),r=[];return i.Wt((o,c)=>{const d=e.store("remoteDocumentsV14"),p=(v=c,v.document?new $e(an.fromString(v.document.name).popFirst(5)):v.noDocument?$e.fromSegments(v.noDocument.path):v.unknownDocument?$e.fromSegments(v.unknownDocument.path):ut()).path.toArray();var v;const M={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};r.push(d.put(M))}).next(()=>ve.waitFor(r))}}function BL(n){n.createObjectStore("targetDocuments",{keyPath:M5}).createIndex("documentTargetsIndex",x5,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",w5,{unique:!0}),n.createObjectStore("targetGlobal")}const rA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class oA{constructor(t,e,i,r,o,c,d,p,v,M,E=13){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Jn=o,this.window=c,this.document=d,this.Yn=v,this.Xn=M,this.Zn=E,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=O=>Promise.resolve(),!oA.vt())throw new Ae(he.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new K5(this,r),this.cs=e+"main",this.M=new yL(p),this.hs=new ql(this.cs,this.Zn,new J5(this.M)),this.ls=new q5(this.referenceDelegate,this.M),this.fs=new Q5(this.M),this.ds=new B5,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===M&&$i("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ws().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ae(he.FAILED_PRECONDITION,rA);return this.gs(),this.ys(),this.ps(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.ls.getHighestSequenceNumber(t))}).then(t=>{this.ts=new So(t,this.Yn)}).then(()=>{this.es=!0}).catch(t=>(this.hs&&this.hs.close(),Promise.reject(t)))}Is(t){var e=this;return this.us=function(){var i=(0,Ce.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.hs.Ot(function(){var e=(0,Ce.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Jn.enqueueAndForget((0,Ce.Z)(function*(){e.started&&(yield e.ws())})))}ws(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>mS(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ts(t).next(e=>{e||(this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)))})}).next(()=>this.Es(t)).next(e=>this.isPrimary&&!e?this.As(t).next(()=>!1):!!e&&this.Rs(t).next(()=>!0))).catch(t=>{if(jg(t))return Ue("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Ue("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Jn.enqueueRetryable(()=>this.us(t)),this.isPrimary=t})}Ts(t){return nw(t).get("owner").next(e=>ve.resolve(this.bs(e)))}Ps(t){return mS(t).delete(this.clientId)}Vs(){var t=this;return(0,Ce.Z)(function*(){if(t.isPrimary&&!t.vs(t.os,18e5)){t.os=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=so(i,"clientMetadata");return r.qt().next(o=>{const c=t.Ss(o,18e5),d=o.filter(p=>-1===c.indexOf(p));return ve.forEach(d,p=>r.delete(p.clientId)).next(()=>d)})}).catch(()=>[]);if(t._s)for(const i of e)t._s.removeItem(t.Ds(i.clientId))}})()}ps(){this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ws().then(()=>this.Vs()).then(()=>this.ps()))}bs(t){return!!t&&t.ownerId===this.clientId}Es(t){return this.Xn?ve.resolve(!0):nw(t).get("owner").next(e=>{if(null!==e&&this.vs(e.leaseTimestampMs,5e3)&&!this.Cs(e.ownerId)){if(this.bs(e)&&this.networkEnabled)return!0;if(!this.bs(e)){if(!e.allowTabSynchronization)throw new Ae(he.FAILED_PRECONDITION,rA);return!1}}return!(!this.networkEnabled||!this.inForeground)||mS(t).qt().next(i=>void 0===this.Ss(i,5e3).find(r=>{if(this.clientId!==r.clientId){const c=!this.inForeground&&r.inForeground,d=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||c&&d)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Ue("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,Ce.Z)(function*(){t.es=!1,t.xs(),t.rs&&(t.rs.cancel(),t.rs=null),t.Ns(),t.ks(),yield t.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new vL(e,So.A);return t.As(i).next(()=>t.Ps(i))}),t.hs.close(),t.Ms()})()}Ss(t,e){return t.filter(i=>this.vs(i.updateTimeMs,e)&&!this.Cs(i.clientId))}Os(){return this.runTransaction("getActiveClients","readonly",t=>mS(t).qt().next(e=>this.Ss(e,18e5).map(i=>i.clientId)))}get started(){return this.es}getMutationQueue(t,e){return nA.Yt(t,this.M,e,this.referenceDelegate)}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getIndexManager(t){return new $5(t)}getDocumentOverlayCache(t){return eA.Yt(this.M,t)}getBundleCache(){return this.ds}runTransaction(t,e,i){Ue("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=14===(c=this.Zn)?R5:13===c?pL:12===c?P5:11===c?fL:void ut();var c;let d;return this.hs.runTransaction(t,r,o,p=>(d=new vL(p,this.ts?this.ts.next():So.A),"readwrite-primary"===e?this.Ts(d).next(v=>!!v||this.Es(d)).next(v=>{if(!v)throw $i(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)),new Ae(he.FAILED_PRECONDITION,gL);return i(d)}).next(v=>this.Rs(d).next(()=>v)):this.Fs(d).next(()=>i(d)))).then(p=>(d.raiseOnCommittedEvent(),p))}Fs(t){return nw(t).get("owner").next(e=>{if(null!==e&&this.vs(e.leaseTimestampMs,5e3)&&!this.Cs(e.ownerId)&&!this.bs(e)&&!(this.Xn||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Ae(he.FAILED_PRECONDITION,rA)})}Rs(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return nw(t).put("owner",e)}static vt(){return ql.vt()}As(t){const e=nw(t);return e.get("owner").next(i=>this.bs(i)?(Ue("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):ve.resolve())}vs(t,e){const i=Date.now();return!(t<i-e||t>i&&($i(`Detected an update time that is in the future: ${t} > ${i}`),1))}gs(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=()=>{this.Jn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ws()))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}Ns(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}ys(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ns=()=>{this.xs(),(0,N.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Jn.enterRestrictedMode(!0),this.Jn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ns))}ks(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}Cs(t){var e;try{const i=null!==(null===(e=this._s)||void 0===e?void 0:e.getItem(this.Ds(t)));return Ue("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return $i("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xs(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(t){$i("Failed to set zombie client id.",t)}}Ms(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(t){}}Ds(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function nw(n){return so(n,"owner")}function mS(n){return so(n,"clientMetadata")}function sA(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class ez{constructor(t,e,i){this.fs=t,this.$s=e,this.indexManager=i}Bs(t,e){return this.$s.getAllMutationBatchesAffectingDocumentKey(t,e).next(i=>this.Ls(t,e,i))}Ls(t,e,i){return this.fs.getEntry(t,e).next(r=>{for(const o of i)o.applyToLocalView(r);return r})}Us(t,e){t.forEach((i,r)=>{for(const o of e)o.applyToLocalView(r)})}qs(t,e){return this.fs.getEntries(t,e).next(i=>this.Gs(t,i).next(()=>i))}Gs(t,e){return this.$s.getAllMutationBatchesAffectingDocumentKeys(t,e).next(i=>this.Us(e,i))}Ks(t,e,i){return $e.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.Qs(t,e.path):Vk(e)?this.js(t,e,i):this.Ws(t,e,i);var r}Qs(t,e){return this.Bs(t,new $e(e)).next(i=>{let r=Gk();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}js(t,e,i){const r=e.collectionGroup;let o=Gk();return this.indexManager.getCollectionParents(t,r).next(c=>ve.forEach(c,d=>{const p=(v=e,M=d.child(r),new Ad(M,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,M;return this.Ws(t,p,i).next(v=>{v.forEach((M,E)=>{o=o.insert(M,E)})})}).next(()=>o))}Ws(t,e,i){let r;return this.fs.getAllFromCollection(t,e.path,i).next(o=>(r=o,this.$s.getAllMutationBatchesAffectingQuery(t,e))).next(o=>{for(const c of o)for(const d of c.mutations){const p=d.key;let v=r.get(p);null==v&&(v=k.newInvalidDocument(p),r=r.insert(p,v)),jk(d,v,c.localWriteTime),v.isFoundDocument()||(r=r.remove(p))}}).next(()=>(r.forEach((o,c)=>{Hk(e,c)||(r=r.remove(o))}),r))}}class aA{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.zs=i,this.Hs=r}static Js(t,e){let i=Bn(),r=Bn();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new aA(t,e.fromCache,i,r)}}class VL{Ys(t){this.Xs=t}Ks(t,e,i,r){return 0===(o=e).filters.length&&null===o.limit&&null==o.startAt&&null==o.endAt&&(0===o.explicitOrderBy.length||1===o.explicitOrderBy.length&&o.explicitOrderBy[0].field.isKeyField())||i.isEqual(kt.min())?this.Zs(t,e):this.Xs.qs(t,r).next(o=>{const c=this.ti(e,o);return(JD(e)||eS(e))&&this.ei(e.limitType,c,r,i)?this.Zs(t,e):(VD()<=$s.in.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Uk(e)),this.Xs.Ks(t,e,qe(i,-1)).next(d=>(c.forEach(p=>{d=d.insert(p.key,p)}),d)))});var o}ti(t,e){let i=new gi(kN(t));return e.forEach((r,o)=>{Hk(t,o)&&(i=i.add(o))}),i}ei(t,e,i,r){if(i.size!==e.size)return!0;const o="F"===t?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Zs(t,e){return VD()<=$s.in.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",Uk(e)),this.Xs.Ks(t,e,Ee.min())}}class tz{constructor(t,e,i,r){this.persistence=t,this.ni=e,this.M=r,this.si=new ar(en),this.ii=new Of(o=>or(o),kd),this.ri=new Map,this.oi=t.getRemoteDocumentCache(),this.ls=t.getTargetCache(),this.ds=t.getBundleCache(),this.ui(i)}ui(t){this.indexManager=this.persistence.getIndexManager(t),this.$s=this.persistence.getMutationQueue(t,this.indexManager),this.ai=new ez(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.si))}}function UL(n,t,e,i){return new tz(n,t,e,i)}function HL(n,t){return lA.apply(this,arguments)}function lA(){return lA=(0,Ce.Z)(function*(n,t){const e=Qe(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.$s.getAllMutationBatches(i).next(o=>(r=o,e.ui(t),e.$s.getAllMutationBatches(i))).next(o=>{const c=[],d=[];let p=Bn();for(const v of r){c.push(v.batchId);for(const M of v.mutations)p=p.add(M.key)}for(const v of o){d.push(v.batchId);for(const M of v.mutations)p=p.add(M.key)}return e.ai.qs(i,p).next(v=>({ci:v,removedBatchIds:c,addedBatchIds:d}))})})}),lA.apply(this,arguments)}function nz(n,t){const e=Qe(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.oi.newChangeBuffer({trackRemovals:!0});return function(c,d,p,v){const M=p.batch,E=M.keys();let O=ve.resolve();return E.forEach(R=>{O=O.next(()=>v.getEntry(d,R)).next(V=>{const Z=p.docVersions.get(R);Ft(null!==Z),V.version.compareTo(Z)<0&&(M.applyToRemoteDocument(V,p),V.isValidDocument()&&(V.setReadTime(p.commitVersion),v.addEntry(V)))})}),O.next(()=>c.$s.removeMutationBatch(d,M))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.$s.performConsistencyCheck(i)).next(()=>e.ai.qs(i,r))})}function jL(n){const t=Qe(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.ls.getLastRemoteSnapshotVersion(e))}function iz(n,t){const e=Qe(n),i=t.snapshotVersion;let r=e.si;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=e.oi.newChangeBuffer({trackRemovals:!0});r=e.si;const d=[];t.targetChanges.forEach((v,M)=>{const E=r.get(M);if(!E)return;d.push(e.ls.removeMatchingKeys(o,v.removedDocuments,M).next(()=>e.ls.addMatchingKeys(o,v.addedDocuments,M)));let O=E.withSequenceNumber(o.currentSequenceNumber);var R,V,Z;t.targetMismatches.has(M)?O=O.withResumeToken(ki.EMPTY_BYTE_STRING,kt.min()).withLastLimboFreeSnapshotVersion(kt.min()):v.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(v.resumeToken,i)),r=r.insert(M,O),V=O,Z=v,(0===(R=E).resumeToken.approximateByteSize()||V.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8||Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0)&&d.push(e.ls.updateTargetData(o,O))});let p=tl();if(t.documentUpdates.forEach(v=>{t.resolvedLimboDocuments.has(v)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(o,v))}),d.push(zL(o,c,t.documentUpdates).next(v=>{p=v})),!i.isEqual(kt.min())){const v=e.ls.getLastRemoteSnapshotVersion(o).next(M=>e.ls.setTargetsMetadata(o,o.currentSequenceNumber,i));d.push(v)}return ve.waitFor(d).next(()=>c.apply(o)).next(()=>e.ai.Gs(o,p)).next(()=>p)}).then(o=>(e.si=r,o))}function zL(n,t,e){let i=Bn();return e.forEach(r=>i=i.add(r)),t.getEntries(n,i).next(r=>{let o=tl();return e.forEach((c,d)=>{const p=r.get(c);d.isNoDocument()&&d.version.isEqual(kt.min())?(t.removeEntry(c,d.readTime),o=o.insert(c,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||0===d.version.compareTo(p.version)&&p.hasPendingWrites?(t.addEntry(d),o=o.insert(c,d)):Ue("LocalStore","Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",d.version)}),o})}function rz(n,t){const e=Qe(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.$s.getNextMutationBatchAfterBatchId(i,t)))}function Xv(n,t){const e=Qe(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.ls.getTargetData(i,t).next(o=>o?(r=o,ve.resolve(r)):e.ls.allocateTargetId(i).next(c=>(r=new kf(t,c,0,i.currentSequenceNumber),e.ls.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.si.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.si=e.si.insert(i.targetId,i),e.ii.set(t,i.targetId)),i})}function Jv(n,t,e){return cA.apply(this,arguments)}function cA(){return cA=(0,Ce.Z)(function*(n,t,e){const i=Qe(n),r=i.si.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!jg(c))throw c;Ue("LocalStore",`Failed to update sequence numbers for target ${t}: ${c}`)}i.si=i.si.remove(t),i.ii.delete(r.target)}),cA.apply(this,arguments)}function _S(n,t,e){const i=Qe(n);let r=kt.min(),o=Bn();return i.persistence.runTransaction("Execute query","readonly",c=>function(d,p,v){const M=Qe(d),E=M.ii.get(v);return void 0!==E?ve.resolve(M.si.get(E)):M.ls.getTargetData(p,v)}(i,c,el(t)).next(d=>{if(d)return r=d.lastLimboFreeSnapshotVersion,i.ls.getMatchingKeysForTargetId(c,d.targetId).next(p=>{o=p})}).next(()=>i.ni.Ks(c,t,e?r:kt.min(),e?o:Bn())).next(d=>(qL(i,ON(t),d),{documents:d,hi:o})))}function GL(n,t){const e=Qe(n),i=Qe(e.ls),r=e.si.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i.Et(o,t).next(c=>c?c.target:null))}function $L(n,t){const e=Qe(n),i=e.ri.get(t)||kt.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.oi.getAllFromCollectionGroup(r,t,qe(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(qL(e,t,r),r))}function qL(n,t,e){let i=kt.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.ri.set(t,i)}function uA(){return uA=(0,Ce.Z)(function*(n,t,e,i){const r=Qe(n);let o=Bn(),c=tl();for(const v of e){const M=t.li(v.metadata.name);v.document&&(o=o.add(M));const E=t.fi(v);E.setReadTime(t.di(v.metadata.readTime)),c=c.insert(M,E)}const d=r.oi.newChangeBuffer({trackRemovals:!0}),p=yield Xv(r,(v=i,el(Hv(an.fromString(`__bundle__/docs/${v}`)))));var v;return r.persistence.runTransaction("Apply bundle documents","readwrite",v=>zL(v,d,c).next(M=>(d.apply(v),M)).next(M=>r.ls.removeMatchingKeysForTargetId(v,p.targetId).next(()=>r.ls.addMatchingKeys(v,o,p.targetId)).next(()=>r.ai.Gs(v,M)).next(()=>M)))}),uA.apply(this,arguments)}function sz(n,t){return dA.apply(this,arguments)}function dA(){return dA=(0,Ce.Z)(function*(n,t,e=Bn()){const i=yield Xv(n,el(Xk(t.bundledQuery))),r=Qe(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const c=ro(t.readTime);if(i.snapshotVersion.compareTo(c)>=0)return r.ds.saveNamedQuery(o,t);const d=i.withResumeToken(ki.EMPTY_BYTE_STRING,c);return r.si=r.si.insert(d.targetId,d),r.ls.updateTargetData(o,d).next(()=>r.ls.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.ls.addMatchingKeys(o,e,i.targetId)).next(()=>r.ds.saveNamedQuery(o,t))})}),dA.apply(this,arguments)}class az{constructor(t){this.M=t,this._i=new Map,this.wi=new Map}getBundleMetadata(t,e){return ve.resolve(this._i.get(e))}saveBundleMetadata(t,e){var i;return this._i.set(e.id,{id:(i=e).id,version:i.version,createTime:ro(i.createTime)}),ve.resolve()}getNamedQuery(t,e){return ve.resolve(this.wi.get(e))}saveNamedQuery(t,e){return this.wi.set(e.name,{name:(i=e).name,query:Xk(i.bundledQuery),readTime:ro(i.readTime)}),ve.resolve();var i}}class lz{constructor(){this.overlays=new ar($e.comparator),this.mi=new Map}getOverlay(t,e){return ve.resolve(this.overlays.get(e))}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.Xt(t,e,o)}),ve.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.mi.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.mi.delete(i)),ve.resolve()}getOverlaysForCollection(t,e,i){const r=GC(),o=e.length+1,c=new $e(e.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,v=p.getKey();if(!e.isPrefixOf(v.path))break;v.path.length===o&&p.largestBatchId>i&&r.set(p.getKey(),p)}return ve.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new ar((v,M)=>v-M);const c=this.overlays.getIterator();for(;c.hasNext();){const v=c.getNext().value;if(v.getKey().getCollectionGroup()===e&&v.largestBatchId>i){let M=o.get(v.largestBatchId);null===M&&(M=GC(),o=o.insert(v.largestBatchId,M)),M.set(v.getKey(),v)}}const d=GC(),p=o.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((v,M)=>d.set(v,M)),!(d.size()>=r)););return ve.resolve(d)}Xt(t,e,i){if(null===i)return;const r=this.overlays.get(i.key);if(null!==r){const c=this.mi.get(r.largestBatchId).delete(i.key);this.mi.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new Qk(e,i));let o=this.mi.get(e);void 0===o&&(o=Bn(),this.mi.set(e,o)),this.mi.set(e,o.add(i.key))}}class hA{constructor(){this.gi=new gi(ao.yi),this.pi=new gi(ao.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(t,e){const i=new ao(t,e);this.gi=this.gi.add(i),this.pi=this.pi.add(i)}Ti(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Ei(new ao(t,e))}Ai(t,e){t.forEach(i=>this.removeReference(i,e))}Ri(t){const e=new $e(new an([])),i=new ao(e,t),r=new ao(e,t+1),o=[];return this.pi.forEachInRange([i,r],c=>{this.Ei(c),o.push(c.key)}),o}bi(){this.gi.forEach(t=>this.Ei(t))}Ei(t){this.gi=this.gi.delete(t),this.pi=this.pi.delete(t)}Pi(t){const e=new $e(new an([])),i=new ao(e,t),r=new ao(e,t+1);let o=Bn();return this.pi.forEachInRange([i,r],c=>{o=o.add(c.key)}),o}containsKey(t){const e=new ao(t,0),i=this.gi.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class ao{constructor(t,e){this.key=t,this.Vi=e}static yi(t,e){return $e.comparator(t.key,e.key)||en(t.Vi,e.Vi)}static Ii(t,e){return en(t.Vi,e.Vi)||$e.comparator(t.key,e.key)}}class cz{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.$s=[],this.vi=1,this.Si=new gi(ao.yi)}checkEmpty(t){return ve.resolve(0===this.$s.length)}addMutationBatch(t,e,i,r){const o=this.vi;this.vi++;const c=new Yk(o,e,i,r);this.$s.push(c);for(const d of r)this.Si=this.Si.add(new ao(d.key,o)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return ve.resolve(c)}lookupMutationBatch(t,e){return ve.resolve(this.Di(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.Ci(e+1),o=r<0?0:r;return ve.resolve(this.$s.length>o?this.$s[o]:null)}getHighestUnacknowledgedBatchId(){return ve.resolve(0===this.$s.length?-1:this.vi-1)}getAllMutationBatches(t){return ve.resolve(this.$s.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new ao(e,0),r=new ao(e,Number.POSITIVE_INFINITY),o=[];return this.Si.forEachInRange([i,r],c=>{const d=this.Di(c.Vi);o.push(d)}),ve.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new gi(en);return e.forEach(r=>{const o=new ao(r,0),c=new ao(r,Number.POSITIVE_INFINITY);this.Si.forEachInRange([o,c],d=>{i=i.add(d.Vi)})}),ve.resolve(this.xi(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;$e.isDocumentKey(o)||(o=o.child(""));const c=new ao(new $e(o),0);let d=new gi(en);return this.Si.forEachWhile(p=>{const v=p.key.path;return!!i.isPrefixOf(v)&&(v.length===r&&(d=d.add(p.Vi)),!0)},c),ve.resolve(this.xi(d))}xi(t){const e=[];return t.forEach(i=>{const r=this.Di(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Ft(0===this.Ni(e.batchId,"removed")),this.$s.shift();let i=this.Si;return ve.forEach(e.mutations,r=>{const o=new ao(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Si=i})}dn(t){}containsKey(t,e){const i=new ao(e,0),r=this.Si.firstAfterOrEqual(i);return ve.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return ve.resolve()}Ni(t,e){return this.Ci(t)}Ci(t){return 0===this.$s.length?0:t-this.$s[0].batchId}Di(t){const e=this.Ci(t);return e<0||e>=this.$s.length?null:this.$s[e]}}class uz{constructor(t){this.ki=t,this.docs=new ar($e.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,c=this.ki(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ve.resolve(i?i.document.mutableCopy():k.newInvalidDocument(e))}getEntries(t,e){let i=tl();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():k.newInvalidDocument(r))}),ve.resolve(i)}getAllFromCollection(t,e,i){let r=tl();const o=new $e(e.child("")),c=this.docs.getIteratorFrom(o);for(;c.hasNext();){const{key:d,value:{document:p}}=c.getNext();if(!e.isPrefixOf(d.path))break;d.path.length>e.length+1||Mt(st(p),i)<=0||(r=r.insert(p.key,p.mutableCopy()))}return ve.resolve(r)}getAllFromCollectionGroup(t,e,i,r){ut()}Mi(t,e){return ve.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new dz(this)}getSize(t){return ve.resolve(this.size)}}class dz extends RL{constructor(t){super(),this.qn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.qn.addEntry(t,r)):this.qn.removeEntry(i)}),ve.waitFor(e)}getFromCache(t,e){return this.qn.getEntry(t,e)}getAllFromCache(t,e){return this.qn.getEntries(t,e)}}class hz{constructor(t){this.persistence=t,this.Oi=new Of(e=>or(e),kd),this.lastRemoteSnapshotVersion=kt.min(),this.highestTargetId=0,this.Fi=0,this.$i=new hA,this.targetCount=0,this.Bi=Wg.mn()}forEachTarget(t,e){return this.Oi.forEach((i,r)=>e(r)),ve.resolve()}getLastRemoteSnapshotVersion(t){return ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ve.resolve(this.Fi)}allocateTargetId(t){return this.highestTargetId=this.Bi.next(),ve.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Fi&&(this.Fi=e),ve.resolve()}In(t){this.Oi.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Bi=new Wg(e),this.highestTargetId=e),t.sequenceNumber>this.Fi&&(this.Fi=t.sequenceNumber)}addTargetData(t,e){return this.In(e),this.targetCount+=1,ve.resolve()}updateTargetData(t,e){return this.In(e),ve.resolve()}removeTargetData(t,e){return this.Oi.delete(e.target),this.$i.Ri(e.targetId),this.targetCount-=1,ve.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.Oi.forEach((c,d)=>{d.sequenceNumber<=e&&null===i.get(d.targetId)&&(this.Oi.delete(c),o.push(this.removeMatchingKeysForTargetId(t,d.targetId)),r++)}),ve.waitFor(o).next(()=>r)}getTargetCount(t){return ve.resolve(this.targetCount)}getTargetData(t,e){const i=this.Oi.get(e)||null;return ve.resolve(i)}addMatchingKeys(t,e,i){return this.$i.Ti(e,i),ve.resolve()}removeMatchingKeys(t,e,i){this.$i.Ai(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(c=>{o.push(r.markPotentiallyOrphaned(t,c))}),ve.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.$i.Ri(e),ve.resolve()}getMatchingKeysForTargetId(t,e){const i=this.$i.Pi(e);return ve.resolve(i)}containsKey(t,e){return ve.resolve(this.$i.containsKey(e))}}class fz{constructor(t,e){this.Li={},this.overlays={},this.ts=new So(0),this.es=!1,this.es=!0,this.referenceDelegate=t(this),this.ls=new hz(this),this.indexManager=new G5,this.fs=new uz(i=>this.referenceDelegate.Ui(i)),this.M=new yL(e),this.ds=new az(this.M)}start(){return Promise.resolve()}shutdown(){return this.es=!1,Promise.resolve()}get started(){return this.es}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new lz,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Li[t.toKey()];return i||(i=new cz(e,this.referenceDelegate),this.Li[t.toKey()]=i),i}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getBundleCache(){return this.ds}runTransaction(t,e,i){Ue("MemoryPersistence","Starting transaction:",t);const r=new pz(this.ts.next());return this.referenceDelegate.qi(),i(r).next(o=>this.referenceDelegate.Gi(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ki(t,e){return ve.or(Object.values(this.Li).map(i=>()=>i.containsKey(t,e)))}}class pz extends mL{constructor(t){super(),this.currentSequenceNumber=t}}class fA{constructor(t){this.persistence=t,this.Qi=new hA,this.ji=null}static Wi(t){return new fA(t)}get zi(){if(this.ji)return this.ji;throw ut()}addReference(t,e,i){return this.Qi.addReference(i,e),this.zi.delete(i.toString()),ve.resolve()}removeReference(t,e,i){return this.Qi.removeReference(i,e),this.zi.add(i.toString()),ve.resolve()}markPotentiallyOrphaned(t,e){return this.zi.add(e.toString()),ve.resolve()}removeTarget(t,e){this.Qi.Ri(e.targetId).forEach(r=>this.zi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.zi.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}qi(){this.ji=new Set}Gi(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ve.forEach(this.zi,i=>{const r=$e.fromPath(i);return this.Hi(t,r).next(o=>{o||e.removeEntry(r,kt.min())})}).next(()=>(this.ji=null,e.apply(t)))}updateLimboDocument(t,e){return this.Hi(t,e).next(i=>{i?this.zi.delete(e.toString()):this.zi.add(e.toString())})}Ui(t){return 0}Hi(t,e){return ve.or([()=>ve.resolve(this.Qi.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ki(t,e)])}}function WL(n,t){return`firestore_clients_${n}_${t}`}function ZL(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function pA(n,t){return`firestore_targets_${n}_${t}`}class vS{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Ji(t,e,i){const r=JSON.parse(i);let o,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(o=new Ae(r.error.code,r.error.message))),c?new vS(t,e,r.state,o):($i("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Yi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class iw{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Ji(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new Ae(i.error.code,i.error.message))),o?new iw(t,i.state,r):($i("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Yi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class yS{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Ji(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=oS();for(let c=0;r&&c<i.activeTargetIds.length;++c)r=ZD(i.activeTargetIds[c]),o=o.add(i.activeTargetIds[c]);return r?new yS(t,o):($i("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class gA{constructor(t,e){this.clientId=t,this.onlineState=e}static Ji(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new gA(e.clientId,e.onlineState):($i("SharedClientState",`Failed to parse online state: ${t}`),null)}}class mA{constructor(){this.activeTargetIds=oS()}Xi(t){this.activeTargetIds=this.activeTargetIds.add(t)}Zi(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Yi(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class _A{constructor(t,e,i,r,o){this.window=t,this.Jn=e,this.persistenceKey=i,this.tr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new ar(en),this.started=!1,this.ir=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.rr=WL(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new mA),this.ar=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.cr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static vt(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,Ce.Z)(function*(){const e=yield t.syncEngine.Os();for(const r of e){if(r===t.tr)continue;const o=t.getItem(WL(t.persistenceKey,r));if(o){const c=yS.Ji(r,o);c&&(t.sr=t.sr.insert(c.clientId,c))}}t._r();const i=t.storage.getItem(t.lr);if(i){const r=t.wr(i);r&&t.mr(r)}for(const r of t.ir)t.nr(r);t.ir=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.ur,JSON.stringify(t))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(t){let e=!1;return this.sr.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.yr(t,"pending")}updateMutationState(t,e,i){this.yr(t,e,i),this.pr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(pA(this.persistenceKey,t));if(i){const r=iw.Ji(t,i);r&&(e=r.state)}}return this.Ir.Xi(t),this._r(),e}removeLocalQueryTarget(t){this.Ir.Zi(t),this._r()}isLocalQueryTarget(t){return this.Ir.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(pA(this.persistenceKey,t))}updateQueryState(t,e,i){this.Tr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.pr(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Er(t)}notifyBundleLoaded(t){this.Ar(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Ue("SharedClientState","READ",t,e),e}setItem(t,e){Ue("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Ue("SharedClientState","REMOVE",t),this.storage.removeItem(t)}nr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Ue("SharedClientState","EVENT",i.key,i.newValue),i.key===this.rr)return void $i("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable((0,Ce.Z)(function*(){if(e.started){if(null!==i.key)if(e.ar.test(i.key)){if(null==i.newValue){const r=e.Rr(i.key);return e.br(r,null)}{const r=e.Pr(i.key,i.newValue);if(r)return e.br(r.clientId,r)}}else if(e.cr.test(i.key)){if(null!==i.newValue){const r=e.Vr(i.key,i.newValue);if(r)return e.vr(r)}}else if(e.hr.test(i.key)){if(null!==i.newValue){const r=e.Sr(i.key,i.newValue);if(r)return e.Dr(r)}}else if(i.key===e.lr){if(null!==i.newValue){const r=e.wr(i.newValue);if(r)return e.mr(r)}}else if(i.key===e.ur){const r=function(o){let c=So.A;if(null!=o)try{const d=JSON.parse(o);Ft("number"==typeof d),c=d}catch(d){$i("SharedClientState","Failed to read sequence number from WebStorage",d)}return c}(i.newValue);r!==So.A&&e.sequenceNumberHandler(r)}else if(i.key===e.dr){const r=e.Cr(i.newValue);yield Promise.all(r.map(o=>e.syncEngine.Nr(o)))}}else e.ir.push(i)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(t,e,i){const r=new vS(this.currentUser,t,e,i),o=ZL(this.persistenceKey,this.currentUser,t);this.setItem(o,r.Yi())}pr(t){const e=ZL(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Er(t){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:t}))}Tr(t,e,i){const r=pA(this.persistenceKey,t),o=new iw(t,e,i);this.setItem(r,o.Yi())}Ar(t){const e=JSON.stringify(Array.from(t));this.setItem(this.dr,e)}Rr(t){const e=this.ar.exec(t);return e?e[1]:null}Pr(t,e){const i=this.Rr(t);return yS.Ji(i,e)}Vr(t,e){const i=this.cr.exec(t),r=Number(i[1]);return vS.Ji(new Er(void 0!==i[2]?i[2]:null),r,e)}Sr(t,e){const i=this.hr.exec(t),r=Number(i[1]);return iw.Ji(r,e)}wr(t){return gA.Ji(t)}Cr(t){return JSON.parse(t)}vr(t){var e=this;return(0,Ce.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.kr(t.batchId,t.state,t.error);Ue("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Dr(t){return this.syncEngine.Mr(t.targetId,t.state,t.error)}br(t,e){const i=e?this.sr.insert(t,e):this.sr.remove(t),r=this.gr(this.sr),o=this.gr(i),c=[],d=[];return o.forEach(p=>{r.has(p)||c.push(p)}),r.forEach(p=>{o.has(p)||d.push(p)}),this.syncEngine.Or(c,d).then(()=>{this.sr=i})}mr(t){this.sr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}gr(t){let e=oS();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class YL{constructor(){this.Fr=new mA,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Fr.Xi(t),this.$r[t]||"not-current"}updateQueryState(t,e,i){this.$r[t]=e}removeLocalQueryTarget(t){this.Fr.Zi(t)}isLocalQueryTarget(t){return this.Fr.activeTargetIds.has(t)}clearQueryState(t){delete this.$r[t]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(t){return this.Fr.activeTargetIds.has(t)}start(){return this.Fr=new mA,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class gz{Br(t){}shutdown(){}}class KL{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Gr(),this.Kr=[],this.Qr()}Br(t){this.Kr.push(t)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Kr)t(0)}Gr(){Ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Kr)t(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const mz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class _z{constructor(t){this.jr=t.jr,this.Wr=t.Wr}zr(t){this.Hr=t}Jr(t){this.Yr=t}onMessage(t){this.Xr=t}close(){this.Wr()}send(t){this.jr(t)}Zr(){this.Hr()}eo(t){this.Yr(t)}no(t){this.Xr(t)}}class vz extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.so=(t.ssl?"https":"http")+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(t,e,i,r,o){const c=this.oo(t,e);Ue("RestConnection","Sending: ",c,i);const d={};return this.uo(d,r,o),this.ao(t,c,d,i).then(p=>(Ue("RestConnection","Received: ",p),p),p=>{throw Rg("RestConnection",`${t} failed with error: `,p,"url: ",c,"request:",i),p})}co(t,e,i,r,o){return this.ro(t,e,i,r,o)}uo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Mf,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}oo(t,e){return`${this.so}/v1/${e}:${mz[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}ao(t,e,i,r){return new Promise((o,c)=>{const d=new Ok;d.listenOnce(Ik.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case OC.NO_ERROR:const v=d.getResponseJson();Ue("Connection","XHR received:",JSON.stringify(v)),o(v);break;case OC.TIMEOUT:Ue("Connection",'RPC "'+t+'" timed out'),c(new Ae(he.DEADLINE_EXCEEDED,"Request time out"));break;case OC.HTTP_ERROR:const M=d.getStatus();if(Ue("Connection",'RPC "'+t+'" failed with status:',M,"response text:",d.getResponseText()),M>0){const E=d.getResponseJson().error;if(E&&E.status&&E.message){const O=function(R){const V=R.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(V)>=0?V:he.UNKNOWN}(E.status);c(new Ae(O,E.message))}else c(new Ae(he.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Ae(he.UNAVAILABLE,"Connection failed."));break;default:ut()}}finally{Ue("Connection",'RPC "'+t+'" completed.')}});const p=JSON.stringify(r);d.send(e,"POST",p,i,15)})}ho(t,e,i){const r=[this.so,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=ND(),c=LD(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(d.xmlHttpFactory=new kC({})),this.uo(d.initMessageHeaders,e,i),(0,N.uI)()||(0,N.b$)()||(0,N.d)()||(0,N.w1)()||(0,N.Mn)()||(0,N.ru)()||(d.httpHeadersOverwriteParam="$httpHeaders");const p=r.join("");Ue("Connection","Creating WebChannel: "+p,d);const v=o.createWebChannel(p,d);let M=!1,E=!1;const O=new _z({jr:V=>{E?Ue("Connection","Not sending because WebChannel is closed:",V):(M||(Ue("Connection","Opening WebChannel transport."),v.open(),M=!0),Ue("Connection","WebChannel sending:",V),v.send(V))},Wr:()=>v.close()}),R=(V,Z,re)=>{V.listen(Z,Pe=>{try{re(Pe)}catch(Re){setTimeout(()=>{throw Re},0)}})};return R(v,Pg.EventType.OPEN,()=>{E||Ue("Connection","WebChannel transport opened.")}),R(v,Pg.EventType.CLOSE,()=>{E||(E=!0,Ue("Connection","WebChannel transport closed"),O.eo())}),R(v,Pg.EventType.ERROR,V=>{E||(E=!0,Rg("Connection","WebChannel transport errored:",V),O.eo(new Ae(he.UNAVAILABLE,"The operation could not be completed")))}),R(v,Pg.EventType.MESSAGE,V=>{var Z;if(!E){const re=V.data[0];Ft(!!re);const Pe=re,Re=Pe.error||(null===(Z=Pe[0])||void 0===Z?void 0:Z.error);if(Re){Ue("Connection","WebChannel received error:",Re);const We=Re.status;let Le=function(xt){const Un=Tr[xt];if(void 0!==Un)return qN(Un)}(We),St=Re.message;void 0===Le&&(Le=he.INTERNAL,St="Unknown error status: "+We+" with message "+Re.message),E=!0,O.eo(new Ae(Le,St)),v.close()}else Ue("Connection","WebChannel received:",re),O.no(re)}}),R(c,BD.STAT_EVENT,V=>{V.stat===wf.PROXY?Ue("Connection","Detected buffering proxy"):V.stat===wf.NOPROXY&&Ue("Connection","Detected no buffering proxy")}),setTimeout(()=>{O.Zr()},0),O}}function QL(){return"undefined"!=typeof window?window:null}function bS(){return"undefined"!=typeof document?document:null}function rw(n){return new s5(n,!0)}class vA{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Jn=t,this.timerId=e,this.lo=i,this.fo=r,this._o=o,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(t){this.cancel();const e=Math.floor(this.wo+this.To()),i=Math.max(0,Date.now()-this.yo),r=Math.max(0,e-i);r>0&&Ue("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.wo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.mo=this.Jn.enqueueAfterDelay(this.timerId,r,()=>(this.yo=Date.now(),t())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class XL{constructor(t,e,i,r,o,c,d,p){this.Jn=t,this.Ao=i,this.Ro=r,this.bo=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new vA(t,e)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var t=this;return(0,Ce.Z)(function*(){t.Do()&&(yield t.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(t){this.Fo(),this.stream.send(t)}Mo(){var t=this;return(0,Ce.Z)(function*(){if(t.Co())return t.close(0)})()}Fo(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}close(t,e){var i=this;return(0,Ce.Z)(function*(){i.Fo(),i.$o(),i.So.cancel(),i.Po++,4!==t?i.So.reset():e&&e.code===he.RESOURCE_EXHAUSTED?($i(e.toString()),$i("Using maximum backoff delay to prevent overloading the backend."),i.So.po()):e&&e.code===he.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Bo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Jr(e)})()}Bo(){}auth(){this.state=1;const t=this.Lo(this.Po),e=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Po===e&&this.Uo(i,r)},i=>{t(()=>{const r=new Ae(he.UNKNOWN,"Fetching auth token failed: "+i.message);return this.qo(r)})})}Uo(t,e){const i=this.Lo(this.Po);this.stream=this.Go(t,e),this.stream.zr(()=>{i(()=>(this.state=2,this.vo=this.Jn.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(r=>{i(()=>this.qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}xo(){var t=this;this.state=5,this.So.Io((0,Ce.Z)(function*(){t.state=0,t.start()}))}qo(t){return Ue("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Lo(t){return e=>{this.Jn.enqueueAndForget(()=>this.Po===t?e():(Ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yz extends XL{constructor(t,e,i,r,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,c),this.M=o}Go(t,e){return this.bo.ho("Listen",t,e)}onMessage(t){this.So.reset();const e=function c5(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(p=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:ut(),r=t.targetChange.targetIds||[],o=function(p,v){return p.N?(Ft(void 0===v||"string"==typeof v),ki.fromBase64String(v||"")):(Ft(void 0===v||v instanceof Uint8Array),ki.fromUint8Array(v||new Uint8Array))}(n,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&function(p){const v=void 0===p.code?he.UNKNOWN:qN(p.code);return new Ae(v,p.message||"")}(c);e=new YN(i,r,o,d||null)}else if("documentChange"in t){const i=t.documentChange,r=Zc(n,i.document.name),o=ro(i.document.updateTime),c=new x({mapValue:{fields:i.document.fields}}),d=k.newFoundDocument(r,o,c);e=new sS(i.targetIds||[],i.removedTargetIds||[],d.key,d)}else if("documentDelete"in t){const i=t.documentDelete,r=Zc(n,i.document),o=i.readTime?ro(i.readTime):kt.min(),c=k.newNoDocument(r,o);e=new sS([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in t){const i=t.documentRemove,r=Zc(n,i.document);e=new sS([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return ut();{const i=t.filter,o=new K3(i.count||0);e=new ZN(i.targetId,o)}}var p;return e}(this.M,t),i=function(r){if(!("targetChange"in r))return kt.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?kt.min():o.readTime?ro(o.readTime):kt.min()}(t);return this.listener.Ko(e,i)}Qo(t){const e={};e.database=YC(this.M),e.addTarget=function(r,o){let c;const d=o.target;return c=Sf(d)?{documents:oL(r,d)}:{query:sL(r,d)},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?c.resumeToken=JN(r,o.resumeToken):o.snapshotVersion.compareTo(kt.min())>0&&(c.readTime=WC(r,o.snapshotVersion.toTimestamp())),c}(this.M,t);const i=function d5(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ut()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Oo(e)}jo(t){const e={};e.database=YC(this.M),e.removeTarget=t,this.Oo(e)}}class bz extends XL{constructor(t,e,i,r,o,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,c),this.M=o,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Go(t,e){return this.bo.ho("Write",t,e)}onMessage(t){if(Ft(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Wo){this.So.reset();const e=function u5(n,t){return n&&n.length>0?(Ft(void 0!==t),n.map(e=>function(i,r){let o=ro(i.updateTime?i.updateTime:r);return o.isEqual(kt.min())&&(o=ro(r)),new W3(o,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=ro(t.commitTime);return this.listener.Jo(i,e)}return Ft(!t.writeResults||0===t.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const t={};t.database=YC(this.M),this.Oo(t)}Ho(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>KC(this.M,i))};this.Oo(e)}}class Cz extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.bo=i,this.M=r,this.Zo=!1}tu(){if(this.Zo)throw new Ae(he.FAILED_PRECONDITION,"The client has already been terminated.")}ro(t,e,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.bo.ro(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ae(he.UNKNOWN,r.toString())})}co(t,e,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.bo.co(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ae(he.UNKNOWN,r.toString())})}terminate(){this.Zo=!0}}class wz{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(t){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ru("Offline")))}set(t){this.au(),this.eu=0,"Online"===t&&(this.su=!1),this.ru(t)}ru(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ou(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?($i(e),this.su=!1):Ue("OnlineStateTracker",e)}au(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class Mz{constructor(t,e,i,r,o){var c=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=o,this.du.Br(d=>{i.enqueueAndForget((0,Ce.Z)(function*(){var p;Ff(c)&&(Ue("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,Ce.Z)(function*(v){const M=Qe(v);M.lu.add(4),yield ey(M),M._u.set("Unknown"),M.lu.delete(4),yield ow(M)}),function(v){return p.apply(this,arguments)})(c))}))}),this._u=new wz(i,r)}}function ow(n){return yA.apply(this,arguments)}function yA(){return yA=(0,Ce.Z)(function*(n){if(Ff(n))for(const t of n.fu)yield t(!0)}),yA.apply(this,arguments)}function ey(n){return bA.apply(this,arguments)}function bA(){return bA=(0,Ce.Z)(function*(n){for(const t of n.fu)yield t(!1)}),bA.apply(this,arguments)}function CS(n,t){const e=Qe(n);e.hu.has(t.targetId)||(e.hu.set(t.targetId,t),MA(e)?wA(e):ny(e).Co()&&CA(e,t))}function sw(n,t){const e=Qe(n),i=ny(e);e.hu.delete(t),i.Co()&&JL(e,t),0===e.hu.size&&(i.Co()?i.ko():Ff(e)&&e._u.set("Unknown"))}function CA(n,t){n.wu.Z(t.targetId),ny(n).Qo(t)}function JL(n,t){n.wu.Z(t),ny(n).jo(t)}function wA(n){n.wu=new n5({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>n.hu.get(t)||null}),ny(n).start(),n._u.iu()}function MA(n){return Ff(n)&&!ny(n).Do()&&n.hu.size>0}function Ff(n){return 0===Qe(n).lu.size}function e2(n){n.wu=void 0}function xz(n){return xA.apply(this,arguments)}function xA(){return xA=(0,Ce.Z)(function*(n){n.hu.forEach((t,e)=>{CA(n,t)})}),xA.apply(this,arguments)}function Ez(n,t){return EA.apply(this,arguments)}function EA(){return EA=(0,Ce.Z)(function*(n,t){e2(n),MA(n)?(n._u.uu(t),wA(n)):n._u.set("Unknown")}),EA.apply(this,arguments)}function Dz(n,t,e){return DA.apply(this,arguments)}function DA(){return DA=(0,Ce.Z)(function*(n,t,e){if(n._u.set("Online"),t instanceof YN&&2===t.state&&t.cause)try{yield(i=(0,Ce.Z)(function*(r,o){const c=o.cause;for(const d of o.targetIds)r.hu.has(d)&&(yield r.remoteSyncer.rejectListen(d,c),r.hu.delete(d),r.wu.removeTarget(d))}),function(r,o){return i.apply(this,arguments)})(n,t)}catch(i){Ue("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield wS(n,i)}else if(t instanceof sS?n.wu.ut(t):t instanceof ZN?n.wu._t(t):n.wu.ht(t),!e.isEqual(kt.min()))try{const i=yield jL(n.localStore);e.compareTo(i)>=0&&(yield function(r,o){const c=r.wu.yt(o);return c.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const v=r.hu.get(p);v&&r.hu.set(p,v.withResumeToken(d.resumeToken,o))}}),c.targetMismatches.forEach(d=>{const p=r.hu.get(d);if(!p)return;r.hu.set(d,p.withResumeToken(ki.EMPTY_BYTE_STRING,p.snapshotVersion)),JL(r,d);const v=new kf(p.target,d,1,p.sequenceNumber);CA(r,v)}),r.remoteSyncer.applyRemoteEvent(c)}(n,e))}catch(i){Ue("RemoteStore","Failed to raise snapshot:",i),yield wS(n,i)}var i}),DA.apply(this,arguments)}function wS(n,t,e){return SA.apply(this,arguments)}function SA(){return SA=(0,Ce.Z)(function*(n,t,e){if(!jg(t))throw t;n.lu.add(1),yield ey(n),n._u.set("Offline"),e||(e=()=>jL(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ce.Z)(function*(){Ue("RemoteStore","Retrying IndexedDB access"),yield e(),n.lu.delete(1),yield ow(n)}))}),SA.apply(this,arguments)}function t2(n,t){return t().catch(e=>wS(n,e,t))}function ty(n){return TA.apply(this,arguments)}function TA(){return TA=(0,Ce.Z)(function*(n){const t=Qe(n),e=Nf(t);let i=t.cu.length>0?t.cu[t.cu.length-1].batchId:-1;for(;Sz(t);)try{const r=yield rz(t.localStore,i);if(null===r){0===t.cu.length&&e.ko();break}i=r.batchId,Tz(t,r)}catch(r){yield wS(t,r)}n2(t)&&r2(t)}),TA.apply(this,arguments)}function Sz(n){return Ff(n)&&n.cu.length<10}function Tz(n,t){n.cu.push(t);const e=Nf(n);e.Co()&&e.zo&&e.Ho(t.mutations)}function n2(n){return Ff(n)&&!Nf(n).Do()&&n.cu.length>0}function r2(n){Nf(n).start()}function Iz(n){return IA.apply(this,arguments)}function IA(){return IA=(0,Ce.Z)(function*(n){Nf(n).Xo()}),IA.apply(this,arguments)}function Oz(n){return OA.apply(this,arguments)}function OA(){return OA=(0,Ce.Z)(function*(n){const t=Nf(n);for(const e of n.cu)t.Ho(e.mutations)}),OA.apply(this,arguments)}function kz(n,t,e){return kA.apply(this,arguments)}function kA(){return kA=(0,Ce.Z)(function*(n,t,e){const i=n.cu.shift(),r=Kk.from(i,t,e);yield t2(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield ty(n)}),kA.apply(this,arguments)}function Az(n,t){return AA.apply(this,arguments)}function AA(){return AA=(0,Ce.Z)(function*(n,t){var e;t&&Nf(n).zo&&(yield(e=(0,Ce.Z)(function*(i,r){if($N(o=r.code)&&o!==he.ABORTED){const c=i.cu.shift();Nf(i).No(),yield t2(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield ty(i)}var o}),function(i,r){return e.apply(this,arguments)})(n,t)),n2(n)&&r2(n)}),AA.apply(this,arguments)}function o2(n,t){return PA.apply(this,arguments)}function PA(){return PA=(0,Ce.Z)(function*(n,t){const e=Qe(n);e.asyncQueue.verifyOperationInProgress(),Ue("RemoteStore","RemoteStore received new credentials");const i=Ff(e);e.lu.add(3),yield ey(e),i&&e._u.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.lu.delete(3),yield ow(e)}),PA.apply(this,arguments)}function RA(n,t){return FA.apply(this,arguments)}function FA(){return FA=(0,Ce.Z)(function*(n,t){const e=Qe(n);t?(e.lu.delete(2),yield ow(e)):t||(e.lu.add(2),yield ey(e),e._u.set("Unknown"))}),FA.apply(this,arguments)}function ny(n){return n.mu||(n.mu=function(t,e,i){const r=Qe(t);return r.tu(),new yz(e,r.bo,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{zr:xz.bind(null,n),Jr:Ez.bind(null,n),Ko:Dz.bind(null,n)}),n.fu.push(function(){var t=(0,Ce.Z)(function*(e){e?(n.mu.No(),MA(n)?wA(n):n._u.set("Unknown")):(yield n.mu.stop(),e2(n))});return function(e){return t.apply(this,arguments)}}())),n.mu}function Nf(n){return n.gu||(n.gu=function(t,e,i){const r=Qe(t);return r.tu(),new bz(e,r.bo,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{zr:Iz.bind(null,n),Jr:Az.bind(null,n),Yo:Oz.bind(null,n),Jo:kz.bind(null,n)}),n.fu.push(function(){var t=(0,Ce.Z)(function*(e){e?(n.gu.No(),yield ty(n)):(yield n.gu.stop(),n.cu.length>0&&(Ue("RemoteStore",`Stopping write stream with ${n.cu.length} pending writes`),n.cu=[]))});return function(e){return t.apply(this,arguments)}}())),n.gu}class NA{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(t,e,i,r,o){const c=Date.now()+i,d=new NA(t,e,c,r,o);return d.start(i),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ae(he.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iy(n,t){if($i("AsyncQueue",`${t}: ${n}`),jg(n))return new Ae(he.UNAVAILABLE,`${t}: ${n}`);throw n}class ry{constructor(t){this.comparator=t?(e,i)=>t(e,i)||$e.comparator(e.key,i.key):(e,i)=>$e.comparator(e.key,i.key),this.keyedMap=Gk(),this.sortedSet=new ar(this.comparator)}static emptySet(t){return new ry(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof ry)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new ry;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class s2{constructor(){this.yu=new ar($e.comparator)}track(t){const e=t.doc.key,i=this.yu.get(e);i?0!==t.type&&3===i.type?this.yu=this.yu.insert(e,t):3===t.type&&1!==i.type?this.yu=this.yu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.yu=this.yu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.yu=this.yu.remove(e):1===t.type&&2===i.type?this.yu=this.yu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):ut():this.yu=this.yu.insert(e,t)}pu(){const t=[];return this.yu.inorderTraversal((e,i)=>{t.push(i)}),t}}class oy{constructor(t,e,i,r,o,c,d,p){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p}static fromInitialDocuments(t,e,i,r){const o=[];return e.forEach(c=>{o.push({type:0,doc:c})}),new oy(t,e,ry.emptySet(e),o,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&UC(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class Pz{constructor(){this.Iu=void 0,this.listeners=[]}}class Rz{constructor(){this.queries=new Of(t=>IN(t),UC),this.onlineState="Unknown",this.Tu=new Set}}function LA(n,t){return BA.apply(this,arguments)}function BA(){return BA=(0,Ce.Z)(function*(n,t){const e=Qe(n),i=t.query;let r=!1,o=e.queries.get(i);if(o||(r=!0,o=new Pz),r)try{o.Iu=yield e.onListen(i)}catch(c){const d=iy(c,`Initialization of query '${Uk(t.query)}' failed`);return void t.onError(d)}e.queries.set(i,o),o.listeners.push(t),t.Eu(e.onlineState),o.Iu&&t.Au(o.Iu)&&HA(e)}),BA.apply(this,arguments)}function VA(n,t){return UA.apply(this,arguments)}function UA(){return UA=(0,Ce.Z)(function*(n,t){const e=Qe(n),i=t.query;let r=!1;const o=e.queries.get(i);if(o){const c=o.listeners.indexOf(t);c>=0&&(o.listeners.splice(c,1),r=0===o.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),UA.apply(this,arguments)}function Fz(n,t){const e=Qe(n);let i=!1;for(const r of t){const c=e.queries.get(r.query);if(c){for(const d of c.listeners)d.Au(r)&&(i=!0);c.Iu=r}}i&&HA(e)}function Nz(n,t,e){const i=Qe(n),r=i.queries.get(t);if(r)for(const o of r.listeners)o.onError(e);i.queries.delete(t)}function HA(n){n.Tu.forEach(t=>{t.next()})}class jA{constructor(t,e,i){this.query=t,this.Ru=e,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=i||{}}Au(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new oy(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.bu?this.Vu(t)&&(this.Ru.next(t),e=!0):this.vu(t,this.onlineState)&&(this.Su(t),e=!0),this.Pu=t,e}onError(t){this.Ru.error(t)}Eu(t){this.onlineState=t;let e=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,t)&&(this.Su(this.Pu),e=!0),e}vu(t,e){return!t.fromCache||!(this.options.Du&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}Vu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(t){t=oy.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.bu=!0,this.Ru.next(t)}}class Lz{constructor(t,e){this.payload=t,this.byteLength=e}Cu(){return"metadata"in this.payload}}class a2{constructor(t){this.M=t}li(t){return Zc(this.M,t)}fi(t){return t.metadata.exists?rL(this.M,t.document,!1):k.newNoDocument(this.li(t.metadata.name),this.di(t.metadata.readTime))}di(t){return ro(t)}}class Bz{constructor(t,e,i){this.xu=t,this.localStore=e,this.M=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=l2(t)}Nu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.payload.namedQuery)this.queries.push(t.payload.namedQuery);else if(t.payload.documentMetadata){this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e;const i=an.fromString(t.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}ku(t){const e=new Map,i=new a2(this.M);for(const r of t)if(r.metadata.queries){const o=i.li(r.metadata.name);for(const c of r.metadata.queries){const d=(e.get(c)||Bn()).add(o);e.set(c,d)}}return e}complete(){var t=this;return(0,Ce.Z)(function*(){const e=yield function oz(n,t,e,i){return uA.apply(this,arguments)}(t.localStore,new a2(t.M),t.documents,t.xu.id),i=t.ku(t.documents);for(const r of t.queries)yield sz(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Mu:t.collectionGroups,Ou:e}})()}}function l2(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class c2{constructor(t){this.key=t}}class u2{constructor(t){this.key=t}}class d2{constructor(t,e){this.query=t,this.Fu=e,this.$u=null,this.current=!1,this.Bu=Bn(),this.mutatedKeys=Bn(),this.Lu=kN(t),this.Uu=new ry(this.Lu)}get qu(){return this.Fu}Gu(t,e){const i=e?e.Ku:new s2,r=e?e.Uu:this.Uu;let o=e?e.mutatedKeys:this.mutatedKeys,c=r,d=!1;const p=JD(this.query)&&r.size===this.query.limit?r.last():null,v=eS(this.query)&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((M,E)=>{const O=r.get(M),R=Hk(this.query,E)?E:null,V=!!O&&this.mutatedKeys.has(O.key),Z=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let re=!1;O&&R?O.data.isEqual(R.data)?V!==Z&&(i.track({type:3,doc:R}),re=!0):this.Qu(O,R)||(i.track({type:2,doc:R}),re=!0,(p&&this.Lu(R,p)>0||v&&this.Lu(R,v)<0)&&(d=!0)):!O&&R?(i.track({type:0,doc:R}),re=!0):O&&!R&&(i.track({type:1,doc:O}),re=!0,(p||v)&&(d=!0)),re&&(R?(c=c.add(R),o=Z?o.add(M):o.delete(M)):(c=c.delete(M),o=o.delete(M)))}),JD(this.query)||eS(this.query))for(;c.size>this.query.limit;){const M=JD(this.query)?c.last():c.first();c=c.delete(M.key),o=o.delete(M.key),i.track({type:1,doc:M})}return{Uu:c,Ku:i,ei:d,mutatedKeys:o}}Qu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Uu;this.Uu=t.Uu,this.mutatedKeys=t.mutatedKeys;const o=t.Ku.pu();o.sort((v,M)=>function(E,O){const R=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ut()}};return R(E)-R(O)}(v.type,M.type)||this.Lu(v.doc,M.doc)),this.ju(i);const c=e?this.Wu():[],d=0===this.Bu.size&&this.current?1:0,p=d!==this.$u;return this.$u=d,0!==o.length||p?{snapshot:new oy(this.query,t.Uu,r,o,t.mutatedKeys,0===d,p,!1),zu:c}:{zu:c}}Eu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new s2,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}Hu(t){return!this.Fu.has(t)&&!!this.Uu.has(t)&&!this.Uu.get(t).hasLocalMutations}ju(t){t&&(t.addedDocuments.forEach(e=>this.Fu=this.Fu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Fu=this.Fu.delete(e)),this.current=t.current)}Wu(){if(!this.current)return[];const t=this.Bu;this.Bu=Bn(),this.Uu.forEach(i=>{this.Hu(i.key)&&(this.Bu=this.Bu.add(i.key))});const e=[];return t.forEach(i=>{this.Bu.has(i)||e.push(new u2(i))}),this.Bu.forEach(i=>{t.has(i)||e.push(new c2(i))}),e}Ju(t){this.Fu=t.hi,this.Bu=Bn();const e=this.Gu(t.documents);return this.applyChanges(e,!0)}Yu(){return oy.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class Vz{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class Uz{constructor(t){this.key=t,this.Xu=!1}}class Hz{constructor(t,e,i,r,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Zu={},this.ta=new Of(d=>IN(d),UC),this.ea=new Map,this.na=new Set,this.sa=new ar($e.comparator),this.ia=new Map,this.ra=new hA,this.oa={},this.ua=new Map,this.aa=Wg.gn(),this.onlineState="Unknown",this.ca=void 0}get isPrimaryClient(){return!0===this.ca}}function jz(n,t){return zA.apply(this,arguments)}function zA(){return zA=(0,Ce.Z)(function*(n,t){const e=hP(n);let i,r;const o=e.ta.get(t);if(o)i=o.targetId,e.sharedClientState.addLocalQueryTarget(i),r=o.view.Yu();else{const c=yield Xv(e.localStore,el(t));e.isPrimaryClient&&CS(e.remoteStore,c);const d=e.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield GA(e,t,i,"current"===d)}return r}),zA.apply(this,arguments)}function GA(n,t,e,i){return $A.apply(this,arguments)}function $A(){return $A=(0,Ce.Z)(function*(n,t,e,i){n.ha=(M,E,O)=>{return(R=(0,Ce.Z)(function*(V,Z,re,Pe){let Re=Z.view.Gu(re);Re.ei&&(Re=yield _S(V.localStore,Z.query,!1).then(({documents:St})=>Z.view.Gu(St,Re)));const We=Pe&&Pe.targetChanges.get(Z.targetId),Le=Z.view.applyChanges(Re,V.isPrimaryClient,We);return tP(V,Z.targetId,Le.zu),Le.snapshot}),function(V,Z,re,Pe){return R.apply(this,arguments)})(n,M,E,O);var R};const r=yield _S(n.localStore,t,!0),o=new d2(t,r.hi),c=o.Gu(r.documents),d=qC.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState),p=o.applyChanges(c,n.isPrimaryClient,d);tP(n,e,p.zu);const v=new Vz(t,e,o);return n.ta.set(t,v),n.ea.has(e)?n.ea.get(e).push(t):n.ea.set(e,[t]),p.snapshot}),$A.apply(this,arguments)}function zz(n,t){return qA.apply(this,arguments)}function qA(){return qA=(0,Ce.Z)(function*(n,t){const e=Qe(n),i=e.ta.get(t),r=e.ea.get(i.targetId);if(r.length>1)return e.ea.set(i.targetId,r.filter(o=>!UC(o,t))),void e.ta.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Jv(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),sw(e.remoteStore,i.targetId),sy(e,i.targetId)}).catch(Zg))):(sy(e,i.targetId),yield Jv(e.localStore,i.targetId,!0))}),qA.apply(this,arguments)}function WA(){return WA=(0,Ce.Z)(function*(n,t,e){const i=fP(n);try{const r=yield function(o,c){const d=Qe(o),p=Ci.now(),v=c.reduce((E,O)=>E.add(O.key),Bn());let M;return d.persistence.runTransaction("Locally write mutations","readwrite",E=>d.ai.qs(E,v).next(O=>{M=O;const R=[];for(const V of c){const Z=Y3(V,M.get(V.key));null!=Z&&R.push(new Hg(V.key,Z,T(Z.value.mapValue),Sr.exists(!0)))}return d.$s.addMutationBatch(E,p,R,c)})).then(E=>(E.applyToLocalDocumentSet(M),{batchId:E.batchId,changes:M}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,c,d){let p=o.oa[o.currentUser.toKey()];p||(p=new ar(en)),p=p.insert(c,d),o.oa[o.currentUser.toKey()]=p}(i,r.batchId,e),yield Pd(i,r.changes),yield ty(i.remoteStore)}catch(r){const o=iy(r,"Failed to persist write");e.reject(o)}}),WA.apply(this,arguments)}function h2(n,t){return ZA.apply(this,arguments)}function ZA(){return ZA=(0,Ce.Z)(function*(n,t){const e=Qe(n);try{const i=yield iz(e.localStore,t);t.targetChanges.forEach((r,o)=>{const c=e.ia.get(o);c&&(Ft(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.Xu=!0:r.modifiedDocuments.size>0?Ft(c.Xu):r.removedDocuments.size>0&&(Ft(c.Xu),c.Xu=!1))}),yield Pd(e,i,t)}catch(i){yield Zg(i)}}),ZA.apply(this,arguments)}function f2(n,t,e){const i=Qe(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ta.forEach((o,c)=>{const d=c.view.Eu(t);d.snapshot&&r.push(d.snapshot)}),function(o,c){const d=Qe(o);d.onlineState=c;let p=!1;d.queries.forEach((v,M)=>{for(const E of M.listeners)E.Eu(c)&&(p=!0)}),p&&HA(d)}(i.eventManager,t),r.length&&i.Zu.Ko(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function $z(n,t,e){return YA.apply(this,arguments)}function YA(){return YA=(0,Ce.Z)(function*(n,t,e){const i=Qe(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.ia.get(t),o=r&&r.key;if(o){let c=new ar($e.comparator);c=c.insert(o,k.newNoDocument(o,kt.min()));const d=Bn().add(o),p=new $C(kt.min(),new Map,new gi(en),c,d);yield h2(i,p),i.sa=i.sa.remove(o),i.ia.delete(t),nP(i)}else yield Jv(i.localStore,t,!1).then(()=>sy(i,t,e)).catch(Zg)}),YA.apply(this,arguments)}function qz(n,t){return KA.apply(this,arguments)}function KA(){return KA=(0,Ce.Z)(function*(n,t){const e=Qe(n),i=t.batch.batchId;try{const r=yield nz(e.localStore,t);eP(e,i,null),JA(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Pd(e,r)}catch(r){yield Zg(r)}}),KA.apply(this,arguments)}function Wz(n,t,e){return QA.apply(this,arguments)}function QA(){return QA=(0,Ce.Z)(function*(n,t,e){const i=Qe(n);try{const r=yield function(o,c){const d=Qe(o);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let v;return d.$s.lookupMutationBatch(p,c).next(M=>(Ft(null!==M),v=M.keys(),d.$s.removeMutationBatch(p,M))).next(()=>d.$s.performConsistencyCheck(p)).next(()=>d.ai.qs(p,v))})}(i.localStore,t);eP(i,t,e),JA(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Pd(i,r)}catch(r){yield Zg(r)}}),QA.apply(this,arguments)}function XA(){return XA=(0,Ce.Z)(function*(n,t){const e=Qe(n);Ff(e.remoteStore)||Ue("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const c=Qe(o);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>c.$s.getHighestUnacknowledgedBatchId(d))}(e.localStore);if(-1===i)return void t.resolve();const r=e.ua.get(i)||[];r.push(t),e.ua.set(i,r)}catch(i){const r=iy(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),XA.apply(this,arguments)}function JA(n,t){(n.ua.get(t)||[]).forEach(e=>{e.resolve()}),n.ua.delete(t)}function eP(n,t,e){const i=Qe(n);let r=i.oa[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.oa[i.currentUser.toKey()]=r}}function sy(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.ea.get(t))n.ta.delete(i),e&&n.Zu.la(i,e);n.ea.delete(t),n.isPrimaryClient&&n.ra.Ri(t).forEach(i=>{n.ra.containsKey(i)||p2(n,i)})}function p2(n,t){n.na.delete(t.path.canonicalString());const e=n.sa.get(t);null!==e&&(sw(n.remoteStore,e),n.sa=n.sa.remove(t),n.ia.delete(e),nP(n))}function tP(n,t,e){for(const i of e)i instanceof c2?(n.ra.addReference(i.key,t),Yz(n,i)):i instanceof u2?(Ue("SyncEngine","Document no longer in limbo: "+i.key),n.ra.removeReference(i.key,t),n.ra.containsKey(i.key)||p2(n,i.key)):ut()}function Yz(n,t){const e=t.key,i=e.path.canonicalString();n.sa.get(e)||n.na.has(i)||(Ue("SyncEngine","New document in limbo: "+e),n.na.add(i),nP(n))}function nP(n){for(;n.na.size>0&&n.sa.size<n.maxConcurrentLimboResolutions;){const t=n.na.values().next().value;n.na.delete(t);const e=new $e(an.fromString(t)),i=n.aa.next();n.ia.set(i,new Uz(e)),n.sa=n.sa.insert(e,i),CS(n.remoteStore,new kf(el(Hv(e.path)),i,2,So.A))}}function Pd(n,t,e){return iP.apply(this,arguments)}function iP(){return iP=(0,Ce.Z)(function*(n,t,e){const i=Qe(n),r=[],o=[],c=[];var d;i.ta.isEmpty()||(i.ta.forEach((d,p)=>{c.push(i.ha(p,t,e).then(v=>{if(v){i.isPrimaryClient&&i.sharedClientState.updateQueryState(p.targetId,v.fromCache?"not-current":"current"),r.push(v);const M=aA.Js(p.targetId,v);o.push(M)}}))}),yield Promise.all(c),i.Zu.Ko(r),yield(d=(0,Ce.Z)(function*(p,v){const M=Qe(p);try{yield M.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>ve.forEach(v,O=>ve.forEach(O.zs,R=>M.persistence.referenceDelegate.addReference(E,O.targetId,R)).next(()=>ve.forEach(O.Hs,R=>M.persistence.referenceDelegate.removeReference(E,O.targetId,R)))))}catch(E){if(!jg(E))throw E;Ue("LocalStore","Failed to update sequence numbers: "+E)}for(const E of v){const O=E.targetId;if(!E.fromCache){const R=M.si.get(O),Z=R.withLastLimboFreeSnapshotVersion(R.snapshotVersion);M.si=M.si.insert(O,Z)}}}),function(p,v){return d.apply(this,arguments)})(i.localStore,o))}),iP.apply(this,arguments)}function Kz(n,t){return rP.apply(this,arguments)}function rP(){return rP=(0,Ce.Z)(function*(n,t){const e=Qe(n);if(!e.currentUser.isEqual(t)){Ue("SyncEngine","User change. New user:",t.toKey());const i=yield HL(e.localStore,t);e.currentUser=t,(r=e).ua.forEach(c=>{c.forEach(d=>{d.reject(new Ae(he.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.ua.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Pd(e,i.ci)}var r}),rP.apply(this,arguments)}function Qz(n,t){const e=Qe(n),i=e.ia.get(t);if(i&&i.Xu)return Bn().add(i.key);{let r=Bn();const o=e.ea.get(t);if(!o)return r;for(const c of o){const d=e.ta.get(c);r=r.unionWith(d.view.qu)}return r}}function Xz(n,t){return oP.apply(this,arguments)}function oP(){return oP=(0,Ce.Z)(function*(n,t){const e=Qe(n),i=yield _S(e.localStore,t.query,!0),r=t.view.Ju(i);return e.isPrimaryClient&&tP(e,t.targetId,r.zu),r}),oP.apply(this,arguments)}function Jz(n,t){return sP.apply(this,arguments)}function sP(){return sP=(0,Ce.Z)(function*(n,t){const e=Qe(n);return $L(e.localStore,t).then(i=>Pd(e,i))}),sP.apply(this,arguments)}function e4(n,t,e,i){return aP.apply(this,arguments)}function aP(){return aP=(0,Ce.Z)(function*(n,t,e,i){const r=Qe(n),o=yield function(c,d){const p=Qe(c),v=Qe(p.$s);return p.persistence.runTransaction("Lookup mutation documents","readonly",M=>v.ln(M,d).next(E=>E?p.ai.qs(M,E):ve.resolve(null)))}(r.localStore,t);var d;null!==o?("pending"===e?yield ty(r.remoteStore):"acknowledged"===e||"rejected"===e?(eP(r,t,i||null),JA(r,t),d=t,Qe(Qe(r.localStore).$s).dn(d)):ut(),yield Pd(r,o)):Ue("SyncEngine","Cannot apply mutation batch with id: "+t)}),aP.apply(this,arguments)}function lP(){return lP=(0,Ce.Z)(function*(n,t){const e=Qe(n);if(hP(e),fP(e),!0===t&&!0!==e.ca){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield g2(e,i.toArray());e.ca=!0,yield RA(e.remoteStore,!0);for(const o of r)CS(e.remoteStore,o)}else if(!1===t&&!1!==e.ca){const i=[];let r=Promise.resolve();e.ea.forEach((o,c)=>{e.sharedClientState.isLocalQueryTarget(c)?i.push(c):r=r.then(()=>(sy(e,c),Jv(e.localStore,c,!0))),sw(e.remoteStore,c)}),yield r,yield g2(e,i),function(o){const c=Qe(o);c.ia.forEach((d,p)=>{sw(c.remoteStore,p)}),c.ra.bi(),c.ia=new Map,c.sa=new ar($e.comparator)}(e),e.ca=!1,yield RA(e.remoteStore,!1)}}),lP.apply(this,arguments)}function g2(n,t,e){return cP.apply(this,arguments)}function cP(){return cP=(0,Ce.Z)(function*(n,t,e){const i=Qe(n),r=[],o=[];for(const c of t){let d;const p=i.ea.get(c);if(p&&0!==p.length){d=yield Xv(i.localStore,el(p[0]));for(const v of p){const M=i.ta.get(v),E=yield Xz(i,M);E.snapshot&&o.push(E.snapshot)}}else{const v=yield GL(i.localStore,c);d=yield Xv(i.localStore,v),yield GA(i,m2(v),c,!1)}r.push(d)}return i.Zu.Ko(o),r}),cP.apply(this,arguments)}function m2(n){return SN(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function n4(n){const t=Qe(n);return Qe(Qe(t.localStore).persistence).Os()}function r4(n,t,e,i){return uP.apply(this,arguments)}function uP(){return uP=(0,Ce.Z)(function*(n,t,e,i){const r=Qe(n);if(r.ca)return void Ue("SyncEngine","Ignoring unexpected query state notification.");const o=r.ea.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const c=yield $L(r.localStore,ON(o[0])),d=$C.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield Pd(r,c,d);break}case"rejected":yield Jv(r.localStore,t,!0),sy(r,t,i);break;default:ut()}}),uP.apply(this,arguments)}function o4(n,t,e){return dP.apply(this,arguments)}function dP(){return dP=(0,Ce.Z)(function*(n,t,e){const i=hP(n);if(i.ca){for(const r of t){if(i.ea.has(r)){Ue("SyncEngine","Adding an already active target "+r);continue}const o=yield GL(i.localStore,r),c=yield Xv(i.localStore,o);yield GA(i,m2(o),c.targetId,!1),CS(i.remoteStore,c)}for(const r of e)i.ea.has(r)&&(yield Jv(i.localStore,r,!1).then(()=>{sw(i.remoteStore,r),sy(i,r)}).catch(Zg))}}),dP.apply(this,arguments)}function hP(n){const t=Qe(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=h2.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qz.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=$z.bind(null,t),t.Zu.Ko=Fz.bind(null,t.eventManager),t.Zu.la=Nz.bind(null,t.eventManager),t}function fP(n){const t=Qe(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=qz.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Wz.bind(null,t),t}class _2{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,Ce.Z)(function*(){e.M=rw(t.databaseInfo.databaseId),e.sharedClientState=e.da(t),e.persistence=e._a(t),yield e.persistence.start(),e.gcScheduler=e.wa(t),e.localStore=e.ma(t)})()}wa(t){return null}ma(t){return UL(this.persistence,new VL,t.initialUser,this.M)}_a(t){return new fz(fA.Wi,this.M)}da(t){return new YL}terminate(){var t=this;return(0,Ce.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class v2 extends _2{constructor(t,e,i){super(),this.ga=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,Ce.Z)(function*(){yield e().call(i,t),yield i.ga.initialize(i,t),yield fP(i.ga.syncEngine),yield ty(i.ga.remoteStore),yield i.persistence.Is(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()))})()}ma(t){return UL(this.persistence,new VL,t.initialUser,this.M)}wa(t){return new Z5(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)}_a(t){const e=sA(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Ws.withCacheSize(this.cacheSizeBytes):Ws.DEFAULT;return new oA(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,QL(),bS(),this.M,this.sharedClientState,!!this.forceOwnership)}da(t){return new YL}}class a4 extends v2{constructor(t,e){super(t,e,!1),this.ga=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,Ce.Z)(function*(){yield e().call(i,t);const r=i.ga.syncEngine;i.sharedClientState instanceof _A&&(i.sharedClientState.syncEngine={kr:e4.bind(null,r),Mr:r4.bind(null,r),Or:o4.bind(null,r),Os:n4.bind(null,r),Nr:Jz.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Is(function(){var o=(0,Ce.Z)(function*(c){yield function t4(n,t){return lP.apply(this,arguments)}(i.ga.syncEngine,c),i.gcScheduler&&(c&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):c||i.gcScheduler.stop())});return function(c){return o.apply(this,arguments)}}())})()}da(t){const e=QL();if(!_A.vt(e))throw new Ae(he.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=sA(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new _A(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class pP{initialize(t,e){var i=this;return(0,Ce.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>f2(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=Kz.bind(null,i.syncEngine),yield RA(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new Rz}createDatastore(t){const e=rw(t.databaseInfo.databaseId),i=new vz(t.databaseInfo);return new Cz(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,o=d=>f2(this.syncEngine,d,0),c=KL.vt()?new KL:new gz,new Mz(e,i,r,o,c);var e,i,r,o,c}createSyncEngine(t,e){return function(i,r,o,c,d,p,v){const M=new Hz(i,r,o,c,d,p);return v&&(M.ca=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,Ce.Z)(function*(e){const i=Qe(e);Ue("RemoteStore","RemoteStore shutting down."),i.lu.add(5),yield ey(i),i.du.shutdown(),i._u.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function y2(n,t=10240){let e=0;return{read:()=>(0,Ce.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,Ce.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class MS{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.ya(this.observer.next,t)}error(t){this.observer.error?this.ya(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}pa(){this.muted=!0}ya(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class l4{constructor(t,e){this.Ia=t,this.M=e,this.metadata=new Oi,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then(i=>{i&&i.Cu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ia.cancel()}getMetadata(){var t=this;return(0,Ce.Z)(function*(){return t.metadata.promise})()}fa(){var t=this;return(0,Ce.Z)(function*(){return yield t.getMetadata(),t.Ea()})()}Ea(){var t=this;return(0,Ce.Z)(function*(){const e=yield t.Aa();if(null===e)return null;const i=t.Ta.decode(e),r=Number(i);isNaN(r)&&t.Ra(`length string (${i}) is not valid number`);const o=yield t.ba(r);return new Lz(JSON.parse(o),e.length+r)})()}Pa(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Aa(){var t=this;return(0,Ce.Z)(function*(){for(;t.Pa()<0&&!(yield t.Va()););if(0===t.buffer.length)return null;const e=t.Pa();e<0&&t.Ra("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}ba(t){var e=this;return(0,Ce.Z)(function*(){for(;e.buffer.length<t;)(yield e.Va())&&e.Ra("Reached the end of bundle when more is expected.");const i=e.Ta.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Ra(t){throw this.Ia.cancel(),new Error(`Invalid bundle format: ${t}`)}Va(){var t=this;return(0,Ce.Z)(function*(){const e=yield t.Ia.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class c4{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,Ce.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Ae(he.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Ce.Z)(function*(o,c){const d=Qe(o),p=YC(d.M)+"/documents",v={documents:c.map(R=>ZC(d.M,R))},M=yield d.co("BatchGetDocuments",p,v),E=new Map;M.forEach(R=>{const V=function l5(n,t){return"found"in t?function(e,i){Ft(!!i.found);const r=Zc(e,i.found.name),o=ro(i.found.updateTime),c=new x({mapValue:{fields:i.found.fields}});return k.newFoundDocument(r,o,c)}(n,t):"missing"in t?function(e,i){Ft(!!i.missing),Ft(!!i.readTime);const r=Zc(e,i.missing),o=ro(i.readTime);return k.newNoDocument(r,o)}(n,t):ut()}(d.M,R);E.set(V.key.toString(),V)});const O=[];return c.forEach(R=>{const V=E.get(R.toString());Ft(!!V),O.push(V)}),O}),function(o,c){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new zC(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,Ce.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=$e.fromPath(r);t.mutations.push(new zk(o,t.precondition(o)))}),yield(i=(0,Ce.Z)(function*(r,o){const c=Qe(r),d=YC(c.M)+"/documents",p={writes:o.map(v=>KC(c.M,v))};yield c.ro("Commit",d,p)}),function(r,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw ut();e=kt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Ae(he.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Sr.updateTime(e):Sr.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(kt.min()))throw new Ae(he.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Sr.updateTime(e)}return Sr.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class u4{constructor(t,e,i,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=i,this.deferred=r,this.va=5,this.So=new vA(this.asyncQueue,"transaction_retry")}run(){this.va-=1,this.Sa()}Sa(){var t=this;this.So.Io((0,Ce.Z)(function*(){const e=new c4(t.datastore),i=t.Da(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.Ca(o)}))}).catch(r=>{t.Ca(r)})}))}Da(t){try{const e=this.updateFunction(t);return!Td(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Ca(t){this.va>0&&this.xa(t)?(this.va-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sa(),Promise.resolve()))):this.deferred.reject(t)}xa(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!$N(e)}return!1}}class d4{constructor(t,e,i,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Er.UNAUTHENTICATED,this.clientId=Pk.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,Ce.Z)(function*(d){Ue("FirestoreClient","Received user=",d.uid),yield o.authCredentialListener(d),o.user=d});return function(d){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(Ue("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var t=this;return(0,Ce.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ae(he.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ce.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=iy(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function b2(n,t){return gP.apply(this,arguments)}function gP(){return gP=(0,Ce.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Ue("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,Ce.Z)(function*(o){i.isEqual(o)||(yield HL(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),gP.apply(this,arguments)}function C2(n,t){return mP.apply(this,arguments)}function mP(){return mP=(0,Ce.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield _P(n);Ue("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>o2(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>o2(t.remoteStore,o)),n.onlineComponents=t}),mP.apply(this,arguments)}function _P(n){return vP.apply(this,arguments)}function vP(){return vP=(0,Ce.Z)(function*(n){return n.offlineComponents||(Ue("FirestoreClient","Using default OfflineComponentProvider"),yield b2(n,new _2)),n.offlineComponents}),vP.apply(this,arguments)}function xS(n){return yP.apply(this,arguments)}function yP(){return yP=(0,Ce.Z)(function*(n){return n.onlineComponents||(Ue("FirestoreClient","Using default OnlineComponentProvider"),yield C2(n,new pP)),n.onlineComponents}),yP.apply(this,arguments)}function w2(n){return _P(n).then(t=>t.persistence)}function bP(n){return _P(n).then(t=>t.localStore)}function M2(n){return xS(n).then(t=>t.remoteStore)}function CP(n){return xS(n).then(t=>t.syncEngine)}function ay(n){return wP.apply(this,arguments)}function wP(){return wP=(0,Ce.Z)(function*(n){const t=yield xS(n),e=t.eventManager;return e.onListen=jz.bind(null,t.syncEngine),e.onUnlisten=zz.bind(null,t.syncEngine),e}),wP.apply(this,arguments)}function x2(n,t,e={}){const i=new Oi;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(r,o,c,d,p){const v=new MS({next:E=>{o.enqueueAndForget(()=>VA(r,M));const O=E.docs.has(c);!O&&E.fromCache?p.reject(new Ae(he.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&E.fromCache&&d&&"server"===d.source?p.reject(new Ae(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),M=new jA(Hv(c.path),v,{includeMetadataChanges:!0,Du:!0});return LA(r,M)}(yield ay(n),n.asyncQueue,t,e,i)})),i.promise}function E2(n,t,e={}){const i=new Oi;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(r,o,c,d,p){const v=new MS({next:E=>{o.enqueueAndForget(()=>VA(r,M)),E.fromCache&&"server"===d.source?p.reject(new Ae(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),M=new jA(c,v,{includeMetadataChanges:!0,Du:!0});return LA(r,M)}(yield ay(n),n.asyncQueue,t,e,i)})),i.promise}const D2=new Map;function MP(n,t,e){if(!e)throw new Ae(he.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function S2(n,t,e,i){if(!0===t&&!0===i)throw new Ae(he.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function T2(n){if(!$e.isDocumentKey(n))throw new Ae(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function I2(n){if($e.isDocumentKey(n))throw new Ae(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ES(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":ut()}function gn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Ae(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=ES(n);throw new Ae(he.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function O2(n,t){if(t<=0)throw new Ae(he.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class k2{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ae(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ae(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,S2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class aw{constructor(t,e,i){this._authCredentials=e,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new k2({}),this._settingsFrozen=!1,t instanceof zl?this._databaseId=t:(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Ae(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zl(r.options.projectId)}(t))}get app(){if(!this._app)throw new Ae(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Ae(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new k2(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new kk;switch(e.type){case"gapi":const i=e.client;return Ft(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new RC(i,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Ae(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=D2.get(t);e&&(Ue("ComponentProvider","Removing Datastore"),D2.delete(t),e.terminate())}(this),Promise.resolve()}}class mi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new mi(this.firestore,t,this._key)}}class Zo{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Zo(this.firestore,t,this._query)}}class Yc extends Zo{constructor(t,e,i){super(t,e,Hv(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new mi(this.firestore,null,new $e(t))}withConverter(t){return new Yc(this.firestore,t,this._path)}}function A2(n,t,...e){if(n=(0,N.m9)(n),MP("collection","path",t),n instanceof aw){const i=an.fromString(t,...e);return I2(i),new Yc(n,null,i)}{if(!(n instanceof mi||n instanceof Yc))throw new Ae(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(an.fromString(t,...e));return I2(i),new Yc(n.firestore,null,i)}}function DS(n,t,...e){if(n=(0,N.m9)(n),1===arguments.length&&(t=Pk.R()),MP("doc","path",t),n instanceof aw){const i=an.fromString(t,...e);return T2(i),new mi(n,null,new $e(i))}{if(!(n instanceof mi||n instanceof Yc))throw new Ae(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(an.fromString(t,...e));return T2(i),new mi(n.firestore,n instanceof Yc?n.converter:null,new $e(i))}}function P2(n,t){return n=(0,N.m9)(n),t=(0,N.m9)(t),(n instanceof mi||n instanceof Yc)&&(t instanceof mi||t instanceof Yc)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function R2(n,t){return n=(0,N.m9)(n),t=(0,N.m9)(t),n instanceof Zo&&t instanceof Zo&&n.firestore===t.firestore&&UC(n._query,t._query)&&n.converter===t.converter}class w4{constructor(){this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new vA(this,"async_queue_retry"),this.Ua=()=>{const e=bS();e&&Ue("AsyncQueue","Visibility state changed to "+e.visibilityState),this.So.Eo()};const t=bS();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ua)}get isShuttingDown(){return this.Ma}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.qa(),this.Ga(t)}enterRestrictedMode(t){if(!this.Ma){this.Ma=!0,this.Ba=t||!1;const e=bS();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ua)}}enqueue(t){if(this.qa(),this.Ma)return new Promise(()=>{});const e=new Oi;return this.Ga(()=>this.Ma&&this.Ba?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.ka.push(t),this.Ka()))}Ka(){var t=this;return(0,Ce.Z)(function*(){if(0!==t.ka.length){try{yield t.ka[0](),t.ka.shift(),t.So.reset()}catch(e){if(!jg(e))throw e;Ue("AsyncQueue","Operation failed with retryable error: "+e)}t.ka.length>0&&t.So.Io(()=>t.Ka())}})()}Ga(t){const e=this.Na.then(()=>(this.$a=!0,t().catch(i=>{throw this.Fa=i,this.$a=!1,$i("INTERNAL UNHANDLED ERROR: ",function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),c}(i)),i}).then(i=>(this.$a=!1,i))));return this.Na=e,e}enqueueAfterDelay(t,e,i){this.qa(),this.La.indexOf(t)>-1&&(e=0);const r=NA.createAndSchedule(this,t,e,i,o=>this.Qa(o));return this.Oa.push(r),r}qa(){this.Fa&&ut()}verifyOperationInProgress(){}ja(){var t=this;return(0,Ce.Z)(function*(){let e;do{e=t.Na,yield e}while(e!==t.Na)})()}Wa(t){for(const e of this.Oa)if(e.timerId===t)return!0;return!1}za(t){return this.ja().then(()=>{this.Oa.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Oa)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.ja()})}Ha(t){this.La.push(t)}Qa(t){const e=this.Oa.indexOf(t);this.Oa.splice(e,1)}}function xP(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class M4{constructor(){this._progressObserver={},this._taskCompletionResolver=new Oi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class wi extends aw{constructor(t,e,i){super(t,e,i),this.type="firestore",this._queue=new w4,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||F2(this),this._firestoreClient.terminate()}}function Ir(n){return n._firestoreClient||F2(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function F2(n){var t;const e=n._freezeSettings(),i=(o=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new xN(n._databaseId,o,n._persistenceKey,(d=e).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,d.useFetchStreams));var o,d;n._firestoreClient=new d4(n._authCredentials,n._appCheckCredentials,n._queue,i)}function N2(n,t,e){const i=new Oi;return n.asyncQueue.enqueue((0,Ce.Z)(function*(){try{yield b2(n,e),yield C2(n,t),i.resolve()}catch(r){if(!("FirebaseError"===(o=r).name?o.code===he.FAILED_PRECONDITION||o.code===he.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&o instanceof DOMException)||22===o.code||20===o.code||11===o.code))throw r;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r)}var o})).then(()=>i.promise)}function L2(n){if(n._initialized||n._terminated)throw new Ae(he.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Rd{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Ae(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Kc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Kc(ki.fromBase64String(t))}catch(e){throw new Ae(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Kc(ki.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Kg{constructor(t){this._methodName=t}}class SS{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ae(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ae(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return en(this._lat,t._lat)||en(this._long,t._long)}}const P4=/^__.*__$/;class R4{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Hg(t,this.data,this.fieldMask,e,this.fieldTransforms):new jC(t,this.data,e,this.fieldTransforms)}}class B2{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Hg(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function V2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ut()}}class TS{constructor(t,e,i,r,o,c){this.settings=t,this.databaseId=e,this.M=i,this.ignoreUndefinedProperties=r,void 0===o&&this.Ja(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ya(){return this.settings.Ya}Xa(t){return new TS(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Za(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Xa({path:i,tc:!1});return r.ec(t),r}nc(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Xa({path:i,tc:!1});return r.Ja(),r}sc(t){return this.Xa({path:void 0,tc:!0})}ic(t){return kS(t,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Ja(){if(this.path)for(let t=0;t<this.path.length;t++)this.ec(this.path.get(t))}ec(t){if(0===t.length)throw this.ic("Document fields must not be empty");if(V2(this.Ya)&&P4.test(t))throw this.ic('Document fields cannot begin and end with "__"')}}class F4{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.M=i||rw(t)}uc(t,e,i,r=!1){return new TS({Ya:t,methodName:e,oc:i,path:Dr.emptyPath(),tc:!1,rc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Qg(n){const t=n._freezeSettings(),e=rw(n._databaseId);return new F4(n._databaseId,!!t.ignoreUndefinedProperties,e)}function IS(n,t,e,i,r,o={}){const c=n.uc(o.merge||o.mergeFields?2:0,t,e,r);TP("Data must be an object, but it was:",c,i);const d=j2(i,c);let p,v;if(o.merge)p=new Ef(c.fieldMask),v=c.fieldTransforms;else if(o.mergeFields){const M=[];for(const E of o.mergeFields){const O=IP(t,E,e);if(!c.contains(O))throw new Ae(he.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);G2(M,O)||M.push(O)}p=new Ef(M),v=c.fieldTransforms.filter(E=>p.covers(E.field))}else p=null,v=c.fieldTransforms;return new R4(new x(d),p,v)}class lw extends Kg{_toFieldTransform(t){if(2!==t.Ya)throw t.ic(1===t.Ya?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof lw}}function U2(n,t,e){return new TS({Ya:3,oc:t.settings.oc,methodName:n._methodName,tc:e},t.databaseId,t.M,t.ignoreUndefinedProperties)}class EP extends Kg{_toFieldTransform(t){return new HC(t.path,new zv)}isEqual(t){return t instanceof EP}}class N4 extends Kg{constructor(t,e){super(t),this.ac=e}_toFieldTransform(t){const e=U2(this,t,!0),i=this.ac.map(o=>Xg(o,e)),r=new Vg(i);return new HC(t.path,r)}isEqual(t){return this===t}}class L4 extends Kg{constructor(t,e){super(t),this.ac=e}_toFieldTransform(t){const e=U2(this,t,!0),i=this.ac.map(o=>Xg(o,e)),r=new Ug(i);return new HC(t.path,r)}isEqual(t){return this===t}}class B4 extends Kg{constructor(t,e){super(t),this.cc=e}_toFieldTransform(t){const e=new Gv(t.M,RN(t.M,this.cc));return new HC(t.path,e)}isEqual(t){return this===t}}function DP(n,t,e,i){const r=n.uc(1,t,e);TP("Data must be an object, but it was:",r,i);const o=[],c=x.empty();Dd(i,(p,v)=>{const M=OS(t,p,e);v=(0,N.m9)(v);const E=r.nc(M);if(v instanceof lw)o.push(M);else{const O=Xg(v,E);null!=O&&(o.push(M),c.set(M,O))}});const d=new Ef(o);return new B2(c,d,r.fieldTransforms)}function SP(n,t,e,i,r,o){const c=n.uc(1,t,e),d=[IP(t,i,e)],p=[r];if(o.length%2!=0)throw new Ae(he.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<o.length;O+=2)d.push(IP(t,o[O])),p.push(o[O+1]);const v=[],M=x.empty();for(let O=d.length-1;O>=0;--O)if(!G2(v,d[O])){const R=d[O];let V=p[O];V=(0,N.m9)(V);const Z=c.nc(R);if(V instanceof lw)v.push(R);else{const re=Xg(V,Z);null!=re&&(v.push(R),M.set(R,re))}}const E=new Ef(v);return new B2(M,E,c.fieldTransforms)}function H2(n,t,e,i=!1){return Xg(e,n.uc(i?4:3,t))}function Xg(n,t){if(z2(n=(0,N.m9)(n)))return TP("Unsupported field value:",t,n),j2(n,t);if(n instanceof Kg)return function(e,i){if(!V2(i.Ya))throw i.ic(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ic(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.tc&&4!==t.Ya)throw t.ic("Nested arrays are not supported");return function(e,i){const r=[];let o=0;for(const c of e){let d=Xg(c,i.sc(o));null==d&&(d={nullValue:"NULL_VALUE"}),r.push(d),o++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,N.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return RN(i.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=Ci.fromDate(e);return{timestampValue:WC(i.M,r)}}if(e instanceof Ci){const r=new Ci(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:WC(i.M,r)}}if(e instanceof SS)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Kc)return{bytesValue:JN(i.M,e._byteString)};if(e instanceof mi){const r=i.databaseId,o=e.firestore._databaseId;if(!o.isEqual(r))throw i.ic(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:$k(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.ic(`Unsupported field value: ${ES(e)}`)}(n,t)}function j2(n,t){const e={};return $D(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Dd(n,(i,r)=>{const o=Xg(r,t.Za(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function z2(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ci||n instanceof SS||n instanceof Kc||n instanceof mi||n instanceof Kg)}function TP(n,t,e){if(!z2(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=ES(e);throw t.ic("an object"===i?n+" a custom object":n+" "+i)}var i}function IP(n,t,e){if((t=(0,N.m9)(t))instanceof Rd)return t._internalPath;if("string"==typeof t)return OS(n,t);throw kS("Field path arguments must be of type string or ",n,!1,void 0,e)}const V4=new RegExp("[~\\*/\\[\\]]");function OS(n,t,e){if(t.search(V4)>=0)throw kS(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Rd(...t.split("."))._internalPath}catch(i){throw kS(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function kS(n,t,e,i,r){const o=i&&!i.isEmpty(),c=void 0!==r;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(o||c)&&(p+=" (found",o&&(p+=` in field ${i}`),c&&(p+=` in document ${r}`),p+=")"),new Ae(he.INVALID_ARGUMENT,d+n+p)}function G2(n,t){return n.some(e=>e.isEqual(t))}class cw{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new mi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new U4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(AS("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class U4 extends cw{data(){return super.data()}}function AS(n,t){return"string"==typeof t?OS(n,t):t instanceof Rd?t._internalPath:t._delegate._internalPath}class Jg{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Fd extends cw{constructor(t,e,i,r,o,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new uw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(AS("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class uw extends Fd{data(t={}){return super.data(t)}}class Lf{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Jg(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new uw(this._firestore,this._userDataWriter,i.key,i,new Jg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ae(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new uw(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Jg(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const d=new uw(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Jg(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,v=-1;return 0!==c.type&&(p=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),1!==c.type&&(o=o.add(c.doc),v=o.indexOf(c.doc.key)),{type:H4(c.type),doc:d,oldIndex:p,newIndex:v}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function H4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ut()}}function $2(n,t){return n instanceof Fd&&t instanceof Fd?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Lf&&t instanceof Lf&&n._firestore===t._firestore&&R2(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function q2(n){if(eS(n)&&0===n.explicitOrderBy.length)throw new Ae(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dw{}function Bf(n,...t){for(const e of t)n=e._apply(n);return n}class j4 extends dw{constructor(t,e,i){super(),this.hc=t,this.lc=e,this.fc=i,this.type="where"}_apply(t){const e=Qg(t.firestore),i=function(r,o,c,d,p,v,M){let E;if(p.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new Ae(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){X2(M,v);const R=[];for(const V of M)R.push(Q2(d,r,V));E={arrayValue:{values:R}}}else E=Q2(d,r,M)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||X2(M,v),E=H2(c,"where",M,"in"===v||"not-in"===v);const O=sr.create(p,v,E);return function(R,V){if(V.S()){const re=Bk(R);if(null!==re&&!re.isEqual(V.field))throw new Ae(he.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${re.toString()}' and '${V.field.toString()}'`);const Pe=Lk(R);null!==Pe&&J2(0,V.field,Pe)}const Z=function(re,Pe){for(const Re of re.filters)if(Pe.indexOf(Re.op)>=0)return Re.op;return null}(R,function(re){switch(re){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(V.op));if(null!==Z)throw new Ae(he.INVALID_ARGUMENT,Z===V.op?`Invalid query. You cannot use more than one '${V.op.toString()}' filter.`:`Invalid query. You cannot use '${V.op.toString()}' filters with '${Z.toString()}' filters.`)}(r,O),O}(t._query,0,e,t.firestore._databaseId,this.hc,this.lc,this.fc);return new Zo(t.firestore,t.converter,function(r,o){const c=r.filters.concat([o]);return new Ad(r.path,r.collectionGroup,r.explicitOrderBy.slice(),c,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}class G4 extends dw{constructor(t,e){super(),this.hc=t,this.dc=e,this.type="orderBy"}_apply(t){const e=function(i,r,o){if(null!==i.startAt)throw new Ae(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ae(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new Uv(r,o);return function(d,p){if(null===Lk(d)){const v=Bk(d);null!==v&&J2(0,v,p.field)}}(i,c),c}(t._query,this.hc,this.dc);return new Zo(t.firestore,t.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new Ad(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class W2 extends dw{constructor(t,e,i){super(),this.type=t,this._c=e,this.wc=i}_apply(t){return new Zo(t.firestore,t.converter,TN(t._query,this._c,this.wc))}}class Z2 extends dw{constructor(t,e,i){super(),this.type=t,this.mc=e,this.gc=i}_apply(t){const e=K2(t,this.type,this.mc,this.gc);return new Zo(t.firestore,t.converter,(r=e,new Ad((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class Y2 extends dw{constructor(t,e,i){super(),this.type=t,this.mc=e,this.gc=i}_apply(t){const e=K2(t,this.type,this.mc,this.gc);return new Zo(t.firestore,t.converter,(r=e,new Ad((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function K2(n,t,e,i){if(e[0]=(0,N.m9)(e[0]),e[0]instanceof cw)return function(r,o,c,d,p){if(!d)throw new Ae(he.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const v=[];for(const M of jv(r))if(M.field.isKeyField())v.push(Bg(o,d.key));else{const E=d.data.field(M.field);if(FC(E))throw new Ae(he.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+M.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===E){const O=M.field.canonicalString();throw new Ae(he.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${O}' (used as the orderBy) does not exist.`)}v.push(E)}return new If(v,p)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=Qg(n.firestore);return function(o,c,d,p,v,M){const E=o.explicitOrderBy;if(v.length>E.length)throw new Ae(he.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const O=[];for(let R=0;R<v.length;R++){const V=v[R];if(E[R].field.isKeyField()){if("string"!=typeof V)throw new Ae(he.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof V}`);if(!Vk(o)&&-1!==V.indexOf("/"))throw new Ae(he.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${V}' contains a slash.`);const Z=o.path.child(an.fromString(V));if(!$e.isDocumentKey(Z))throw new Ae(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${Z}' is not because it contains an odd number of segments.`);const re=new $e(Z);O.push(Bg(c,re))}else{const Z=H2(d,p,V);O.push(Z)}}return new If(O,M)}(n._query,n.firestore._databaseId,r,t,e,i)}}function Q2(n,t,e){if("string"==typeof(e=(0,N.m9)(e))){if(""===e)throw new Ae(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vk(t)&&-1!==e.indexOf("/"))throw new Ae(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(an.fromString(e));if(!$e.isDocumentKey(i))throw new Ae(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Bg(n,new $e(i))}if(e instanceof mi)return Bg(n,e._key);throw new Ae(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ES(e)}.`)}function X2(n,t){if(!Array.isArray(n)||0===n.length)throw new Ae(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new Ae(he.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function J2(n,t,e){if(!e.isEqual(t))throw new Ae(he.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class OP{convertValue(t,e="none"){switch(Df(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ri(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Sd(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw ut()}}convertObject(t,e){const i={};return Dd(t.fields,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertGeoPoint(t){return new SS(ri(t.latitude),ri(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Fk(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Lv(t));default:return null}}convertTimestamp(t){const e=jl(t);return new Ci(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=an.fromString(t);Ft(cL(i));const r=new zl(i.get(1),i.get(3)),o=new $e(i.popFirst(5));return r.isEqual(e)||$i(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function PS(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class X4 extends OP{constructor(t){super(),this.firestore=t}convertBytes(t){return new Kc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new mi(this.firestore,null,e)}}class eB{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Qg(t)}set(t,e,i){this._verifyNotCommitted();const r=Vf(t,this._firestore),o=PS(r.converter,e,i),c=IS(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(c.toMutation(r._key,Sr.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=Vf(t,this._firestore);let c;return c="string"==typeof(e=(0,N.m9)(e))||e instanceof Rd?SP(this._dataReader,"WriteBatch.update",o._key,e,i,r):DP(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(c.toMutation(o._key,Sr.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Vf(t,this._firestore);return this._mutations=this._mutations.concat(new zC(e._key,Sr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ae(he.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Vf(n,t){if((n=(0,N.m9)(n)).firestore!==t)throw new Ae(he.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class em extends OP{constructor(t){super(),this.firestore=t}convertBytes(t){return new Kc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new mi(this.firestore,null,e)}}function tB(n,t,e){n=gn(n,mi);const i=gn(n.firestore,wi),r=PS(n.converter,t,e);return ly(i,[IS(Qg(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Sr.none())])}function nB(n,t,e,...i){n=gn(n,mi);const r=gn(n.firestore,wi),o=Qg(r);let c;return c="string"==typeof(t=(0,N.m9)(t))||t instanceof Rd?SP(o,"updateDoc",n._key,t,e,i):DP(o,"updateDoc",n._key,t),ly(r,[c.toMutation(n._key,Sr.exists(!0))])}function iB(n,...t){var e,i,r;n=(0,N.m9)(n);let o={includeMetadataChanges:!1},c=0;"object"!=typeof t[c]||xP(t[c])||(o=t[c],c++);const d={includeMetadataChanges:o.includeMetadataChanges};if(xP(t[c])){const E=t[c];t[c]=null===(e=E.next)||void 0===e?void 0:e.bind(E),t[c+1]=null===(i=E.error)||void 0===i?void 0:i.bind(E),t[c+2]=null===(r=E.complete)||void 0===r?void 0:r.bind(E)}let p,v,M;if(n instanceof mi)v=gn(n.firestore,wi),M=Hv(n._key.path),p={next:E=>{t[c]&&t[c](kP(v,n,E))},error:t[c+1],complete:t[c+2]};else{const E=gn(n,Zo);v=gn(E.firestore,wi),M=E._query;const O=new em(v);p={next:R=>{t[c]&&t[c](new Lf(v,O,E,R))},error:t[c+1],complete:t[c+2]},q2(n._query)}return function(E,O,R,V){const Z=new MS(V),re=new jA(O,Z,R);return E.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return LA(yield ay(E),re)})),()=>{Z.pa(),E.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return VA(yield ay(E),re)}))}}(Ir(v),M,d,p)}function ly(n,t){return function(e,i){const r=new Oi;return e.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function Gz(n,t,e){return WA.apply(this,arguments)}(yield CP(e),i,r)})),r.promise}(Ir(n),t)}function kP(n,t,e){const i=e.docs.get(t._key),r=new em(n);return new Fd(n,r,t._key,i,new Jg(e.hasPendingWrites,e.fromCache),t.converter)}class c6 extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Qg(t)}get(t){const e=Vf(t,this._firestore),i=new X4(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return ut();const o=r[0];if(o.isFoundDocument())return new cw(this._firestore,i,o.key,o,e.converter);if(o.isNoDocument())return new cw(this._firestore,i,e._key,null,e.converter);throw ut()})}set(t,e,i){const r=Vf(t,this._firestore),o=PS(r.converter,e,i),c=IS(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,c),this}update(t,e,i,...r){const o=Vf(t,this._firestore);let c;return c="string"==typeof(e=(0,N.m9)(e))||e instanceof Rd?SP(this._dataReader,"Transaction.update",o._key,e,i,r):DP(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,c),this}delete(t){const e=Vf(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Vf(t,this._firestore),i=new em(this._firestore);return super.get(t).then(r=>new Fd(this._firestore,i,e._key,r._document,new Jg(!1,!1),e.converter))}}function AP(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ae("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function oB(){if("undefined"==typeof Uint8Array)throw new Ae("unimplemented","Uint8Arrays are not available in this environment.")}function sB(){if(!function WD(){return"undefined"!=typeof atob}())throw new Ae("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){Mf=Co.SDK_VERSION,(0,Co._registerComponent)(new zs.wA("firestore",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),o=new wi(r,new Ed(e.getProvider("auth-internal")),new Ak(e.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC")),(0,Co.registerVersion)(AC,"3.4.7",n),(0,Co.registerVersion)(AC,"3.4.7","esm2017")}();class hw{constructor(t){this._delegate=t}static fromBase64String(t){return sB(),new hw(Kc.fromBase64String(t))}static fromUint8Array(t){return oB(),new hw(Kc.fromUint8Array(t))}toBase64(){return sB(),this._delegate.toBase64()}toUint8Array(){return oB(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function PP(n){return function v6(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class y6{enableIndexedDbPersistence(t,e){return function E4(n,t){L2(n=gn(n,wi));const e=Ir(n),i=n._freezeSettings(),r=new pP;return N2(e,r,new v2(r,i.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function D4(n){L2(n=gn(n,wi));const t=Ir(n),e=n._freezeSettings(),i=new pP;return N2(t,i,new a4(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function S4(n){if(n._initialized&&!n._terminated)throw new Ae(he.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Oi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ce.Z)(function*(){try{yield(e=(0,Ce.Z)(function*(i){if(!ql.vt())return Promise.resolve();const r=i+"main";yield ql.delete(r)}),function(i){return e.apply(this,arguments)})(sA(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class aB{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof zl||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Rg("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function b4(n,t,e,i={}){var r;const o=(n=gn(n,aw))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&Rg("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let c,d;if("string"==typeof i.mockUserToken)c=i.mockUserToken,d=Er.MOCK_USER;else{c=(0,N.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new Ae(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Er(p)}n._authCredentials=new HD(new UD(c,d))}}(this._delegate,t,e,i)}enableNetwork(){return function I4(n){return function h4(n){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){const t=yield w2(n),e=yield M2(n);return t.setNetworkEnabled(!0),function(i){const r=Qe(i);return r.lu.delete(0),ow(r)}(e)}))}(Ir(n=gn(n,wi)))}(this._delegate)}disableNetwork(){return function O4(n){return function f4(n){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){const t=yield w2(n),e=yield M2(n);return t.setNetworkEnabled(!1),(i=(0,Ce.Z)(function*(r){const o=Qe(r);o.lu.add(0),yield ey(o),o._u.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(Ir(n=gn(n,wi)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,S2("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function T4(n){return function(t){const e=new Oi;return t.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function Zz(n,t){return XA.apply(this,arguments)}(yield CP(t),e)})),e.promise}(Ir(n=gn(n,wi)))}(this._delegate)}onSnapshotsInSync(t){return function l6(n,t){return function m4(n,t){const e=new MS(t);return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return i=yield ay(n),r=e,Qe(i).Tu.add(r),void r.next();var i,r})),()=>{e.pa(),n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return i=yield ay(n),r=e,void Qe(i).Tu.delete(r);var i,r}))}}(Ir(n=gn(n,wi)),xP(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Ae("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new cy(this,A2(this._delegate,t))}catch(e){throw ds(e,"collection()","Firestore.collection()")}}doc(t){try{return new nl(this,DS(this._delegate,t))}catch(e){throw ds(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new hs(this,function C4(n,t){if(n=gn(n,aw),MP("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ae(he.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Zo(n,null,(e=t,new Ad(an.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw ds(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function u6(n,t){return function _4(n,t){const e=new Oi;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){const i=yield(r=n,xS(r).then(o=>o.datastore));var r;new u4(n.asyncQueue,i,t,e).run()})),e.promise}(Ir(n=gn(n,wi)),e=>t(new c6(n,e)))}(this._delegate,e=>t(new lB(this,e)))}batch(){return Ir(this._delegate),new cB(new eB(this._delegate,t=>ly(this._delegate,t)))}loadBundle(t){return function k4(n,t){const e=Ir(n=gn(n,wi)),i=new M4;return function v4(n,t,e,i){const r=function(o,c){let d;return d="string"==typeof o?(new TextEncoder).encode(o):o,p=function(p,v){if(p instanceof Uint8Array)return y2(p,v);if(p instanceof ArrayBuffer)return y2(new Uint8Array(p),v);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),new l4(p,c);var p}(e,rw(t));n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){!function s4(n,t,e){const i=Qe(n);var r;(r=(0,Ce.Z)(function*(o,c,d){try{const p=yield c.getMetadata();if(yield function(O,R){const V=Qe(O),Z=ro(R.createTime);return V.persistence.runTransaction("hasNewerBundle","readonly",re=>V.ds.getBundleMetadata(re,R.id)).then(re=>!!re&&re.createTime.compareTo(Z)>=0)}(o.localStore,p))return yield c.close(),d._completeWith({taskState:"Success",documentsLoaded:(O=p).totalDocuments,bytesLoaded:O.totalBytes,totalDocuments:O.totalDocuments,totalBytes:O.totalBytes}),Promise.resolve(new Set);d._updateProgress(l2(p));const v=new Bz(p,o.localStore,c.M);let M=yield c.fa();for(;M;){const O=yield v.Nu(M);O&&d._updateProgress(O),M=yield c.fa()}const E=yield v.complete();return yield Pd(o,E.Ou,void 0),yield function(O,R){const V=Qe(O);return V.persistence.runTransaction("Save bundle","readwrite",Z=>V.ds.saveBundleMetadata(Z,R))}(o.localStore,p),d._completeWith(E.progress),Promise.resolve(E.Mu)}catch(p){return Rg("SyncEngine",`Loading bundle failed with ${p}`),d._failWith(p),Promise.resolve(new Set)}var O}),function(o,c,d){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield CP(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function A4(n,t){return function y4(n,t){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){return function(e,i){const r=Qe(e);return r.persistence.runTransaction("Get named query","readonly",o=>r.ds.getNamedQuery(o,i))}(yield bP(n),t)}))}(Ir(n=gn(n,wi)),t).then(e=>e?new Zo(n,null,e.query):null)}(this._delegate,t).then(e=>e?new hs(this,e):null)}}class RS extends OP{constructor(t){super(),this.firestore=t}convertBytes(t){return new hw(new Kc(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return nl.forKey(e,this.firestore,null)}}class lB{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new RS(t)}get(t){const e=nm(t);return this._delegate.get(e).then(i=>new fw(this._firestore,new Fd(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=nm(t);return i?(AP("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=nm(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=nm(t);return this._delegate.delete(e),this}}class cB{constructor(t){this._delegate=t}set(t,e,i){const r=nm(t);return i?(AP("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=nm(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=nm(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class tm{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new uw(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new pw(this._firestore,i),null!=e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=tm.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new tm(t,new RS(t),e),r.set(e,o)),o}}tm.INSTANCES=new WeakMap;class nl{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new RS(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Ae("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new nl(e,new mi(e._delegate,i,new $e(t)))}static forKey(t,e,i){return new nl(e,new mi(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new cy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new cy(this.firestore,A2(this._delegate,t))}catch(e){throw ds(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,N.m9)(t))instanceof mi&&P2(this._delegate,t)}set(t,e){e=AP("DocumentReference.set",e);try{return e?tB(this._delegate,t,e):tB(this._delegate,t)}catch(i){throw ds(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?nB(this._delegate,t):nB(this._delegate,t,e,...i)}catch(r){throw ds(r,"updateDoc()","DocumentReference.update()")}}delete(){return function s6(n){return ly(gn(n.firestore,wi),[new zC(n._key,Sr.none())])}(this._delegate)}onSnapshot(...t){const e=uB(t),i=dB(t,r=>new fw(this.firestore,new Fd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return iB(this._delegate,e,i)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function e6(n){n=gn(n,mi);const t=gn(n.firestore,wi),e=Ir(t),i=new em(t);return function p4(n,t){const e=new Oi;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return(i=(0,Ce.Z)(function*(r,o,c){try{const d=yield function(p,v){const M=Qe(p);return M.persistence.runTransaction("read document","readonly",E=>M.ai.Bs(E,v))}(r,o);d.isFoundDocument()?c.resolve(d):d.isNoDocument()?c.resolve(null):c.reject(new Ae(he.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const p=iy(d,`Failed to get document '${o} from cache`);c.reject(p)}}),function(r,o,c){return i.apply(this,arguments)})(yield bP(n),t,e);var i})),e.promise}(e,n._key).then(r=>new Fd(t,i,n._key,r,new Jg(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function t6(n){n=gn(n,mi);const t=gn(n.firestore,wi);return x2(Ir(t),n._key,{source:"server"}).then(e=>kP(t,n,e))}(this._delegate):function J4(n){n=gn(n,mi);const t=gn(n.firestore,wi);return x2(Ir(t),n._key).then(e=>kP(t,n,e))}(this._delegate),e.then(i=>new fw(this.firestore,new Fd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new nl(this.firestore,this._delegate.withConverter(t?tm.getInstance(this.firestore,t):null))}}function ds(n,t,e){return n.message=n.message.replace(t,e),n}function uB(n){for(const t of n)if("object"==typeof t&&!PP(t))return t;return{}}function dB(n,t){var e,i;let r;return r=PP(n[0])?n[0]:PP(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class fw{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new nl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return $2(this._delegate,t._delegate)}}class pw extends fw{data(t){const e=this._delegate.data(t);return function wN(n,t){n||ut()}(void 0!==e),e}}class hs{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new RS(t)}where(t,e,i){try{return new hs(this.firestore,Bf(this._delegate,function z4(n,t,e){const i=t,r=AS("where",n);return new j4(r,i,e)}(t,e,i)))}catch(r){throw ds(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new hs(this.firestore,Bf(this._delegate,function $4(n,t="asc"){const e=t,i=AS("orderBy",n);return new G4(i,e)}(t,e)))}catch(i){throw ds(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new hs(this.firestore,Bf(this._delegate,function q4(n){return O2("limit",n),new W2("limit",n,"F")}(t)))}catch(e){throw ds(e,"limit()","Query.limit()")}}limitToLast(t){try{return new hs(this.firestore,Bf(this._delegate,function W4(n){return O2("limitToLast",n),new W2("limitToLast",n,"L")}(t)))}catch(e){throw ds(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new hs(this.firestore,Bf(this._delegate,function Z4(...n){return new Z2("startAt",n,!0)}(...t)))}catch(e){throw ds(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new hs(this.firestore,Bf(this._delegate,function Y4(...n){return new Z2("startAfter",n,!1)}(...t)))}catch(e){throw ds(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new hs(this.firestore,Bf(this._delegate,function K4(...n){return new Y2("endBefore",n,!1)}(...t)))}catch(e){throw ds(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new hs(this.firestore,Bf(this._delegate,function Q4(...n){return new Y2("endAt",n,!0)}(...t)))}catch(e){throw ds(e,"endAt()","Query.endAt()")}}isEqual(t){return R2(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function r6(n){n=gn(n,Zo);const t=gn(n.firestore,wi),e=Ir(t),i=new em(t);return function g4(n,t){const e=new Oi;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return(i=(0,Ce.Z)(function*(r,o,c){try{const d=yield _S(r,o,!0),p=new d2(o,d.hi),v=p.Gu(d.documents),M=p.applyChanges(v,!1);c.resolve(M.snapshot)}catch(d){const p=iy(d,`Failed to execute query '${o} against cache`);c.reject(p)}}),function(r,o,c){return i.apply(this,arguments)})(yield bP(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Lf(t,i,n,r))}(this._delegate):"server"===(null==t?void 0:t.source)?function o6(n){n=gn(n,Zo);const t=gn(n.firestore,wi),e=Ir(t),i=new em(t);return E2(e,n._query,{source:"server"}).then(r=>new Lf(t,i,n,r))}(this._delegate):function n6(n){n=gn(n,Zo);const t=gn(n.firestore,wi),e=Ir(t),i=new em(t);return q2(n._query),E2(e,n._query).then(r=>new Lf(t,i,n,r))}(this._delegate),e.then(i=>new RP(this.firestore,new Lf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=uB(t),i=dB(t,r=>new RP(this.firestore,new Lf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return iB(this._delegate,e,i)}withConverter(t){return new hs(this.firestore,this._delegate.withConverter(t?tm.getInstance(this.firestore,t):null))}}class C6{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new pw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class RP{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new hs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new pw(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new C6(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new pw(this._firestore,i))})}isEqual(t){return $2(this._delegate,t._delegate)}}class cy extends hs{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new nl(this.firestore,t):null}doc(t){try{return new nl(this.firestore,void 0===t?DS(this._delegate):DS(this._delegate,t))}catch(e){throw ds(e,"doc()","CollectionReference.doc()")}}add(t){return function a6(n,t){const e=gn(n.firestore,wi),i=DS(n),r=PS(n.converter,t);return ly(e,[IS(Qg(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Sr.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new nl(this.firestore,e))}isEqual(t){return P2(this._delegate,t._delegate)}withConverter(t){return new cy(this.firestore,this._delegate.withConverter(t?tm.getInstance(this.firestore,t):null))}}function nm(n){return gn(n,mi)}class FP{constructor(...t){this._delegate=new Rd(...t)}static documentId(){return new FP(Dr.keyField().canonicalString())}isEqual(t){return(t=(0,N.m9)(t))instanceof Rd&&this._delegate._internalPath.isEqual(t._internalPath)}}class im{constructor(t){this._delegate=t}static serverTimestamp(){const t=function h6(){return new EP("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new im(t)}static delete(){const t=function d6(){return new lw("deleteField")}();return t._methodName="FieldValue.delete",new im(t)}static arrayUnion(...t){const e=function f6(...n){return new N4("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new im(e)}static arrayRemove(...t){const e=function p6(...n){return new L4("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new im(e)}static increment(t){const e=function g6(n){return new B4("increment",n)}(t);return e._methodName="FieldValue.increment",new im(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const w6={Firestore:aB,GeoPoint:SS,Timestamp:Ci,Blob:hw,Transaction:lB,WriteBatch:cB,DocumentReference:nl,DocumentSnapshot:fw,Query:hs,QueryDocumentSnapshot:pw,QuerySnapshot:RP,CollectionReference:cy,FieldPath:FP,FieldValue:im,setLogLevel:function b6(n){!function CN(n){Wc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function x6(n){(function M6(n,t){n.INTERNAL.registerComponent(new zs.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},w6)))})(n,(t,e)=>new aB(t,e,new y6)),n.registerVersion("@firebase/firestore-compat","0.1.16")}(jb.Z);var il=L(6451),FS=L(5363),E6=L(6063);class D6 extends ft.x{constructor(t=1/0,e=1/0,i=E6.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:c}=this;e||(i.push(t),!r&&i.push(o.now()+c)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let c=0;c<o.length&&!t.closed;c+=i?1:2)t.next(o[c]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const c=e.now();let d=0;for(let p=1;p<i.length&&i[p]<=c;p+=2)d=p;d&&i.splice(0,d+1)}}}var NP=L(3099);function hB(n,t,e){var i,r;let o,c=!1;return n&&"object"==typeof n?(o=null!==(i=n.bufferSize)&&void 0!==i?i:1/0,t=null!==(r=n.windowTime)&&void 0!==r?r:1/0,c=!!n.refCount,e=n.scheduler):o=null!=n?n:1/0,(0,NP.B)({connector:()=>new D6(o,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:c})}function fB(n,t){return(0,gr.m)(t)?un(()=>n,t):un(()=>n)}var LP=L(9468);const BP=new l.OlP("angularfire2.auth.use-emulator"),VP=new l.OlP("angularfire2.auth.settings"),UP=new l.OlP("angularfire2.auth.tenant-id"),HP=new l.OlP("angularfire2.auth.langugage-code"),jP=new l.OlP("angularfire2.auth.use-device-language"),zP=new l.OlP("angularfire.auth.persistence"),GP=(n,t,e,i,r,o,c,d)=>(0,nr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=t.runOutsideAngular(()=>n.auth());if(e&&p.useEmulator(...e),i&&(p.tenantId=i),p.languageCode=r,o&&p.useDeviceLanguage(),c)for(const[v,M]of Object.entries(c))p.settings[v]=M;return d&&p.setPersistence(d),p},[e,i,r,o,c,d]);let $P=(()=>{class n{constructor(e,i,r,o,c,d,p,v,M,E,O,R){const V=new ft.x,Z=et(void 0).pipe((0,FS.Q)(c.outsideAngular),un(()=>o.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,4087)))),(0,pt.U)(()=>(0,nr.on)(e,o,i)),(0,pt.U)(re=>GP(re,o,d,v,M,E,p,O)),hB({bufferSize:1,refCount:!1}));if(Bi(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=et(null);else{Z.pipe(Va()).subscribe();const Pe=Z.pipe(un(Le=>Le.getRedirectResult().then(St=>St,()=>null)),vn.iC,hB({bufferSize:1,refCount:!1})),Re=Z.pipe(un(Le=>new Rn.y(St=>({unsubscribe:o.runOutsideAngular(()=>Le.onAuthStateChanged(xt=>St.next(xt),xt=>St.error(xt),()=>St.complete()))})))),We=Z.pipe(un(Le=>new Rn.y(St=>({unsubscribe:o.runOutsideAngular(()=>Le.onIdTokenChanged(xt=>St.next(xt),xt=>St.error(xt),()=>St.complete()))}))));this.authState=Pe.pipe(fB(Re),(0,LP.R)(c.outsideAngular),(0,FS.Q)(c.insideAngular)),this.user=Pe.pipe(fB(We),(0,LP.R)(c.outsideAngular),(0,FS.Q)(c.insideAngular)),this.idToken=this.user.pipe(un(Le=>Le?(0,Pn.D)(Le.getIdToken()):et(null))),this.idTokenResult=this.user.pipe(un(Le=>Le?(0,Pn.D)(Le.getIdTokenResult()):et(null))),this.credential=(0,il.T)(Pe,V,this.authState.pipe(Fn(Le=>!Le))).pipe((0,pt.U)(Le=>(null==Le?void 0:Le.user)?Le:null),(0,LP.R)(c.outsideAngular),(0,FS.Q)(c.insideAngular))}return(0,nr.pX)(this,Z,o,{spy:{apply:(re,Pe,Re)=>{(re.startsWith("signIn")||re.startsWith("createUser"))&&Re.then(We=>V.next(We))}}})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(nr.Dh),l.LFG(nr.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(vn.HU),l.LFG(BP,8),l.LFG(VP,8),l.LFG(UP,8),l.LFG(HP,8),l.LFG(jP,8),l.LFG(zP,8),l.LFG(ev,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function pB(n,t){return function T6(n,t=ld.z){return new Rn.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=i&&i()}})}(n,t)}function qP(n,t){return pB(n,t).pipe((0,pt.U)(e=>({payload:e,type:"query"})))}function NS(n,t){return qP(n,t).pipe(fr(void 0),N0(),(0,pt.U)(([e,i])=>{const r=i.payload.docChanges(),o=r.map(c=>({type:c.type,payload:c}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((c,d)=>{const p=r.find(M=>M.doc.ref.isEqual(c.ref)),v=null==e?void 0:e.payload.docs.find(M=>M.ref.isEqual(c.ref));p&&JSON.stringify(p.doc.metadata)===JSON.stringify(c.metadata)||!p&&v&&JSON.stringify(v.metadata)===JSON.stringify(c.metadata)||o.push({type:"modified",payload:{oldIndex:d,newIndex:d,type:"modified",doc:c}})}),o}))}function gB(n,t,e){return NS(n,e).pipe(pr((i,r)=>function O6(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function k6(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return WP(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return WP(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return WP(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),L0(),(0,pt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function WP(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function mB(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class _B{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=NS(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,pt.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(fr(void 0),N0(),Fn(([i,r])=>r.length>0||!i),(0,pt.U)(([i,r])=>r),vn.iC)}auditTrail(t){return this.stateChanges(t).pipe(pr((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=mB(t);return gB(this.query,e,this.afs.schedulers.outsideAngular).pipe(vn.iC)}valueChanges(t={}){return qP(this.query,this.afs.schedulers.outsideAngular).pipe((0,pt.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),vn.iC)}get(t){return(0,Pn.D)(this.query.get(t)).pipe(vn.iC)}add(t){return this.ref.add(t)}doc(t){return new vB(this.ref.doc(t),this.afs)}}class vB{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=CB(i,e);return new _B(r,o,this.afs)}snapshotChanges(){return function I6(n,t){return pB(n,t).pipe(fr(void 0),N0(),(0,pt.U)(([e,i])=>i.exists?(null==e?void 0:e.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(vn.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,pt.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,Pn.D)(this.ref.get(t)).pipe(vn.iC)}}class A6{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?NS(this.query,this.afs.schedulers.outsideAngular).pipe((0,pt.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),Fn(e=>e.length>0),vn.iC):NS(this.query,this.afs.schedulers.outsideAngular).pipe(vn.iC)}auditTrail(t){return this.stateChanges(t).pipe(pr((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=mB(t);return gB(this.query,e,this.afs.schedulers.outsideAngular).pipe(vn.iC)}valueChanges(t={}){return qP(this.query,this.afs.schedulers.outsideAngular).pipe((0,pt.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),vn.iC)}get(t){return(0,Pn.D)(this.query.get(t)).pipe(vn.iC)}}const yB=new l.OlP("angularfire2.enableFirestorePersistence"),bB=new l.OlP("angularfire2.firestore.persistenceSettings"),P6=new l.OlP("angularfire2.firestore.settings"),R6=new l.OlP("angularfire2.firestore.use-emulator");function CB(n,t=(e=>e)){return{query:t(n),ref:n}}let wB=(()=>{class n{constructor(e,i,r,o,c,d,p,v,M,E,O,R,V,Z,re,Pe,Re){this.schedulers=p;const We=(0,nr.on)(e,d,i),Le=M;E&&GP(We,d,O,V,Z,re,R,Pe),[this.firestore,this.persistenceEnabled$]=(0,nr.cc)(`${We.name}.firestore`,"AngularFirestore",We.name,()=>{const St=d.runOutsideAngular(()=>We.firestore());if(o&&St.settings(o),Le&&St.useEmulator(...Le),r&&!Bi(c)){const xt=()=>{try{return(0,Pn.D)(St.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(Un){return"undefined"!=typeof console&&console.warn(Un),et(!1)}};return[St,d.runOutsideAngular(xt)]}return[St,et(!1)]},[o,Le,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:c}=CB(r,i),d=this.schedulers.ngZone.run(()=>o);return new _B(d,c,this)}collectionGroup(e,i){const r=i||(c=>c),o=this.firestore.collectionGroup(e);return new A6(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new vB(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(nr.Dh),l.LFG(nr.xv,8),l.LFG(yB,8),l.LFG(P6,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(vn.HU),l.LFG(bB,8),l.LFG(R6,8),l.LFG($P,8),l.LFG(BP,8),l.LFG(VP,8),l.LFG(UP,8),l.LFG(HP,8),l.LFG(jP,8),l.LFG(zP,8),l.LFG(ev,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),F6=(()=>{class n{constructor(){R0.Z.registerVersion("angularfire",vn.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:yB,useValue:!0},{provide:bB,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[wB]}),n})();const N6=new l.OlP("cdk-dir-doc",{providedIn:"root",factory:function L6(){return(0,l.f3M)(J)}}),B6=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let ZP,Uf=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new l.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function V6(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?B6.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(N6,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();try{ZP="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){ZP=!1}let gw,rm,YP,Zs=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function hr(n){return n===Ms}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ZP)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.Lbi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Hf(n){return function U6(){if(null==gw&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>gw=!0}))}finally{gw=gw||!1}return gw}()?n:!!n.capture}function H6(){if(null==rm){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return rm=!1,rm;if("scrollBehavior"in document.documentElement.style)rm=!0;else{const n=Element.prototype.scrollTo;rm=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return rm}function EB(n){if(function j6(){if(null==YP){const n="undefined"!=typeof document?document.head:null;YP=!(!n||!n.createShadowRoot&&!n.attachShadow)}return YP}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function KP(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function jf(n){return n.composedPath?n.composedPath()[0]:n.target}function QP(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}var nR=L(5032);function lo(n){return(0,di.e)((t,e)=>{(0,Bo.Xf)(n).subscribe((0,Mn.x)(e,()=>e.complete(),nR.Z)),!e.closed&&t.subscribe(e)})}function $t(n){return null!=n&&"false"!=`${n}`}function Ys(n,t=0){return function tG(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function AB(n){return Array.isArray(n)?n:[n]}function Or(n){return null==n?"":"string"==typeof n?n:`${n}px`}function om(n){return n instanceof l.SBq?n.nativeElement:n}let PB=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[PB]}),n})(),BB=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function aG(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function sG(n){try{return n.frameElement}catch(t){return null}}(function gG(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===UB(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=UB(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function fG(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function pG(n){return!function cG(n){return function dG(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function lG(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function uG(n){return function hG(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||VB(n))}(e)&&!this.isDisabled(e)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Zs))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function VB(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function UB(n){if(!VB(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class mG{constructor(t,e,i,r,o=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return null==i||i.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe((0,Si.q)(1)).subscribe(t)}}let _G=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new mG(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(BB),l.LFG(l.R0b),l.LFG(J))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function HB(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function jB(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const vG=new l.OlP("cdk-input-modality-detector-options"),yG={ignoreKeys:[18,17,224,91,16]},hy=Hf({passive:!0,capture:!0});let bG=(()=>{class n{constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new Ui(null),this._lastTouchMs=0,this._onKeydown=c=>{var d,p;(null===(p=null===(d=this._options)||void 0===d?void 0:d.ignoreKeys)||void 0===p?void 0:p.some(v=>v===c.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=jf(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(HB(c)?"keyboard":"mouse"),this._mostRecentTarget=jf(c))},this._onTouchstart=c=>{jB(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=jf(c))},this._options=Object.assign(Object.assign({},yG),o),this.modalityDetected=this._modality.pipe(function eG(n){return Fn((t,e)=>n<=e)}(1)),this.modalityChanged=this.modalityDetected.pipe(L0()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,hy),r.addEventListener("mousedown",this._onMousedown,hy),r.addEventListener("touchstart",this._onTouchstart,hy)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,hy),document.removeEventListener("mousedown",this._onMousedown,hy),document.removeEventListener("touchstart",this._onTouchstart,hy))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Zs),l.LFG(l.R0b),l.LFG(J),l.LFG(vG,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wG=new l.OlP("cdk-focus-monitor-default-options"),BS=Hf({passive:!0,capture:!0});let zf=(()=>{class n{constructor(e,i,r,o,c){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ft.x,this._rootNodeFocusAndBlurListener=d=>{const p=jf(d),v="focus"===d.type?this._onFocus:this._onBlur;for(let M=p;M;M=M.parentElement)v.call(this,d,M)},this._document=o,this._detectionMode=(null==c?void 0:c.detectionMode)||0}monitor(e,i=!1){const r=om(e);if(!this._platform.isBrowser||1!==r.nodeType)return et(null);const o=EB(r)||this._getDocument(),c=this._elementInfo.get(r);if(c)return i&&(c.checkChildren=!0),c.subject;const d={checkChildren:i,subject:new ft.x,rootNode:o};return this._elementInfo.set(r,d),this._registerGlobalListeners(d),d.subject}stopMonitoring(e){const i=om(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=om(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([d,p])=>this._originChanged(d,i,p)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=jf(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,BS),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,BS)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(lo(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,BS),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,BS),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.R0b),l.LFG(Zs),l.LFG(bG),l.LFG(J,8),l.LFG(wG,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const GB="cdk-high-contrast-black-on-white",$B="cdk-high-contrast-white-on-black",iR="cdk-high-contrast-active";let qB=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(iR),e.remove(GB),e.remove($B),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(iR),e.add(GB)):2===i&&(e.add(iR),e.add($B))}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Zs),l.LFG(J))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),VS=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(qB))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[vw]]}),n})();class WB{}const Nd="*";function qi(n,t){return{type:7,name:n,definitions:t,options:{}}}function bn(n,t=null){return{type:4,styles:t,timings:n}}function ZB(n,t=null){return{type:2,steps:n,options:t}}function nt(n){return{type:6,styles:n,offset:null}}function Qt(n,t,e){return{type:0,name:n,styles:t,options:e}}function dn(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function QB(n){Promise.resolve(null).then(n)}class yw{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){QB(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class XB{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?QB(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++e==o&&this._onFinish()}),c.onDestroy(()=>{++i==o&&this._onDestroy()}),c.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((c,d)=>Math.max(c,d.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const hn=!1;function JB(n){return new l.vHH(3e3,hn)}function r$(){return"undefined"!=typeof window&&void 0!==window.document}function oR(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Gf(n){switch(n.length){case 0:return new yw;case 1:return n[0];default:return new XB(n)}}function eV(n,t,e,i,r={},o={}){const c=[],d=[];let p=-1,v=null;if(i.forEach(M=>{const E=M.offset,O=E==p,R=O&&v||{};Object.keys(M).forEach(V=>{let Z=V,re=M[V];if("offset"!==V)switch(Z=t.normalizePropertyName(Z,c),re){case"!":re=r[V];break;case Nd:re=o[V];break;default:re=t.normalizeStyleValue(V,Z,re,c)}R[Z]=re}),O||d.push(R),v=R,p=E}),c.length)throw function WG(n){return new l.vHH(3502,hn)}();return d}function sR(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&aR(e,"start",n)));break;case"done":n.onDone(()=>i(e&&aR(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&aR(e,"destroy",n)))}}function aR(n,t,e){const i=e.totalTime,o=lR(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),c=n._data;return null!=c&&(o._data=c),o}function lR(n,t,e,i,r="",o=0,c){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!c}}function Ma(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function tV(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let cR=(n,t)=>!1,nV=(n,t,e)=>[],iV=null;function uR(n){const t=n.parentNode||n.host;return t===iV?null:t}(oR()||"undefined"!=typeof Element)&&(r$()?(iV=(()=>document.documentElement)(),cR=(n,t)=>{for(;t;){if(t===n)return!0;t=uR(t)}return!1}):cR=(n,t)=>n.contains(t),nV=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let am=null,rV=!1;function oV(n){am||(am=function s$(){return"undefined"!=typeof document?document.body:null}()||{},rV=!!am.style&&"WebkitAppearance"in am.style);let t=!0;return am.style&&!function o$(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in am.style,!t&&rV&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in am.style)),t}const sV=cR,aV=nV;let lV=(()=>{class n{validateStyleProperty(e){return oV(e)}matchesElement(e,i){return!1}containsElement(e,i){return sV(e,i)}getParentElement(e){return uR(e)}query(e,i,r){return aV(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,c,d=[],p){return new yw(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),dR=(()=>{class n{}return n.NOOP=new lV,n})();const hR="ng-enter",HS="ng-leave",jS="ng-trigger",zS=".ng-trigger",uV="ng-animating",fR=".ng-animating";function lm(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:pR(parseFloat(t[1]),t[2])}function pR(n,t){return"s"===t?1e3*n:n}function GS(n,t,e){return n.hasOwnProperty("duration")?n:function c$(n,t,e){let r,o=0,c="";if("string"==typeof n){const d=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===d)return t.push(JB()),{duration:0,delay:0,easing:""};r=pR(parseFloat(d[1]),d[2]);const p=d[3];null!=p&&(o=pR(parseFloat(p),d[4]));const v=d[5];v&&(c=v)}else r=n;if(!e){let d=!1,p=t.length;r<0&&(t.push(function xG(){return new l.vHH(3100,hn)}()),d=!0),o<0&&(t.push(function EG(){return new l.vHH(3101,hn)}()),d=!0),d&&t.splice(p,0,JB())}return{duration:r,delay:o,easing:c}}(n,t,e)}function fy(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function $f(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else fy(n,e);return e}function hV(n,t,e){return e?t+":"+e+";":""}function fV(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=hV(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=hV(0,h$(e),n.style[e]));n.setAttribute("style",t)}function Qc(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=mR(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),oR()&&fV(n))}function cm(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=mR(e);n.style[i]=""}),oR()&&fV(n))}function bw(n){return Array.isArray(n)?1==n.length?n[0]:ZB(n):n}const gR=new RegExp("{{\\s*(.+?)\\s*}}","g");function pV(n){let t=[];if("string"==typeof n){let e;for(;e=gR.exec(n);)t.push(e[1]);gR.lastIndex=0}return t}function $S(n,t,e){const i=n.toString(),r=i.replace(gR,(o,c)=>{let d=t[c];return t.hasOwnProperty(c)||(e.push(function SG(n){return new l.vHH(3003,hn)}()),d=""),d.toString()});return r==i?n:r}function qS(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const d$=/-+([a-z0-9])/g;function mR(n){return n.replace(d$,(...t)=>t[1].toUpperCase())}function h$(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function xa(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function TG(n){return new l.vHH(3004,hn)}()}}function gV(n,t){return window.getComputedStyle(n)[t]}function g$(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function m$(n,t,e){if(":"==n[0]){const p=function _$(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function zG(n){return new l.vHH(3016,hn)}()),"* => *"}}(n,e);if("function"==typeof p)return void t.push(p);n=p}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function jG(n){return new l.vHH(3015,hn)}()),t;const r=i[1],o=i[2],c=i[3];t.push(mV(r,c));"<"==o[0]&&!("*"==r&&"*"==c)&&t.push(mV(c,r))}(i,e,t)):e.push(n),e}const ZS=new Set(["true","1"]),YS=new Set(["false","0"]);function mV(n,t){const e=ZS.has(n)||YS.has(n),i=ZS.has(t)||YS.has(t);return(r,o)=>{let c="*"==n||n==r,d="*"==t||t==o;return!c&&e&&"boolean"==typeof r&&(c=r?ZS.has(n):YS.has(n)),!d&&i&&"boolean"==typeof o&&(d=o?ZS.has(t):YS.has(t)),c&&d}}const v$=new RegExp("s*:selfs*,?","g");function _R(n,t,e){return new y$(n).build(t,e)}class y${constructor(t){this._driver=t}build(t,e){const i=new w$(e);return this._resetContextStyleTimingState(i),xa(this,bw(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],c=[];return"@"==t.name.charAt(0)&&e.errors.push(function OG(){return new l.vHH(3006,hn)}()),t.definitions.forEach(d=>{if(this._resetContextStyleTimingState(e),0==d.type){const p=d,v=p.name;v.toString().split(/\s*,\s*/).forEach(M=>{p.name=M,o.push(this.visitState(p,e))}),p.name=v}else if(1==d.type){const p=this.visitTransition(d,e);i+=p.queryCount,r+=p.depCount,c.push(p)}else e.errors.push(function kG(){return new l.vHH(3007,hn)}())}),{type:7,name:t.name,states:o,transitions:c,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,c=r||{};i.styles.forEach(d=>{if(KS(d)){const p=d;Object.keys(p).forEach(v=>{pV(p[v]).forEach(M=>{c.hasOwnProperty(M)||o.add(M)})})}}),o.size&&(qS(o.values()),e.errors.push(function AG(n,t){return new l.vHH(3008,hn)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=xa(this,bw(t.animation),e);return{type:1,matchers:g$(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:um(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>xa(this,i,e)),options:um(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(c=>{e.currentTime=i;const d=xa(this,c,e);return r=Math.max(r,e.currentTime),d});return e.currentTime=r,{type:3,steps:o,options:um(t.options)}}visitAnimate(t,e){const i=function x$(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return vR(GS(n,t).duration,0,"");const i=n;if(i.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=vR(0,0,"");return o.dynamic=!0,o.strValue=i,o}return e=e||GS(i,t),vR(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:nt({});if(5==o.type)r=this.visitKeyframes(o,e);else{let c=t.styles,d=!1;if(!c){d=!0;const v={};i.easing&&(v.easing=i.easing),c=nt(v)}e.currentTime+=i.duration+i.delay;const p=this.visitStyle(c,e);p.isEmptyStep=d,r=p}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(c=>{"string"==typeof c?c==Nd?i.push(c):e.errors.push(function PG(n){return new l.vHH(3002,hn)}()):i.push(c)}):i.push(t.styles);let r=!1,o=null;return i.forEach(c=>{if(KS(c)){const d=c,p=d.easing;if(p&&(o=p,delete d.easing),!r)for(let v in d)if(d[v].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:o,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(c=>{"string"!=typeof c&&Object.keys(c).forEach(d=>{if(!this._driver.validateStyleProperty(d))return void e.errors.push(function RG(n){return new l.vHH(3009,hn)}());const p=e.collectedStyles[e.currentQuerySelector],v=p[d];let M=!0;v&&(o!=r&&o>=v.startTime&&r<=v.endTime&&(e.errors.push(function FG(n,t,e,i,r){return new l.vHH(3010,hn)}()),M=!1),o=v.startTime),M&&(p[d]={startTime:o,endTime:r}),e.options&&function u$(n,t,e){const i=t.params||{},r=pV(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function DG(n){return new l.vHH(3001,hn)}())})}(c[d],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function NG(){return new l.vHH(3011,hn)}()),i;let o=0;const c=[];let d=!1,p=!1,v=0;const M=t.steps.map(Pe=>{const Re=this._makeStyleAst(Pe,e);let We=null!=Re.offset?Re.offset:function M$(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(KS(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(KS(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(Re.styles),Le=0;return null!=We&&(o++,Le=Re.offset=We),p=p||Le<0||Le>1,d=d||Le<v,v=Le,c.push(Le),Re});p&&e.errors.push(function LG(){return new l.vHH(3012,hn)}()),d&&e.errors.push(function BG(){return new l.vHH(3200,hn)}());const E=t.steps.length;let O=0;o>0&&o<E?e.errors.push(function VG(){return new l.vHH(3202,hn)}()):0==o&&(O=1/(E-1));const R=E-1,V=e.currentTime,Z=e.currentAnimateTimings,re=Z.duration;return M.forEach((Pe,Re)=>{const We=O>0?Re==R?1:O*Re:c[Re],Le=We*re;e.currentTime=V+Z.delay+Le,Z.duration=Le,this._validateStyleAst(Pe,e),Pe.offset=We,i.styles.push(Pe)}),i}visitReference(t,e){return{type:8,animation:xa(this,bw(t.animation),e),options:um(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:um(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:um(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,c]=function b$(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(v$,"")),n=n.replace(/@\*/g,zS).replace(/@\w+/g,e=>zS+"-"+e.substr(1)).replace(/:animating/g,fR),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,Ma(e.collectedStyles,e.currentQuerySelector,{});const d=xa(this,bw(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:d,originalSelector:t.selector,options:um(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function UG(){return new l.vHH(3013,hn)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:GS(t.timings,e.errors,!0);return{type:12,animation:xa(this,bw(t.animation),e),timings:i,options:null}}}class w${constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function KS(n){return!Array.isArray(n)&&"object"==typeof n}function um(n){return n?(n=fy(n)).params&&(n.params=function C$(n){return n?fy(n):null}(n.params)):n={},n}function vR(n,t,e){return{duration:n,delay:t,easing:e}}function yR(n,t,e,i,r,o,c=null,d=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:c,subTimeline:d}}class QS{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const S$=new RegExp(":enter","g"),I$=new RegExp(":leave","g");function bR(n,t,e,i,r,o={},c={},d,p,v=[]){return(new O$).buildKeyframes(n,t,e,i,r,o,c,d,p,v)}class O${buildKeyframes(t,e,i,r,o,c,d,p,v,M=[]){v=v||new QS;const E=new CR(t,e,v,r,o,M,[]);E.options=p,E.currentTimeline.setStyles([c],null,E.errors,p),xa(this,i,E);const O=E.timelines.filter(R=>R.containsAnimation());if(Object.keys(d).length){let R;for(let V=O.length-1;V>=0;V--){const Z=O[V];if(Z.element===e){R=Z;break}}R&&!R.allowOnlyTimelineStyles()&&R.setStyles([d],null,E.errors,p)}return O.length?O.map(R=>R.buildKeyframes()):[yR(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);o!=c&&e.transformIntoNewTimeline(c)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const c=null!=i.duration?lm(i.duration):null,d=null!=i.delay?lm(i.delay):null;return 0!==c&&t.forEach(p=>{const v=e.appendInstructionToTimeline(p,c,d);o=Math.max(o,v.duration+v.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),xa(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=XS);const c=lm(o.delay);r.delayNextStep(c)}t.steps.length&&(t.steps.forEach(c=>xa(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?lm(t.options.delay):0;t.steps.forEach(c=>{const d=e.createSubContext(t.options);o&&d.delayNextStep(o),xa(this,c,d),r=Math.max(r,d.currentTimeline.currentTime),i.push(d.currentTimeline)}),i.forEach(c=>e.currentTimeline.mergeTimelineCollectedStyles(c)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return GS(e.params?$S(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,d=e.createSubContext().currentTimeline;d.easing=i.easing,t.styles.forEach(p=>{d.forwardTime((p.offset||0)*o),d.setStyles(p.styles,p.easing,e.errors,e.options),d.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(d),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?lm(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=XS);let c=i;const d=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=d.length;let p=null;d.forEach((v,M)=>{e.currentQueryIndex=M;const E=e.createSubContext(t.options,v);o&&E.delayNextStep(o),v===e.element&&(p=E.currentTimeline),xa(this,t.animation,E),E.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,E.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(c),p&&(e.currentTimeline.mergeTimelineCollectedStyles(p),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,c=Math.abs(o.duration),d=c*(e.currentQueryTotal-1);let p=c*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":p=d-p;break;case"full":p=i.currentStaggerTime}const M=e.currentTimeline;p&&M.delayNextStep(p);const E=M.currentTime;xa(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-E+(r.startTime-i.currentTimeline.startTime)}}const XS={};class CR{constructor(t,e,i,r,o,c,d,p){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=c,this.timelines=d,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=XS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new JS(this._driver,e,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=lm(i.duration)),null!=i.delay&&(r.delay=lm(i.delay));const o=i.params;if(o){let c=r.params;c||(c=this.options.params={}),Object.keys(o).forEach(d=>{(!e||!c.hasOwnProperty(d))&&(c[d]=$S(o[d],c,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new CR(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=XS,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},o=new k$(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,c){let d=[];if(r&&d.push(this.element),t.length>0){t=(t=t.replace(S$,"."+this._enterClassName)).replace(I$,"."+this._leaveClassName);let v=this._driver.query(this.element,t,1!=i);0!==i&&(v=i<0?v.slice(v.length+i,v.length):v.slice(0,i)),d.push(...v)}return!o&&0==d.length&&c.push(function HG(n){return new l.vHH(3014,hn)}()),d}}class JS{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new JS(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Nd,this._currentKeyframe[e]=Nd}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const o=r&&r.params||{},c=function A$(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(o=>{e[o]=Nd})):$f(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(c).forEach(d=>{const p=$S(c[d],o,i);this._pendingStyles[d]=p,this._localTimelineStyles.hasOwnProperty(d)||(this._backFill[d]=this._globalTimelineStyles.hasOwnProperty(d)?this._globalTimelineStyles[d]:Nd),this._updateStyle(d,p)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((d,p)=>{const v=$f(d,!0);Object.keys(v).forEach(M=>{const E=v[M];"!"==E?t.add(M):E==Nd&&e.add(M)}),i||(v.offset=p/this.duration),r.push(v)});const o=t.size?qS(t.values()):[],c=e.size?qS(e.values()):[];if(i){const d=r[0],p=fy(d);d.offset=0,p.offset=1,r=[d,p]}return yR(this.element,r,o,c,this.duration,this.startTime,this.easing,!1)}}class k$ extends JS{constructor(t,e,i,r,o,c,d=!1){super(t,e,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=d,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],c=i+e,d=e/c,p=$f(t[0],!1);p.offset=0,o.push(p);const v=$f(t[0],!1);v.offset=yV(d),o.push(v);const M=t.length-1;for(let E=1;E<=M;E++){let O=$f(t[E],!1);O.offset=yV((e+O.offset*i)/c),o.push(O)}i=c,e=0,r="",t=o}return yR(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function yV(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class wR{}class P$ extends wR{normalizePropertyName(t,e){return mR(t)}normalizeStyleValue(t,e,i,r){let o="";const c=i.toString().trim();if(R$[e]&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const d=i.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&0==d[1].length&&r.push(function IG(n,t){return new l.vHH(3005,hn)}())}return c+o}}const R$=(()=>function F$(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function bV(n,t,e,i,r,o,c,d,p,v,M,E,O){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:c,timelines:d,queriedElements:p,preStyleProps:v,postStyleProps:M,totalTime:E,errors:O}}const MR={};class CV{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function N$(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],o=this._stateStyles[t],c=r?r.buildStyles(e,i):{};return o?o.buildStyles(e,i):c}build(t,e,i,r,o,c,d,p,v,M){const E=[],O=this.ast.options&&this.ast.options.params||MR,V=this.buildStyles(i,d&&d.params||MR,E),Z=p&&p.params||MR,re=this.buildStyles(r,Z,E),Pe=new Set,Re=new Map,We=new Map,Le="void"===r,St={params:Object.assign(Object.assign({},O),Z)},xt=M?[]:bR(t,e,this.ast.animation,o,c,V,re,St,v,E);let Un=0;if(xt.forEach(lr=>{Un=Math.max(lr.duration+lr.delay,Un)}),E.length)return bV(e,this._triggerName,i,r,Le,V,re,[],[],Re,We,Un,E);xt.forEach(lr=>{const jn=lr.element,ai=Ma(Re,jn,{});lr.preStyleProps.forEach(Sm=>ai[Sm]=!0);const fl=Ma(We,jn,{});lr.postStyleProps.forEach(Sm=>fl[Sm]=!0),jn!==e&&Pe.add(jn)});const Hn=qS(Pe.values());return bV(e,this._triggerName,i,r,Le,V,re,xt,Hn,Re,We,Un)}}class L${constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=fy(this.defaultParams);return Object.keys(t).forEach(o=>{const c=t[o];null!=c&&(r[o]=c)}),this.styles.styles.forEach(o=>{if("string"!=typeof o){const c=o;Object.keys(c).forEach(d=>{let p=c[d];p.length>1&&(p=$S(p,r,e));const v=this.normalizer.normalizePropertyName(d,e);p=this.normalizer.normalizeStyleValue(d,v,p,e),i[v]=p})}}),i}}class V${constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new L$(r.style,r.options&&r.options.params||{},i)}),wV(this.states,"true","1"),wV(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new CV(t,r,this.states))}),this.fallbackTransition=function U$(n,t,e){return new CV(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,d)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(c=>c.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function wV(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const H$=new QS;class j${constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],r=_R(this._driver,e,i);if(i.length)throw function ZG(n){return new l.vHH(3503,hn)}();this._animations[t]=r}_buildPlayer(t,e,i){const r=t.element,o=eV(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations[t];let c;const d=new Map;if(o?(c=bR(this._driver,e,o,hR,HS,{},{},i,H$,r),c.forEach(M=>{const E=Ma(d,M.element,{});M.postStyleProps.forEach(O=>E[O]=null)})):(r.push(function YG(){return new l.vHH(3300,hn)}()),c=[]),r.length)throw function KG(n){return new l.vHH(3504,hn)}();d.forEach((M,E)=>{Object.keys(M).forEach(O=>{M[O]=this._driver.computeStyle(E,O,Nd)})});const v=Gf(c.map(M=>{const E=d.get(M.element);return this._buildPlayer(M,{},E)}));return this._playersById[t]=v,v.onDestroy(()=>this.destroy(t)),this.players.push(v),v}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function QG(n){return new l.vHH(3301,hn)}();return e}listen(t,e,i,r){const o=lR(e,"","","");return sR(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const MV="ng-animate-queued",xR="ng-animate-disabled",W$=[],xV={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Z$={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},rl="__ng_removed";class ER{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function X$(n){return null!=n?n:null}(i?t.value:t),i){const o=fy(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Cw="void",DR=new ER(Cw);class Y${constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ol(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw function XG(n,t){return new l.vHH(3302,hn)}();if(null==i||0==i.length)throw function JG(n){return new l.vHH(3303,hn)}();if(!function J$(n){return"start"==n||"done"==n}(i))throw function e$(n,t){return new l.vHH(3400,hn)}();const o=Ma(this._elementListeners,t,[]),c={name:e,phase:i,callback:r};o.push(c);const d=Ma(this._engine.statesByElement,t,{});return d.hasOwnProperty(e)||(ol(t,jS),ol(t,jS+"-"+e),d[e]=DR),()=>{this._engine.afterFlush(()=>{const p=o.indexOf(c);p>=0&&o.splice(p,1),this._triggers[e]||delete d[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function t$(n){return new l.vHH(3401,hn)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),c=new SR(this.id,e,t);let d=this._engine.statesByElement.get(t);d||(ol(t,jS),ol(t,jS+"-"+e),this._engine.statesByElement.set(t,d={}));let p=d[e];const v=new ER(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&p&&v.absorbOptions(p.options),d[e]=v,p||(p=DR),v.value!==Cw&&p.value===v.value){if(!function nq(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(p.params,v.params)){const Z=[],re=o.matchStyles(p.value,p.params,Z),Pe=o.matchStyles(v.value,v.params,Z);Z.length?this._engine.reportError(Z):this._engine.afterFlush(()=>{cm(t,re),Qc(t,Pe)})}return}const O=Ma(this._engine.playersByElement,t,[]);O.forEach(Z=>{Z.namespaceId==this.id&&Z.triggerName==e&&Z.queued&&Z.destroy()});let R=o.matchTransition(p.value,v.value,t,v.params),V=!1;if(!R){if(!r)return;R=o.fallbackTransition,V=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:R,fromState:p,toState:v,player:c,isFallbackTransition:V}),V||(ol(t,MV),c.onStart(()=>{py(t,MV)})),c.onDone(()=>{let Z=this.players.indexOf(c);Z>=0&&this.players.splice(Z,1);const re=this._engine.playersByElement.get(t);if(re){let Pe=re.indexOf(c);Pe>=0&&re.splice(Pe,1)}}),this.players.push(c),O.push(c),c}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,zS,!0);i.forEach(r=>{if(r[rl])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(c=>c.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),c=new Map;if(o){const d=[];if(Object.keys(o).forEach(p=>{if(c.set(p,o[p].value),this._triggers[p]){const v=this.trigger(t,p,Cw,r);v&&d.push(v)}}),d.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,c),i&&Gf(d).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const c=o.name;if(r.has(c))return;r.add(c);const p=this._triggers[c].fallbackTransition,v=i[c]||DR,M=new ER(Cw),E=new SR(this.id,c,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:c,transition:p,fromState:v,toState:M,player:E,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let c=t;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[rl];(!o||o===xV)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){ol(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,c=this._elementListeners.get(o);c&&c.forEach(d=>{if(d.name==i.triggerName){const p=lR(o,i.triggerName,i.fromState.value,i.toState.value);p._data=t,sR(i.player,d.phase,p,d.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==o||0==c?o-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class K${constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new Y$(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement,o=i.length-1;if(o>=0){let c=!1;if(void 0!==this.driver.getParentElement){let d=this.driver.getParentElement(e);for(;d;){const p=r.get(d);if(p){const v=i.indexOf(p);i.splice(v+1,0,t),c=!0;break}d=this.driver.getParentElement(d)}}else for(let d=o;d>=0;d--)if(this.driver.containsElement(i[d].hostElement,e)){i.splice(d+1,0,t),c=!0;break}c||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let o=0;o<r.length;o++){const c=i[r[o]].namespaceId;if(c){const d=this._fetchNamespace(c);d&&e.add(d)}}}return e}trigger(t,e,i,r){if(eT(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!eT(e))return;const o=e[rl];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const c=this.collectedLeaveElements.indexOf(e);c>=0&&this.collectedLeaveElements.splice(c,1)}if(t){const c=this._fetchNamespace(t);c&&c.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ol(t,xR)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),py(t,xR))}removeNode(t,e,i,r){if(eT(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const c=this.namespacesByHostElement.get(e);c&&c.id!==t&&c.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[rl]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return eT(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,zS,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,fR,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Gf(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[rl];if(i&&i.setForRemoval){if(t[rl]=xV,i.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(xR))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)ol(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Gf(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function n$(n){return new l.vHH(3402,hn)}()}_flushAnimations(t,e){const i=new QS,r=[],o=new Map,c=[],d=new Map,p=new Map,v=new Map,M=new Set;this.disabledNodes.forEach(gt=>{M.add(gt);const Ot=this.driver.query(gt,".ng-animate-queued",!0);for(let Nt=0;Nt<Ot.length;Nt++)M.add(Ot[Nt])});const E=this.bodyNode,O=Array.from(this.statesByElement.keys()),R=SV(O,this.collectedEnterElements),V=new Map;let Z=0;R.forEach((gt,Ot)=>{const Nt=hR+Z++;V.set(Ot,Nt),gt.forEach(Dn=>ol(Dn,Nt))});const re=[],Pe=new Set,Re=new Set;for(let gt=0;gt<this.collectedLeaveElements.length;gt++){const Ot=this.collectedLeaveElements[gt],Nt=Ot[rl];Nt&&Nt.setForRemoval&&(re.push(Ot),Pe.add(Ot),Nt.hasAnimation?this.driver.query(Ot,".ng-star-inserted",!0).forEach(Dn=>Pe.add(Dn)):Re.add(Ot))}const We=new Map,Le=SV(O,Array.from(Pe));Le.forEach((gt,Ot)=>{const Nt=HS+Z++;We.set(Ot,Nt),gt.forEach(Dn=>ol(Dn,Nt))}),t.push(()=>{R.forEach((gt,Ot)=>{const Nt=V.get(Ot);gt.forEach(Dn=>py(Dn,Nt))}),Le.forEach((gt,Ot)=>{const Nt=We.get(Ot);gt.forEach(Dn=>py(Dn,Nt))}),re.forEach(gt=>{this.processLeaveNode(gt)})});const St=[],xt=[];for(let gt=this._namespaceList.length-1;gt>=0;gt--)this._namespaceList[gt].drainQueuedTransitions(e).forEach(Nt=>{const Dn=Nt.player,ho=Nt.element;if(St.push(Dn),this.collectedEnterElements.length){const gs=ho[rl];if(gs&&gs.setForMove){if(gs.previousTriggersValues&&gs.previousTriggersValues.has(Nt.triggerName)){const Tm=gs.previousTriggersValues.get(Nt.triggerName),ap=this.statesByElement.get(Nt.element);ap&&ap[Nt.triggerName]&&(ap[Nt.triggerName].value=Tm)}return void Dn.destroy()}}const ou=!E||!this.driver.containsElement(E,ho),Da=We.get(ho),sp=V.get(ho),Pi=this._buildInstruction(Nt,i,sp,Da,ou);if(Pi.errors&&Pi.errors.length)return void xt.push(Pi);if(ou)return Dn.onStart(()=>cm(ho,Pi.fromStyles)),Dn.onDestroy(()=>Qc(ho,Pi.toStyles)),void r.push(Dn);if(Nt.isFallbackTransition)return Dn.onStart(()=>cm(ho,Pi.fromStyles)),Dn.onDestroy(()=>Qc(ho,Pi.toStyles)),void r.push(Dn);const R3=[];Pi.timelines.forEach(gs=>{gs.stretchStartingKeyframe=!0,this.disabledNodes.has(gs.element)||R3.push(gs)}),Pi.timelines=R3,i.append(ho,Pi.timelines),c.push({instruction:Pi,player:Dn,element:ho}),Pi.queriedElements.forEach(gs=>Ma(d,gs,[]).push(Dn)),Pi.preStyleProps.forEach((gs,Tm)=>{const ap=Object.keys(gs);if(ap.length){let Im=p.get(Tm);Im||p.set(Tm,Im=new Set),ap.forEach(OF=>Im.add(OF))}}),Pi.postStyleProps.forEach((gs,Tm)=>{const ap=Object.keys(gs);let Im=v.get(Tm);Im||v.set(Tm,Im=new Set),ap.forEach(OF=>Im.add(OF))})});if(xt.length){const gt=[];xt.forEach(Ot=>{gt.push(function i$(n,t){return new l.vHH(3505,hn)}())}),St.forEach(Ot=>Ot.destroy()),this.reportError(gt)}const Un=new Map,Hn=new Map;c.forEach(gt=>{const Ot=gt.element;i.has(Ot)&&(Hn.set(Ot,Ot),this._beforeAnimationBuild(gt.player.namespaceId,gt.instruction,Un))}),r.forEach(gt=>{const Ot=gt.element;this._getPreviousPlayers(Ot,!1,gt.namespaceId,gt.triggerName,null).forEach(Dn=>{Ma(Un,Ot,[]).push(Dn),Dn.destroy()})});const lr=re.filter(gt=>IV(gt,p,v)),jn=new Map;DV(jn,this.driver,Re,v,Nd).forEach(gt=>{IV(gt,p,v)&&lr.push(gt)});const fl=new Map;R.forEach((gt,Ot)=>{DV(fl,this.driver,new Set(gt),p,"!")}),lr.forEach(gt=>{const Ot=jn.get(gt),Nt=fl.get(gt);jn.set(gt,Object.assign(Object.assign({},Ot),Nt))});const Sm=[],A3=[],P3={};c.forEach(gt=>{const{element:Ot,player:Nt,instruction:Dn}=gt;if(i.has(Ot)){if(M.has(Ot))return Nt.onDestroy(()=>Qc(Ot,Dn.toStyles)),Nt.disabled=!0,Nt.overrideTotalTime(Dn.totalTime),void r.push(Nt);let ho=P3;if(Hn.size>1){let Da=Ot;const sp=[];for(;Da=Da.parentNode;){const Pi=Hn.get(Da);if(Pi){ho=Pi;break}sp.push(Da)}sp.forEach(Pi=>Hn.set(Pi,ho))}const ou=this._buildAnimation(Nt.namespaceId,Dn,Un,o,fl,jn);if(Nt.setRealPlayer(ou),ho===P3)Sm.push(Nt);else{const Da=this.playersByElement.get(ho);Da&&Da.length&&(Nt.parentPlayer=Gf(Da)),r.push(Nt)}}else cm(Ot,Dn.fromStyles),Nt.onDestroy(()=>Qc(Ot,Dn.toStyles)),A3.push(Nt),M.has(Ot)&&r.push(Nt)}),A3.forEach(gt=>{const Ot=o.get(gt.element);if(Ot&&Ot.length){const Nt=Gf(Ot);gt.setRealPlayer(Nt)}}),r.forEach(gt=>{gt.parentPlayer?gt.syncPlayerEvents(gt.parentPlayer):gt.destroy()});for(let gt=0;gt<re.length;gt++){const Ot=re[gt],Nt=Ot[rl];if(py(Ot,HS),Nt&&Nt.hasAnimation)continue;let Dn=[];if(d.size){let ou=d.get(Ot);ou&&ou.length&&Dn.push(...ou);let Da=this.driver.query(Ot,fR,!0);for(let sp=0;sp<Da.length;sp++){let Pi=d.get(Da[sp]);Pi&&Pi.length&&Dn.push(...Pi)}}const ho=Dn.filter(ou=>!ou.destroyed);ho.length?eq(this,Ot,ho):this.processLeaveNode(Ot)}return re.length=0,Sm.forEach(gt=>{this.players.push(gt),gt.onDone(()=>{gt.destroy();const Ot=this.players.indexOf(gt);this.players.splice(Ot,1)}),gt.play()}),Sm}elementContainsData(t,e){let i=!1;const r=e[rl];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let c=[];if(e){const d=this.playersByQueriedElement.get(t);d&&(c=d)}else{const d=this.playersByElement.get(t);if(d){const p=!o||o==Cw;d.forEach(v=>{v.queued||!p&&v.triggerName!=r||c.push(v)})}}return(i||r)&&(c=c.filter(d=>!(i&&i!=d.namespaceId||r&&r!=d.triggerName))),c}_beforeAnimationBuild(t,e,i){const o=e.element,c=e.isRemovalTransition?void 0:t,d=e.isRemovalTransition?void 0:e.triggerName;for(const p of e.timelines){const v=p.element,M=v!==o,E=Ma(i,v,[]);this._getPreviousPlayers(v,M,c,d,e.toState).forEach(R=>{const V=R.getRealPlayer();V.beforeDestroy&&V.beforeDestroy(),R.destroy(),E.push(R)})}cm(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,c){const d=e.triggerName,p=e.element,v=[],M=new Set,E=new Set,O=e.timelines.map(V=>{const Z=V.element;M.add(Z);const re=Z[rl];if(re&&re.removedBeforeQueried)return new yw(V.duration,V.delay);const Pe=Z!==p,Re=function tq(n){const t=[];return TV(n,t),t}((i.get(Z)||W$).map(Un=>Un.getRealPlayer())).filter(Un=>!!Un.element&&Un.element===Z),We=o.get(Z),Le=c.get(Z),St=eV(0,this._normalizer,0,V.keyframes,We,Le),xt=this._buildPlayer(V,St,Re);if(V.subTimeline&&r&&E.add(Z),Pe){const Un=new SR(t,d,Z);Un.setRealPlayer(xt),v.push(Un)}return xt});v.forEach(V=>{Ma(this.playersByQueriedElement,V.element,[]).push(V),V.onDone(()=>function Q$(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,V.element,V))}),M.forEach(V=>ol(V,uV));const R=Gf(O);return R.onDestroy(()=>{M.forEach(V=>py(V,uV)),Qc(p,e.toStyles)}),E.forEach(V=>{Ma(r,V,[]).push(R)}),R}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new yw(t.duration,t.delay)}}class SR{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new yw,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>sR(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ma(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function eT(n){return n&&1===n.nodeType}function EV(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function DV(n,t,e,i,r){const o=[];e.forEach(p=>o.push(EV(p)));const c=[];i.forEach((p,v)=>{const M={};p.forEach(E=>{const O=M[E]=t.computeStyle(v,E,r);(!O||0==O.length)&&(v[rl]=Z$,c.push(v))}),n.set(v,M)});let d=0;return e.forEach(p=>EV(p,o[d++])),c}function SV(n,t){const e=new Map;if(n.forEach(d=>e.set(d,[])),0==t.length)return e;const r=new Set(t),o=new Map;function c(d){if(!d)return 1;let p=o.get(d);if(p)return p;const v=d.parentNode;return p=e.has(v)?v:r.has(v)?1:c(v),o.set(d,p),p}return t.forEach(d=>{const p=c(d);1!==p&&e.get(p).push(d)}),e}function ol(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function py(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function eq(n,t,e){Gf(e).onDone(()=>n.processLeaveNode(t))}function TV(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof XB?TV(i.players,t):t.push(i)}}function IV(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class tT{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new K$(t,e,i),this._timelineEngine=new j$(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const c=t+"-"+r;let d=this._triggerCache[c];if(!d){const p=[],v=_R(this._driver,o,p);if(p.length)throw function qG(n,t){return new l.vHH(3404,hn)}();d=function B$(n,t,e){return new V$(n,t,e)}(r,v,this._normalizer),this._triggerCache[c]=d}this._transitionEngine.registerTrigger(e,r,d)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,c]=tV(i);this._timelineEngine.command(o,e,c,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[c,d]=tV(i);return this._timelineEngine.listen(c,e,d,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let rq=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o={}),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Qc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Qc(this._element,this._initialStyles),this._endStyles&&(Qc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(cm(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(cm(this._element,this._endStyles),this._endStyles=null),Qc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function TR(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];oq(r)&&(t=t||{},t[r]=n[r])}return t}function oq(n){return"display"===n||"position"===n}class OV{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:gV(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class sq{validateStyleProperty(t){return oV(t)}matchesElement(t,e){return!1}containsElement(t,e){return sV(t,e)}getParentElement(t){return uR(t)}query(t,e,i){return aV(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,c=[]){const p={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(p.easing=o);const v={},M=c.filter(O=>O instanceof OV);(function f$(n,t){return 0===n||0===t})(i,r)&&M.forEach(O=>{let R=O.currentSnapshot;Object.keys(R).forEach(V=>v[V]=R[V])}),e=function p$(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let o=t[0],c=[];if(i.forEach(d=>{o.hasOwnProperty(d)||c.push(d),o[d]=e[d]}),c.length)for(var r=1;r<t.length;r++){let d=t[r];c.forEach(function(p){d[p]=gV(n,p)})}}return t}(t,e=e.map(O=>$f(O,!1)),v);const E=function iq(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=TR(t[0]),t.length>1&&(i=TR(t[t.length-1]))):t&&(e=TR(t)),e||i?new rq(n,e,i):null}(t,e);return new OV(t,e,p,E)}}let aq=(()=>{class n extends WB{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?ZB(e):e;return kV(this._renderer,null,i,"register",[r]),new lq(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.FYo),l.LFG(J))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class lq extends class MG{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new cq(this._id,t,e||{},this._renderer)}}class cq{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return kV(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function kV(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const AV="@.disabled";let uq=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,c)=>{const d=null==c?void 0:c.parentNode(o);d&&c.removeChild(d,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let M=this._rendererCache.get(o);return M||(M=new PV("",o,this.engine),this._rendererCache.set(o,M)),M}const c=i.id,d=i.id+"-"+this._currentId;this._currentId++,this.engine.register(d,e);const p=M=>{Array.isArray(M)?M.forEach(p):this.engine.registerTrigger(c,d,e,M.name,M)};return i.data.animation.forEach(p),new dq(this,d,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[c,d]=o;c(d)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.FYo),l.LFG(tT),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class PV{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==AV?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class dq extends PV{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==AV?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function hq(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.substr(1),c="";return"@"!=o.charAt(0)&&([o,c]=function fq(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,c,d=>{this.factory.scheduleListenerCallback(d._data||-1,i,d)})}return this.delegate.listen(t,e,i)}}let pq=(()=>{class n extends tT{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(J),l.LFG(dR),l.LFG(wR))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const sl=new l.OlP("AnimationModuleType"),RV=[{provide:WB,useClass:aq},{provide:wR,useFactory:function gq(){return new P$}},{provide:tT,useClass:pq},{provide:l.FYo,useFactory:function mq(n,t,e){return new uq(n,t,e)},deps:[Ln,tT,l.R0b]}],FV=[{provide:dR,useFactory:()=>new sq},{provide:sl,useValue:"BrowserAnimations"},...RV],_q=[{provide:dR,useClass:lV},{provide:sl,useValue:"NoopAnimations"},...RV];let vq=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?_q:FV}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:FV,imports:[Pa]}),n})();const wq=new l.OlP("mat-sanity-checks",{providedIn:"root",factory:function Cq(){return!0}});let lt=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!QP()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(qB),l.LFG(wq,8),l.LFG(J))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[uy],uy]}),n})();function ww(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=$t(t)}}}function gy(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function qf(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=$t(t)}}}const xq=new l.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function Eq(){return(0,l.f3M)(l.soG)}});class Xc{constructor(){this._localeChanges=new ft.x,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const IR=new l.OlP("mat-date-formats"),Dq=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function OR(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let Sq=(()=>{class n extends Xc{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return OR(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return OR(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return OR(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let o=this._createDateWithOverflow(e,i,r);return o.getMonth(),o}today(){return new Date}parse(e){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,Object.assign(Object.assign({},i),{timeZone:"utc"}));return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(Dq.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,r){const o=new Date;return o.setFullYear(e,i,r),o.setHours(0,0,0,0),o}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(xq,8),l.LFG(Zs))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Tq={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let Iq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[{provide:Xc,useClass:Sq}]}),n})(),Oq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[{provide:IR,useValue:Tq}],imports:[[Iq]]}),n})(),iT=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[lt],lt]}),n})();class Pq{constructor(t,e,i){this._renderer=t,this.element=e,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const LV={enterDuration:225,exitDuration:150},kR=Hf({passive:!0}),BV=["mousedown","touchstart"],VV=["mouseup","mouseleave","touchend","touchcancel"];class UV{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=om(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=Object.assign(Object.assign({},LV),i.animation);i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const c=i.radius||function Nq(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),d=t-r.left,p=e-r.top,v=o.enterDuration,M=document.createElement("div");M.classList.add("mat-ripple-element"),M.style.left=d-c+"px",M.style.top=p-c+"px",M.style.height=2*c+"px",M.style.width=2*c+"px",null!=i.color&&(M.style.backgroundColor=i.color),M.style.transitionDuration=`${v}ms`,this._containerElement.appendChild(M),function Fq(n){window.getComputedStyle(n).getPropertyValue("opacity")}(M),M.style.transform="scale(1)";const E=new Pq(this,M,i);return E.state=0,this._activeRipples.add(E),i.persistent||(this._mostRecentTransientRipple=E),this._runTimeoutOutsideZone(()=>{const O=E===this._mostRecentTransientRipple;E.state=1,!i.persistent&&(!O||!this._isPointerDown)&&E.fadeOut()},v),E}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const i=t.element,r=Object.assign(Object.assign({},LV),t.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=om(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(BV))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(VV),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=HB(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!jB(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,kR)})})}_removeTriggerEvents(){this._triggerElement&&(BV.forEach(t=>{this._triggerElement.removeEventListener(t,this,kR)}),this._pointerUpEventsRegistered&&VV.forEach(t=>{this._triggerElement.removeEventListener(t,this,kR)}))}}const HV=new l.OlP("mat-ripple-global-options");let Wf=(()=>{class n{constructor(e,i,r,o,c){this._elementRef=e,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new UV(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(Zs),l.Y36(HV,8),l.Y36(sl,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&l.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Zl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[lt],lt]}),n})(),AR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[lt]]}),n})(),oT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Zl,Nn,lt,AR]]}),n})();const Hq=["mat-button",""],jq=["*"],Gq=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],$q=gy(ww(qf(class{constructor(n){this._elementRef=n}})));let qq=(()=>{class n extends $q{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const o of Gq)this._hasHostAttributes(o)&&this._getHostElement().classList.add(o);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(zf),l.Y36(sl,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&l.Gf(Wf,5),2&e){let r;l.iGM(r=l.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(l.uIk("disabled",i.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:Hq,ngContentSelectors:jq,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(l.F$t(),l.TgZ(0,"span",0),l.Hsn(1),l.qZA(),l._UZ(2,"span",1)(3,"span",2)),2&e&&(l.xp6(2),l.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),l.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[Wf],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),xw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Zl,lt],lt]}),n})();function Wq(n,t){if(1&n&&(l.TgZ(0,"div"),l._UZ(1,"progress",1),l._uU(2),l.ALo(3,"number"),l.qZA()),2&n){const e=t.ngIf;l.xp6(1),l.Q6J("value",e),l.xp6(1),l.hij(" ",l.lcZ(3,2,e),"% ")}}function Zq(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div")(1,"div"),l._uU(2),l.ALo(3,"number"),l.ALo(4,"number"),l.qZA(),l.TgZ(5,"button",2),l.NdJ("click",function(){return l.CHM(e),l.oxw().task.pause()}),l._uU(6,"Pause"),l.qZA(),l.TgZ(7,"button",2),l.NdJ("click",function(){return l.CHM(e),l.oxw().task.cancel()}),l._uU(8,"Cancel"),l.qZA(),l.TgZ(9,"button",2),l.NdJ("click",function(){return l.CHM(e),l.oxw().task.resume()}),l._uU(10,"Resume"),l.qZA()()}if(2&n){const e=t.ngIf,i=l.oxw();l.xp6(2),l.lnq(" ",l.xi3(3,9,e.bytesTransferred/1024,"1.0-1")," of ",l.xi3(4,12,e.totalBytes/1024,"1.0-1")," KB, ",i.files[0].name," "),l.xp6(3),l.Q6J("disabled",!i.isActive(e))("hidden",!i.isActive(e)),l.xp6(2),l.Q6J("disabled",!i.isActive(e))("hidden",!i.isActive(e)),l.xp6(2),l.Q6J("disabled","paused"!==(null==e?null:e.state))("hidden",!i.isActive(e))}}let Yq=(()=>{class n{constructor(e,i){this.storage=e,this.db=i}ngOnInit(){var e;null===(e=this.files)||void 0===e||e.forEach(i=>{this.startUpload(i)})}ngOnChanges(e){var i;e.files.currentValue!==e.files.previousValue&&(this.files=e.files.currentValue,null===(i=this.files)||void 0===i||i.forEach(r=>{this.startUpload(r)}))}startUpload(e){var i=this;if(!e)return;console.log("uploading file",e);let r=e.name.replace(/([^a-z0-9.]+)/gi,""),o=Date.now();const c=o+"_"+r,d="uploads/"+c,p=this.storage.ref(d);this.task=this.storage.upload(d,e),this.percentage=this.task.percentageChanges(),this.snapshot=this.task.snapshotChanges().pipe((0,ti.b)(console.log),Ou((0,Ce.Z)(function*(){i.downloadURL=yield p.getDownloadURL().toPromise(),i.db.collection("files").doc(c).set({storagePath:d,downloadURL:i.downloadURL,originalName:e.name,timestamp:o}).then(function(){console.log("document written!")}).catch(function(v){console.error("Error writing document:",v)})})))}isActive(e){return"running"===e.state&&e.bytesTransferred<e.totalBytes}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(NE),l.Y36(wB))},n.\u0275cmp=l.Xpm({type:n,selectors:[["upload-task"]],inputs:{files:"files"},features:[l.TTD],decls:4,vars:6,consts:[[4,"ngIf"],["max","100",3,"value"],["mat-raised-button","",3,"disabled","hidden","click"]],template:function(e,i){1&e&&(l.YNc(0,Wq,4,4,"div",0),l.ALo(1,"async"),l.YNc(2,Zq,11,15,"div",0),l.ALo(3,"async")),2&e&&(l.Q6J("ngIf",l.lcZ(1,2,i.percentage)),l.xp6(2),l.Q6J("ngIf",l.lcZ(3,4,i.snapshot)))},directives:[dr,qq],pipes:[su,ts],styles:[""]}),n})();function Kq(n,t){1&n&&(l.TgZ(0,"div"),l._uU(1," Uploads "),l._UZ(2,"hr"),l.qZA())}function Qq(n,t){if(1&n&&(l.TgZ(0,"div"),l._UZ(1,"upload-task",4),l.qZA()),2&n){const e=l.oxw();l.xp6(1),l.Q6J("files",e.files)}}let Xq=(()=>{class n{constructor(){this.files$=new ft.x,this.files=[]}ngOnInit(){}toggleHover(e){this.isHovering=e}onDrop(e){let i=e.target.files;if(null!==i){for(let r=0;r<i.length;r++){console.log("uploadManager adding file: ",i.item(r));let o=i.item(r);o&&this.files.push(o)}this.files=this.files.slice()}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["upload-manager"]],decls:9,vars:4,consts:[["lang","en"],["dropzone","",1,"dropzone",3,"hovered","dropped"],["type","file",3,"change"],[4,"ngIf"],[3,"files"]],template:function(e,i){1&e&&(l.TgZ(0,"html",0)(1,"div",1),l.NdJ("hovered",function(o){return i.toggleHover(o)})("dropped",function(o){return i.onDrop(o)}),l.TgZ(2,"h3"),l._uU(3," Drag & Drop files here"),l.qZA(),l.TgZ(4,"div")(5,"label")(6,"input",2),l.NdJ("change",function(o){return i.onDrop(o)}),l.qZA()()()(),l.YNc(7,Kq,3,0,"div",3),l.YNc(8,Qq,2,1,"div",3),l.qZA()),2&e&&(l.xp6(1),l.ekj("hovering",i.isHovering),l.xp6(6),l.Q6J("ngIf",i.files.length>0),l.xp6(1),l.Q6J("ngIf",i.files))},directives:[Hb,dr,Yq],styles:[".dropzone[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;font-weight:200;height:300px;border:10px solid #2465f1;border-radius:5px;background:rgb(255,255,255);color:#084910}.dropzone.hovering[_ngcontent-%COMP%]{border:10px dashed #2465f1}"]}),n})();const Jq=[{path:"",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-home"]],decls:119,vars:0,consts:[["lang","en"],["charset","UTF-8"],["http-equiv","X-UA-Compatible","content","IE=edge"],["name","viewport","content","width=device-width, initial-scale=1.0"],["id","hero"],[1,"hero-container"],["id","heroCarousel","data-bs-interval","5000","data-bs-ride","carousel",1,"carousel","slide","carousel-fade"],["id","hero-carousel-indicators",1,"carousel-indicators"],["role","listbox",1,"carousel-inner"],[1,"carousel-item","active",2,"background","url(../../assets/image/home/homebackground.webp)"],[1,"carousel-container"],[1,"carousel-content"],[1,"animate__animated","animate__fadeInDown"],[1,"animate__animated","animate__fadeInUp"],["routeLink","/about",1,"btn-get-started","animate__animated","animate__fadeInUp"],["href","#heroCarousel","role","button","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon","bi","bi-chevron-left"],["href","#heroCarousel","role","button","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon","bi","bi-chevron-right"],["id","main"],["id","featured",1,"featured"],[1,"container"],[1,"row"],[1,"col-lg-4"],[1,"icon-box"],[1,"bi","bi-card-checklist"],["href",""],[1,"col-lg-4","mt-4","mt-lg-0"],[1,"bi","bi-bar-chart"],[1,"bi","bi-binoculars"],["id","services",1,"services"],[1,"section-title"],[1,"col-lg-4","col-md-6","d-flex","align-items-stretch"],["src","assets/image/home/nature.png",1,"icon"],[1,"col-lg-4","col-md-6","d-flex","align-items-stretch","mt-4","mt-md-0"],["src","assets/image/home/gaming.png",1,"icon"],[1,"col-lg-4","col-md-6","d-flex","align-items-stretch","mt-4","mt-lg-0"],["src","assets/image/home/animal.png",1,"icon"],[1,"col-lg-4","col-md-6","d-flex","align-items-stretch","mt-4"],["src","assets/image/home/anime.png",1,"icon"],["src","assets/image/home/ocean.png",1,"icon"],["src","assets/image/home/bird.png",1,"icon"],["id","clients",1,"clients"],[1,"col-lg-3","col-md-6","d-flex","align-items-stretch"],[1,"swiper-slide"],["src","assets/image/home/home2background.jpg","alt","",1,"img-fluid"],["src","assets/image/home/homebackground.webp","alt","",1,"img-fluid"],[1,"swiper-pagination"]],template:function(e,i){1&e&&(l.TgZ(0,"html",0)(1,"head"),l._UZ(2,"meta",1)(3,"meta",2)(4,"meta",3),l.TgZ(5,"title"),l._uU(6,"PhotoFactory-Home"),l.qZA()(),l.TgZ(7,"body")(8,"section",4)(9,"div",5)(10,"div",6),l._UZ(11,"ol",7),l.TgZ(12,"div",8)(13,"div",9)(14,"div",10)(15,"div",11)(16,"h2",12),l._uU(17,"Welcome to "),l.TgZ(18,"span"),l._uU(19,"PhotoFactory"),l.qZA()(),l.TgZ(20,"p",13),l._uU(21,"We here to get you very good photo"),l.qZA(),l.TgZ(22,"a",14),l._uU(23,"Read More"),l.qZA()()()()(),l.TgZ(24,"a",15),l._UZ(25,"span",16),l.qZA(),l.TgZ(26,"a",17),l._UZ(27,"span",18),l.qZA()()()(),l.TgZ(28,"main",19)(29,"section",20)(30,"div",21)(31,"h1"),l._uU(32,"Services"),l.qZA(),l.TgZ(33,"div",22)(34,"div",23)(35,"div",24),l._UZ(36,"i",25),l.TgZ(37,"h3")(38,"a",26),l._uU(39,"VFX Editor"),l.qZA()(),l.TgZ(40,"p"),l._uU(41,"Video Editors for hire"),l.qZA()()(),l.TgZ(42,"div",27)(43,"div",24),l._UZ(44,"i",28),l.TgZ(45,"h3")(46,"a",26),l._uU(47,"HFX Editor"),l.qZA()(),l.TgZ(48,"p"),l._uU(49,"Sound effects Editor"),l.qZA()()(),l.TgZ(50,"div",27)(51,"div",24),l._UZ(52,"i",29),l.TgZ(53,"h3")(54,"a",26),l._uU(55,"Photography Assist"),l.qZA()(),l.TgZ(56,"p"),l._uU(57,"Person will be available to assist you for different type and component of Photography"),l.qZA()()()()()(),l.TgZ(58,"section",30)(59,"div",21)(60,"div",31)(61,"h2"),l._uU(62,"Gallery"),l.qZA()(),l.TgZ(63,"div",22)(64,"div",32)(65,"div",24),l._UZ(66,"img",33),l.TgZ(67,"h5")(68,"a",26),l._uU(69,"Nature"),l.qZA()()()(),l.TgZ(70,"div",34)(71,"div",24),l._UZ(72,"img",35),l.TgZ(73,"h5")(74,"a",26),l._uU(75,"Gaming"),l.qZA()()()(),l.TgZ(76,"div",36)(77,"div",24),l._UZ(78,"img",37),l.TgZ(79,"h5")(80,"a",26),l._uU(81,"Animal"),l.qZA()()()(),l.TgZ(82,"div",38)(83,"div",24),l._UZ(84,"img",39),l.TgZ(85,"h5")(86,"a",26),l._uU(87,"Anime"),l.qZA()()()(),l.TgZ(88,"div",38)(89,"div",24),l._UZ(90,"img",40),l.TgZ(91,"h5")(92,"a",26),l._uU(93,"Ocean"),l.qZA()()()(),l.TgZ(94,"div",38)(95,"div",24),l._UZ(96,"img",41),l.TgZ(97,"h5")(98,"a",26),l._uU(99,"Birds"),l.qZA()()()()()()(),l.TgZ(100,"section",42)(101,"div",21)(102,"div",31)(103,"h2"),l._uU(104,"About Us"),l.qZA()(),l.TgZ(105,"div",22)(106,"div",43)(107,"div",44),l._UZ(108,"img",45),l.qZA()(),l.TgZ(109,"div",43)(110,"div",44),l._UZ(111,"img",46),l.qZA()(),l.TgZ(112,"div",43)(113,"div",44),l._UZ(114,"img",45),l.qZA()(),l.TgZ(115,"div",43)(116,"div",44),l._UZ(117,"img",46),l.qZA()(),l._UZ(118,"div",47),l.qZA()()()()()())},styles:['#hero[_ngcontent-%COMP%]{width:100%;height:90vh;background-color:#3b3b3bcc;overflow:hidden;padding:0;margin-bottom:-120px;position:relative;z-index:1}#hero[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]{width:100%;height:90vh;background-size:cover;background-position:center;background-repeat:no-repeat;background-position:center center}#hero[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;right:0;left:0;bottom:0}#hero[_ngcontent-%COMP%]   .carousel-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:absolute;bottom:0;top:0;left:0;right:0;padding-bottom:120px}#hero[_ngcontent-%COMP%]   .carousel-content[_ngcontent-%COMP%]{text-align:center}#hero[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#a89595;font-family:Times New Roman,Times,serif;margin-bottom:30px;font-size:48px;font-weight:700}#hero[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#e96b56}#hero[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:80%;animation-delay:.4s;margin:0 auto 30px;color:#f5e7e7}#hero[_ngcontent-%COMP%]   .carousel-inner[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]{transition-property:opacity;background-position:center top}#hero[_ngcontent-%COMP%]   .carousel-inner[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%], #hero[_ngcontent-%COMP%]   .carousel-inner[_ngcontent-%COMP%]   .active.carousel-item-start[_ngcontent-%COMP%], #hero[_ngcontent-%COMP%]   .carousel-inner[_ngcontent-%COMP%]   .active.carousel-item-end[_ngcontent-%COMP%]{opacity:0}#hero[_ngcontent-%COMP%]   .carousel-inner[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%], #hero[_ngcontent-%COMP%]   .carousel-inner[_ngcontent-%COMP%]   .carousel-item-next.carousel-item-start[_ngcontent-%COMP%], #hero[_ngcontent-%COMP%]   .carousel-inner[_ngcontent-%COMP%]   .carousel-item-prev.carousel-item-end[_ngcontent-%COMP%]{opacity:1;transition:.5s}#hero[_ngcontent-%COMP%]   .carousel-inner[_ngcontent-%COMP%]   .carousel-item-next[_ngcontent-%COMP%], #hero[_ngcontent-%COMP%]   .carousel-inner[_ngcontent-%COMP%]   .carousel-item-prev[_ngcontent-%COMP%], #hero[_ngcontent-%COMP%]   .carousel-inner[_ngcontent-%COMP%]   .active.carousel-item-start[_ngcontent-%COMP%], #hero[_ngcontent-%COMP%]   .carousel-inner[_ngcontent-%COMP%]   .active.carousel-item-end[_ngcontent-%COMP%]{left:0;transform:translate(0)}#hero[_ngcontent-%COMP%]   .carousel-control-prev[_ngcontent-%COMP%], #hero[_ngcontent-%COMP%]   .carousel-control-next[_ngcontent-%COMP%]{width:10%}#hero[_ngcontent-%COMP%]   .carousel-control-next-icon[_ngcontent-%COMP%], #hero[_ngcontent-%COMP%]   .carousel-control-prev-icon[_ngcontent-%COMP%]{background:none;font-size:48px;line-height:1;width:auto;height:auto;color:#545454}#hero[_ngcontent-%COMP%]   .carousel-indicators[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;background:#e96b56;overflow:hidden;border:0;width:12px;height:12px;border-radius:50px;margin-bottom:180px;opacity:.2}#hero[_ngcontent-%COMP%]   .carousel-indicators[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{opacity:1}#hero[_ngcontent-%COMP%]   .btn-get-started[_ngcontent-%COMP%]{font-family:Raleway,sans-serif;font-weight:500;font-size:14px;letter-spacing:1px;display:inline-block;padding:12px 32px;border-radius:50px;transition:.5s;line-height:1;margin:10px;color:#fff;animation-delay:.8s;border:2px solid #e96b56;background:#e96b56}#hero[_ngcontent-%COMP%]   .btn-get-started[_ngcontent-%COMP%]:hover{background:transparent;color:#e96b56;text-decoration:none}@media (max-height: 768px),(max-width: 1200px){#hero[_ngcontent-%COMP%]{margin-bottom:60px}#hero[_ngcontent-%COMP%]   .carousel-container[_ngcontent-%COMP%]{padding-bottom:0}#hero[_ngcontent-%COMP%]   .carousel-indicators[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:0}}@media (max-width: 768px){#hero[_ngcontent-%COMP%], #hero[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]{height:90vh}}@media (min-width: 1024px){#hero[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:50%}#hero[_ngcontent-%COMP%]   .carousel-control-prev[_ngcontent-%COMP%], #hero[_ngcontent-%COMP%]   .carousel-control-next[_ngcontent-%COMP%]{width:5%}}section[_ngcontent-%COMP%]{padding:0 0 80px}.section-bg[_ngcontent-%COMP%]{background-color:#fff}.section-title[_ngcontent-%COMP%]{text-align:center;padding-bottom:30px}.section-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px;font-weight:600;margin-bottom:20px;padding-bottom:20px;position:relative;font-family:Poppins,sans-serif}.section-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:after{content:"";position:absolute;display:block;width:50px;height:3px;background:#e96b56;bottom:0;left:calc(50% - 25px)}.section-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0}.breadcrumbs[_ngcontent-%COMP%]{padding:20px 0;background:#f7f7f7;border-bottom:1px solid #ededed;margin-bottom:40px}.breadcrumbs[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#545454}.breadcrumbs[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;list-style:none;padding:0 0 5px;margin:0;font-size:14px}.breadcrumbs[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{padding-left:10px}.breadcrumbs[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]:before{display:inline-block;padding-right:10px;color:#6e6e6e;content:"/"}.featured[_ngcontent-%COMP%]{padding-top:10px;position:relative;z-index:2}.featured[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]{padding:40px 30px;box-shadow:0 2px 15px #00000026;border-radius:10px;background:#fff;transition:all ease-in-out .3s;height:100%}.featured[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#e96b56;font-size:42px;margin-bottom:15px;display:block;line-height:0}.featured[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;margin-bottom:15px;font-size:20px}.featured[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#545454;transition:.3s}.featured[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#545454;line-height:24px;font-size:14px;margin-bottom:0}.featured[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]:hover{background:#e96b56}.featured[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%], .featured[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]:hover   h3[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .featured[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]:hover   p[_ngcontent-%COMP%]{color:#fff}.about[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:600;font-size:26px;color:#545454}.about[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.about[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding-bottom:10px}.about[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;padding-right:4px;color:#e96b56}.about[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-bottom:0}.services[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]{text-align:center;border:1px solid #ededed;padding:60px 100px;transition:all ease-in-out .3s}.services[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin:0 auto 15px;width:200px;height:200px;border-radius:5px;transition:all .3s ease-out 0s;display:flex;align-items:center;justify-content:center;transform-style:preserve-3d}.services[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff;font-size:28px}.services[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:before{position:absolute;content:"";left:-8px;top:-8px;height:100%;width:100%;background:#fbe2dd;border-radius:5px;transition:all .3s ease-out 0s;transform:translateZ(-1px)}.services[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:700;margin-bottom:8px;font-size:24px}.services[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#545454}.services[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]:hover{background:#e96b56;border-color:#e96b56}.services[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#e96b56}.services[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]:hover   .icon[_ngcontent-%COMP%]:before{background:#ef9383}.services[_ngcontent-%COMP%]   .icon-box[_ngcontent-%COMP%]:hover   h5[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.clients[_ngcontent-%COMP%]   .swiper-pagination[_ngcontent-%COMP%]{margin-top:20px;position:relative}.clients[_ngcontent-%COMP%]   .swiper-pagination[_ngcontent-%COMP%]   .swiper-pagination-bullet[_ngcontent-%COMP%]{width:12px;height:12px;background-color:#fff;opacity:1;border:1px solid #e96b56}.clients[_ngcontent-%COMP%]   .swiper-pagination[_ngcontent-%COMP%]   .swiper-pagination-bullet-active[_ngcontent-%COMP%]{background-color:#e96b56}.clients[_ngcontent-%COMP%]   .swiper-slide[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{filter:none;opacity:1}.counts[_ngcontent-%COMP%]   .count-box[_ngcontent-%COMP%]{box-shadow:-10px -5px 40px #0000001a;padding:30px;width:100%}.counts[_ngcontent-%COMP%]   .count-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:block;font-size:30px;color:#e96b56;float:left;line-height:0}.counts[_ngcontent-%COMP%]   .count-box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:42px;line-height:24px;display:block;font-weight:700;color:#545454;margin-left:50px}.counts[_ngcontent-%COMP%]   .count-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:30px 0 0;margin:0;font-family:Raleway,sans-serif;font-size:14px}.counts[_ngcontent-%COMP%]   .count-box[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:600;display:block;margin-top:20px;color:#7a7a7a;font-size:15px;font-family:Poppins,sans-serif;transition:ease-in-out .3s}.counts[_ngcontent-%COMP%]   .count-box[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#a1a1a1}.testimonials[_ngcontent-%COMP%]   .testimonials-carousel[_ngcontent-%COMP%], .testimonials[_ngcontent-%COMP%]   .testimonials-slider[_ngcontent-%COMP%]{overflow:hidden}.testimonials[_ngcontent-%COMP%]   .testimonial-item[_ngcontent-%COMP%]{box-sizing:content-box;padding:40px;box-shadow:0 2px 12px #00000014;position:relative;background:#fff}.testimonials[_ngcontent-%COMP%]   .testimonial-item[_ngcontent-%COMP%]   .testimonial-img[_ngcontent-%COMP%]{width:90px;border-radius:50px;border:6px solid #fff;float:left;margin:0 10px 0 0}.testimonials[_ngcontent-%COMP%]   .testimonial-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:700;margin:10px 0 5px;color:#111}.testimonials[_ngcontent-%COMP%]   .testimonial-item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14px;color:#999;margin:0}.testimonials[_ngcontent-%COMP%]   .testimonial-item[_ngcontent-%COMP%]   .quote-icon-left[_ngcontent-%COMP%], .testimonials[_ngcontent-%COMP%]   .testimonial-item[_ngcontent-%COMP%]   .quote-icon-right[_ngcontent-%COMP%]{color:#fff;font-size:26px}.testimonials[_ngcontent-%COMP%]   .testimonial-item[_ngcontent-%COMP%]   .quote-icon-left[_ngcontent-%COMP%]{display:inline-block;left:-5px;position:relative}.testimonials[_ngcontent-%COMP%]   .testimonial-item[_ngcontent-%COMP%]   .quote-icon-right[_ngcontent-%COMP%]{display:inline-block;right:-5px;position:relative;top:10px}.testimonials[_ngcontent-%COMP%]   .testimonial-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-style:italic;margin:15px 0 0;padding:0}.skills[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;font-size:26px;color:#545454;font-family:Poppins,sans-serif;margin-bottom:20px}.skills[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.skills[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding-bottom:10px}.skills[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;padding-right:4px;color:#e96b56}.skills[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-bottom:0}.skills[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{height:62px;display:block;background:none;border-radius:0}.skills[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .skill[_ngcontent-%COMP%]{padding:0;margin:0 0 6px;text-transform:uppercase;display:block;font-weight:600;font-family:Poppins,sans-serif;color:#545454}.skills[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .skill[_ngcontent-%COMP%]   .val[_ngcontent-%COMP%]{float:right;font-style:normal}.skills[_ngcontent-%COMP%]   .progress-bar-wrap[_ngcontent-%COMP%]{background:#e0e0e0}.skills[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{width:1px;height:10px;transition:.9s;background-color:#e96b56}.portfolio[_ngcontent-%COMP%]   .portfolio-item[_ngcontent-%COMP%]{margin-bottom:30px}.portfolio[_ngcontent-%COMP%]   #portfolio-flters[_ngcontent-%COMP%]{margin:0 auto 25px;list-style:none;text-align:center;background:white;border-radius:50px;padding:2px 15px}.portfolio[_ngcontent-%COMP%]   #portfolio-flters[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;display:inline-block;padding:8px 20px 12px;font-size:15px;font-weight:500;line-height:1;color:#444;margin:0 4px 8px;transition:all ease-in-out .3s;border-radius:50px;background:#f2f2f2}.portfolio[_ngcontent-%COMP%]   #portfolio-flters[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover, .portfolio[_ngcontent-%COMP%]   #portfolio-flters[_ngcontent-%COMP%]   li.filter-active[_ngcontent-%COMP%]{background:#e96b56;color:#fff}.portfolio[_ngcontent-%COMP%]   #portfolio-flters[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-right:0}.portfolio[_ngcontent-%COMP%]   .portfolio-wrap[_ngcontent-%COMP%]{transition:.3s;position:relative;overflow:hidden;z-index:1;background:rgba(84,84,84,.6)}.portfolio[_ngcontent-%COMP%]   .portfolio-wrap[_ngcontent-%COMP%]:before{content:"";background:rgba(84,84,84,.6);position:absolute;left:30px;right:30px;top:30px;bottom:30px;transition:all ease-in-out .3s;z-index:2;opacity:0}.portfolio[_ngcontent-%COMP%]   .portfolio-wrap[_ngcontent-%COMP%]   .portfolio-info[_ngcontent-%COMP%]{opacity:0;position:absolute;top:0;left:0;right:0;bottom:0;text-align:center;z-index:3;transition:all ease-in-out .3s;display:flex;flex-direction:column;justify-content:center;align-items:center}.portfolio[_ngcontent-%COMP%]   .portfolio-wrap[_ngcontent-%COMP%]   .portfolio-info[_ngcontent-%COMP%]:before{display:block;content:"";width:48px;height:48px;position:absolute;top:35px;left:35px;border-top:3px solid #fff;border-left:3px solid #fff;transition:all .5s ease 0s;z-index:9994}.portfolio[_ngcontent-%COMP%]   .portfolio-wrap[_ngcontent-%COMP%]   .portfolio-info[_ngcontent-%COMP%]:after{display:block;content:"";width:48px;height:48px;position:absolute;bottom:35px;right:35px;border-bottom:3px solid #fff;border-right:3px solid #fff;transition:all .5s ease 0s;z-index:9994}.portfolio[_ngcontent-%COMP%]   .portfolio-wrap[_ngcontent-%COMP%]   .portfolio-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:20px;color:#fff;font-weight:600}.portfolio[_ngcontent-%COMP%]   .portfolio-wrap[_ngcontent-%COMP%]   .portfolio-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-size:14px;text-transform:uppercase;padding:0;margin:0}.portfolio[_ngcontent-%COMP%]   .portfolio-wrap[_ngcontent-%COMP%]   .portfolio-links[_ngcontent-%COMP%]{text-align:center;z-index:4}.portfolio[_ngcontent-%COMP%]   .portfolio-wrap[_ngcontent-%COMP%]   .portfolio-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;margin:0 2px;font-size:28px;display:inline-block;transition:.3s}.portfolio[_ngcontent-%COMP%]   .portfolio-wrap[_ngcontent-%COMP%]   .portfolio-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#e96b56}.portfolio[_ngcontent-%COMP%]   .portfolio-wrap[_ngcontent-%COMP%]:hover:before{top:0;left:0;right:0;bottom:0;opacity:1}.portfolio[_ngcontent-%COMP%]   .portfolio-wrap[_ngcontent-%COMP%]:hover   .portfolio-info[_ngcontent-%COMP%]{opacity:1}.portfolio[_ngcontent-%COMP%]   .portfolio-wrap[_ngcontent-%COMP%]:hover   .portfolio-info[_ngcontent-%COMP%]:before{top:15px;left:15px}.portfolio[_ngcontent-%COMP%]   .portfolio-wrap[_ngcontent-%COMP%]:hover   .portfolio-info[_ngcontent-%COMP%]:after{bottom:15px;right:15px}.portfolio-details[_ngcontent-%COMP%]{padding-top:40px}.portfolio-details[_ngcontent-%COMP%]   .portfolio-details-slider[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.portfolio-details[_ngcontent-%COMP%]   .portfolio-details-slider[_ngcontent-%COMP%]   .swiper-pagination[_ngcontent-%COMP%]{margin-top:20px;position:relative}.portfolio-details[_ngcontent-%COMP%]   .portfolio-details-slider[_ngcontent-%COMP%]   .swiper-pagination[_ngcontent-%COMP%]   .swiper-pagination-bullet[_ngcontent-%COMP%]{width:12px;height:12px;background-color:#fff;opacity:1;border:1px solid #e96b56}.portfolio-details[_ngcontent-%COMP%]   .portfolio-details-slider[_ngcontent-%COMP%]   .swiper-pagination[_ngcontent-%COMP%]   .swiper-pagination-bullet-active[_ngcontent-%COMP%]{background-color:#e96b56}.portfolio-details[_ngcontent-%COMP%]   .portfolio-info[_ngcontent-%COMP%]{padding:30px;box-shadow:0 0 30px #54545414}.portfolio-details[_ngcontent-%COMP%]   .portfolio-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:22px;font-weight:700;margin-bottom:20px;padding-bottom:20px;border-bottom:1px solid #eee}.portfolio-details[_ngcontent-%COMP%]   .portfolio-info[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;font-size:15px}.portfolio-details[_ngcontent-%COMP%]   .portfolio-info[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-top:10px}.portfolio-details[_ngcontent-%COMP%]   .portfolio-description[_ngcontent-%COMP%]{padding-top:30px}.portfolio-details[_ngcontent-%COMP%]   .portfolio-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:26px;font-weight:700;margin-bottom:20px}.portfolio-details[_ngcontent-%COMP%]   .portfolio-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0}.pricing[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding-top:40px}.pricing[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{padding:40px;margin-bottom:30px;box-shadow:0 0 30px #494e5c26;background:#fff;text-align:center}.pricing[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:300;margin-bottom:15px;font-size:28px}.pricing[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:46px;color:#e96b56;font-weight:400;font-family:Open Sans,sans-serif;margin-bottom:25px}.pricing[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#bababa;font-size:18px;display:block}.pricing[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;list-style:none;color:#999;text-align:left;line-height:20px}.pricing[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding-bottom:12px}.pricing[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#e96b56;font-size:18px;padding-right:4px}.pricing[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .na[_ngcontent-%COMP%], .pricing[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .na[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ccc}.pricing[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .na[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-decoration:line-through}.pricing[_ngcontent-%COMP%]   .buy-btn[_ngcontent-%COMP%]{background:#545454;display:inline-block;padding:8px 30px;border-radius:20px;color:#fff;transition:none;font-size:14px;font-weight:400;font-family:Raleway,sans-serif;transition:.3s}.pricing[_ngcontent-%COMP%]   .buy-btn[_ngcontent-%COMP%]:hover{background:#e96b56}.pricing[_ngcontent-%COMP%]   .featured[_ngcontent-%COMP%]{z-index:10;margin:-30px -5px 0}.pricing[_ngcontent-%COMP%]   .featured[_ngcontent-%COMP%]   .buy-btn[_ngcontent-%COMP%]{background:#e96b56}.pricing[_ngcontent-%COMP%]   .featured[_ngcontent-%COMP%]   .buy-btn[_ngcontent-%COMP%]:hover{background:#ee8b7a}@media (max-width: 992px){.pricing[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{max-width:60%;margin:0 auto 30px}}@media (max-width: 767px){.pricing[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{max-width:80%;margin:0 auto 30px}}@media (max-width: 420px){.pricing[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{max-width:100%;margin:0 auto 30px}}.team[_ngcontent-%COMP%]   .member[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;box-shadow:0 0 12px #0000001a;padding:30px 20px;background:#fff}.team[_ngcontent-%COMP%]   .member[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:60%;border-radius:50%;margin:0 0 30px}.team[_ngcontent-%COMP%]   .member[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:700;margin-bottom:2px;font-size:18px}.team[_ngcontent-%COMP%]   .member[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-style:italic;display:block;font-size:13px}.team[_ngcontent-%COMP%]   .member[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-top:10px;font-size:14px;font-style:italic;color:#aaa}.team[_ngcontent-%COMP%]   .member[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]{margin-top:15px}.team[_ngcontent-%COMP%]   .member[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#919191;transition:.3s}.team[_ngcontent-%COMP%]   .member[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#e96b56}.team[_ngcontent-%COMP%]   .member[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px;margin:0 2px}.contact[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]{color:#444;text-align:center;box-shadow:0 0 30px #d6d7d899;padding:20px 0 30px}.contact[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:32px;color:#e96b56;border-radius:50%;padding:8px;border:2px dotted #fef5f4}.contact[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;color:#777;font-weight:700;margin:10px 0}.contact[_ngcontent-%COMP%]   .info-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0;line-height:24px;font-size:14px;margin-bottom:0}.contact[_ngcontent-%COMP%]   .php-email-form[_ngcontent-%COMP%]{box-shadow:0 0 30px #d6d7d899;padding:30px}.contact[_ngcontent-%COMP%]   .php-email-form[_ngcontent-%COMP%]   .validate[_ngcontent-%COMP%]{display:none;color:red;margin:0 0 15px;font-weight:400;font-size:13px}.contact[_ngcontent-%COMP%]   .php-email-form[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{display:none;color:#fff;background:#ed3c0d;text-align:left;padding:15px;font-weight:600}.contact[_ngcontent-%COMP%]   .php-email-form[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   br[_ngcontent-%COMP%] + br[_ngcontent-%COMP%]{margin-top:25px}.contact[_ngcontent-%COMP%]   .php-email-form[_ngcontent-%COMP%]   .sent-message[_ngcontent-%COMP%]{display:none;color:#fff;background:#18d26e;text-align:center;padding:15px;font-weight:600}.contact[_ngcontent-%COMP%]   .php-email-form[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{display:none;background:#fff;text-align:center;padding:15px}.contact[_ngcontent-%COMP%]   .php-email-form[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]:before{content:"";display:inline-block;border-radius:50%;width:24px;height:24px;margin:0 10px -6px 0;border:3px solid #18d26e;border-top-color:#eee;animation:animate-loading 1s linear infinite}.contact[_ngcontent-%COMP%]   .php-email-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .contact[_ngcontent-%COMP%]   .php-email-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border-radius:0;box-shadow:none;font-size:14px}.contact[_ngcontent-%COMP%]   .php-email-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .contact[_ngcontent-%COMP%]   .php-email-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#e96b56}.contact[_ngcontent-%COMP%]   .php-email-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:10px 15px}.contact[_ngcontent-%COMP%]   .php-email-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:12px 15px}.contact[_ngcontent-%COMP%]   .php-email-form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{background:#e96b56;border:0;border-radius:50px;padding:10px 24px;color:#fff;transition:.4s}.contact[_ngcontent-%COMP%]   .php-email-form[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover{background:#e6573f}@keyframes animate-loading{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.blog[_ngcontent-%COMP%]{padding:40px 0 20px}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]{padding:30px;margin-bottom:60px;box-shadow:0 4px 16px #0000001a}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-img[_ngcontent-%COMP%]{max-height:440px;margin:-30px -30px 20px;overflow:hidden}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-title[_ngcontent-%COMP%]{font-size:28px;font-weight:700;padding:0;margin:0 0 20px}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#545454;transition:.3s}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#e96b56}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-meta[_ngcontent-%COMP%]{margin-bottom:15px;color:#bababa}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-meta[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;list-style:none;align-items:center;padding:0;margin:0}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-meta[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{padding-left:20px}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-meta[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px;margin-right:8px;line-height:0}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-meta[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#777;font-size:14px;display:inline-block;line-height:1}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:24px}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-content[_ngcontent-%COMP%]   .read-more[_ngcontent-%COMP%]{text-align-last:right}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-content[_ngcontent-%COMP%]   .read-more[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;background:#e96b56;color:#fff;padding:6px 20px;transition:.3s;font-size:14px;border-radius:4px}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-content[_ngcontent-%COMP%]   .read-more[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#ec7f6d}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:22px;margin-top:30px;font-weight:700}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-content[_ngcontent-%COMP%]   blockquote[_ngcontent-%COMP%]{overflow:hidden;background-color:#fafafa;padding:60px;position:relative;text-align:center;margin:20px 0}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-content[_ngcontent-%COMP%]   blockquote[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#444;line-height:1.6;margin-bottom:0;font-style:italic;font-weight:500;font-size:22px}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-content[_ngcontent-%COMP%]   blockquote[_ngcontent-%COMP%]:after{content:"";position:absolute;left:0;top:0;bottom:0;width:3px;background-color:#545454;margin-top:20px;margin-bottom:20px}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-footer[_ngcontent-%COMP%]{padding-top:10px;border-top:1px solid #e6e6e6}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-footer[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#a1a1a1;display:inline}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#616161;transition:.3s}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#e96b56}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-footer[_ngcontent-%COMP%]   .cats[_ngcontent-%COMP%]{list-style:none;display:inline;padding:0 20px 0 0;font-size:14px}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-footer[_ngcontent-%COMP%]   .cats[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-footer[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]{list-style:none;display:inline;padding:0;font-size:14px}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-footer[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-footer[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]:before{padding-right:6px;color:#6c757d;content:","}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-footer[_ngcontent-%COMP%]   .share[_ngcontent-%COMP%]{font-size:16px}.blog[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .entry-footer[_ngcontent-%COMP%]   .share[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding-left:5px}.blog[_ngcontent-%COMP%]   .entry-single[_ngcontent-%COMP%]{margin-bottom:30px}.blog[_ngcontent-%COMP%]   .blog-author[_ngcontent-%COMP%]{padding:20px;margin-bottom:30px;box-shadow:0 4px 16px #0000001a}.blog[_ngcontent-%COMP%]   .blog-author[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;margin-right:20px}.blog[_ngcontent-%COMP%]   .blog-author[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:600;font-size:22px;margin-bottom:0;padding:0;color:#545454}.blog[_ngcontent-%COMP%]   .blog-author[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]{margin:0 10px 10px 0}.blog[_ngcontent-%COMP%]   .blog-author[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#54545480;margin-right:5px}.blog[_ngcontent-%COMP%]   .blog-author[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-style:italic;color:#b7b7b7}.blog[_ngcontent-%COMP%]   .blog-comments[_ngcontent-%COMP%]{margin-bottom:30px}.blog[_ngcontent-%COMP%]   .blog-comments[_ngcontent-%COMP%]   .comments-count[_ngcontent-%COMP%]{font-weight:700}.blog[_ngcontent-%COMP%]   .blog-comments[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]{margin-top:30px;position:relative}.blog[_ngcontent-%COMP%]   .blog-comments[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-img[_ngcontent-%COMP%]{margin-right:14px}.blog[_ngcontent-%COMP%]   .blog-comments[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px}.blog[_ngcontent-%COMP%]   .blog-comments[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:16px;margin-bottom:2px}.blog[_ngcontent-%COMP%]   .blog-comments[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;color:#444;transition:.3s}.blog[_ngcontent-%COMP%]   .blog-comments[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#e96b56}.blog[_ngcontent-%COMP%]   .blog-comments[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]   .reply[_ngcontent-%COMP%]{padding-left:10px;color:#545454}.blog[_ngcontent-%COMP%]   .blog-comments[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]   .reply[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.blog[_ngcontent-%COMP%]   .blog-comments[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   time[_ngcontent-%COMP%]{display:block;font-size:14px;color:#6e6e6e;margin-bottom:5px}.blog[_ngcontent-%COMP%]   .blog-comments[_ngcontent-%COMP%]   .comment.comment-reply[_ngcontent-%COMP%]{padding-left:40px}.blog[_ngcontent-%COMP%]   .blog-comments[_ngcontent-%COMP%]   .reply-form[_ngcontent-%COMP%]{margin-top:30px;padding:30px;box-shadow:0 4px 16px #0000001a}.blog[_ngcontent-%COMP%]   .blog-comments[_ngcontent-%COMP%]   .reply-form[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:700;font-size:22px}.blog[_ngcontent-%COMP%]   .blog-comments[_ngcontent-%COMP%]   .reply-form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.blog[_ngcontent-%COMP%]   .blog-comments[_ngcontent-%COMP%]   .reply-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:4px;padding:10px;font-size:14px}.blog[_ngcontent-%COMP%]   .blog-comments[_ngcontent-%COMP%]   .reply-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:none;border-color:#f5bab0}.blog[_ngcontent-%COMP%]   .blog-comments[_ngcontent-%COMP%]   .reply-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border-radius:4px;padding:10px;font-size:14px}.blog[_ngcontent-%COMP%]   .blog-comments[_ngcontent-%COMP%]   .reply-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{box-shadow:none;border-color:#f5bab0}.blog[_ngcontent-%COMP%]   .blog-comments[_ngcontent-%COMP%]   .reply-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:25px}.blog[_ngcontent-%COMP%]   .blog-comments[_ngcontent-%COMP%]   .reply-form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{border-radius:4px;padding:10px 20px;border:0;background-color:#545454}.blog[_ngcontent-%COMP%]   .blog-comments[_ngcontent-%COMP%]   .reply-form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background-color:#616161}.blog[_ngcontent-%COMP%]   .blog-pagination[_ngcontent-%COMP%]{color:#878787}.blog[_ngcontent-%COMP%]   .blog-pagination[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;padding:0;margin:0;list-style:none}.blog[_ngcontent-%COMP%]   .blog-pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 5px;transition:.3s}.blog[_ngcontent-%COMP%]   .blog-pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#545454;padding:7px 16px;display:flex;align-items:center;justify-content:center}.blog[_ngcontent-%COMP%]   .blog-pagination[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%], .blog[_ngcontent-%COMP%]   .blog-pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:#e96b56}.blog[_ngcontent-%COMP%]   .blog-pagination[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .blog[_ngcontent-%COMP%]   .blog-pagination[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{color:#fff}.blog[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]{padding:30px;margin:0 0 60px 20px;box-shadow:0 4px 16px #0000001a}.blog[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-title[_ngcontent-%COMP%]{font-size:20px;font-weight:700;padding:0;margin:0 0 15px;color:#545454;position:relative}.blog[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .sidebar-item[_ngcontent-%COMP%]{margin-bottom:30px}.blog[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .search-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{background:#fff;border:1px solid #ddd;padding:3px 10px;position:relative}.blog[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .search-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{border:0;padding:4px;border-radius:4px;width:calc(100% - 40px)}.blog[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .search-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;border:0;background:none;font-size:16px;padding:0 15px;margin:-1px;background:#e96b56;color:#fff;transition:.3s;border-radius:0 4px 4px 0;line-height:0}.blog[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .search-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{line-height:0}.blog[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .search-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#eb7b68}.blog[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.blog[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{padding-top:10px}.blog[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#545454;transition:.3s}.blog[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#e96b56}.blog[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:5px;color:#aaa;font-size:14px}.blog[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .recent-posts[_ngcontent-%COMP%]   .post-item[_ngcontent-%COMP%] + .post-item[_ngcontent-%COMP%]{margin-top:15px}.blog[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .recent-posts[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;float:left}.blog[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .recent-posts[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:15px;margin-left:95px;font-weight:700}.blog[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .recent-posts[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#545454;transition:.3s}.blog[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .recent-posts[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#e96b56}.blog[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .recent-posts[_ngcontent-%COMP%]   time[_ngcontent-%COMP%]{display:block;margin-left:95px;font-style:italic;font-size:14px;color:#aaa}.blog[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]{margin-bottom:-10px}.blog[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.blog[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block}.blog[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#949494;font-size:14px;padding:6px 14px;margin:0 6px 8px 0;border:1px solid white;display:inline-block;transition:.3s}.blog[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff;border:1px solid #e96b56;background:#e96b56}.blog[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:5px;color:#ededed;font-size:14px}']}),n})()},{path:"contact",component:js},{path:"login",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-login"]],decls:33,vars:0,consts:[["lang","en"],["charset","UTF-8"],["href","https://fonts.googleapis.com/css?family=Open+Sans","rel","stylesheet"],[1,"box-form"],[1,"left"],[1,"overlay"],[1,"right"],[1,"inputs"],["type","text","placeholder","user name"],["type","password","placeholder","password"],[1,"remember-me--forget-password"],["type","checkbox","name","item","checked",""],[1,"text-checkbox"]],template:function(e,i){1&e&&(l.TgZ(0,"html",0)(1,"head"),l._UZ(2,"meta",1),l.TgZ(3,"title"),l._uU(4,"Login Page in HTML with CSS Code Example"),l.qZA(),l._UZ(5,"link",2),l.qZA(),l.TgZ(6,"body")(7,"div",3)(8,"div",4)(9,"div",5)(10,"h1"),l._uU(11,"Welcome to"),l.qZA(),l.TgZ(12,"h1"),l._uU(13,"PhotoFactory."),l.qZA()()(),l.TgZ(14,"div",6)(15,"h5"),l._uU(16,"Login"),l.qZA(),l.TgZ(17,"div",7),l._UZ(18,"input",8)(19,"br")(20,"input",9),l.qZA(),l._UZ(21,"br")(22,"br"),l.TgZ(23,"div",10)(24,"label"),l._UZ(25,"input",11),l.TgZ(26,"span",12),l._uU(27,"Remember me"),l.qZA()(),l.TgZ(28,"p"),l._uU(29,"forget password?"),l.qZA()(),l._UZ(30,"br"),l.TgZ(31,"button"),l._uU(32,"Login"),l.qZA()()()()())},styles:['body[_ngcontent-%COMP%]{background-color:#3b3b3bcc;background-image:url(homebackground.ff6ac8270d861f35.webp);padding-top:70px;padding-bottom:70px;background-size:cover;background-repeat:no-repeat;background-attachment:fixed;font-family:Open Sans,sans-serif;color:#333}.box-form[_ngcontent-%COMP%]{margin:0 auto;width:80%;background:#FFFFFF;border-radius:10px;overflow:hidden;display:flex;flex:1 1 100%;align-items:stretch;justify-content:space-between;box-shadow:0 0 20px 6px #090b6f85}@media (max-width: 980px){.box-form[_ngcontent-%COMP%]{flex-flow:wrap;text-align:center;align-content:center;align-items:center}}.box-form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{height:auto}.box-form[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{color:#fff;background-size:cover;background-repeat:no-repeat;background-image:url(https://i.pinimg.com/736x/5d/73/ea/5d73eaabb25e3805de1f8cdea7df4a42--tumblr-backgrounds-iphone-phone-wallpapers-iphone-wallaper-tumblr.jpg);overflow:hidden}.box-form[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{padding:30px;width:100%;height:100%;background:#5961f9ad;overflow:hidden;box-sizing:border-box}.box-form[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:100px;line-height:1;font-weight:800;margin-top:40px;margin-bottom:20px}.box-form[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:30px;font-weight:900}.box-form[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background:#3b5998;color:#fff;margin-top:10px;padding:14px 50px;border-radius:100px;display:inline-block;box-shadow:0 3px 6px 1px #042d4657}.box-form[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:last-child{background:#1dcaff;margin-left:30px}.box-form[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{padding:80px;overflow:hidden}@media (max-width: 980px){.box-form[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{width:100%}}.box-form[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:60px;font-weight:500;line-height:0}.box-form[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#b0b3b9}.box-form[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .inputs[_ngcontent-%COMP%]{overflow:hidden;padding-top:40px}.box-form[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px;margin-top:25px;font-size:16px;border:none;outline:none;border-bottom:2px solid #B0B3B9}.box-form[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .remember-me--forget-password[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.box-form[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .remember-me--forget-password[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:0 7px 0 0;width:auto}.box-form[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;font-size:16px;padding:12px 35px;border-radius:50px;display:inline-block;border:0;outline:0;box-shadow:0 4px 20px #49c628a6;background-image:linear-gradient(135deg,#70F570 10%,#49C628 100%)}label[_ngcontent-%COMP%]{display:block;position:relative;margin-left:30px}label[_ngcontent-%COMP%]:before{content:" \\f00c";position:absolute;font-family:FontAwesome;background:transparent;border:3px solid #70F570;border-radius:4px;color:transparent;left:-30px;transition:all .2s linear}label[_ngcontent-%COMP%]:hover:before{font-family:FontAwesome;content:" \\f00c";color:#fff;cursor:pointer;background:#70F570}label[_ngcontent-%COMP%]:hover:before   .text-checkbox[_ngcontent-%COMP%]{background:#70F570}label[_ngcontent-%COMP%]   span.text-checkbox[_ngcontent-%COMP%]{display:inline-block;height:auto;position:relative;cursor:pointer;transition:all .2s linear}label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{display:none}']}),n})()},{path:"about",component:Bp},{path:"gallery",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-gallery"]],decls:2,vars:0,consts:[[1,"container"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0),l._UZ(1,"upload-manager"),l.qZA())},directives:[Xq],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:center;align-items:center;align-content:stretch}"]}),n})()}];let e8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[bM.forRoot(Jq)],bM]}),n})();const t8=function(){return{exact:!0}};let n8=(()=>{class n{constructor(e,i){this.route=e,this.router=i}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Dl),l.Y36(er))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-navbar"]],decls:24,vars:2,consts:[["id","header",1,"d-flex","align-items-center"],[1,"container","d-flex","justify-content-between","align-items-center"],[2,"font-family","'Times New Roman', Times, serif"],["href","index.html",2,"color","rgb(68, 62, 55)"],["src","../../assets/image/logoicon/logo.ico"],["id","navbar",1,"navbar"],["routerLink","","routerLinkActive","active-link",1,"nav-link",3,"routerLinkActiveOptions"],["routerLink","/gallery",1,"nav-link"],["routerLink","/contact",1,"nav-link"],["routerLink","/about",1,"nav-link"],["routerLink","/login",1,"nav-link"]],template:function(e,i){1&e&&(l.TgZ(0,"header",0)(1,"div",1)(2,"div")(3,"h1",2)(4,"a",3),l._UZ(5,"img",4),l._uU(6," Photo Factory"),l.qZA()()(),l.TgZ(7,"nav",5)(8,"ul")(9,"li")(10,"a",6),l._uU(11,"Home"),l.qZA()(),l.TgZ(12,"li")(13,"a",7),l._uU(14,"Gallery"),l.qZA()(),l.TgZ(15,"li")(16,"a",8),l._uU(17,"Contact"),l.qZA()(),l.TgZ(18,"li")(19,"a",9),l._uU(20,"About"),l.qZA()(),l.TgZ(21,"li")(22,"a",10),l._uU(23,"Login"),l.qZA()()()()()()),2&e&&(l.xp6(10),l.Q6J("routerLinkActiveOptions",l.DdM(1,t8)))},directives:[Rh,pM],styles:["body{font-family:Open Sans,sans-serif;color:#444}a{color:#e96b56;text-decoration:none}a:hover{color:#e6573f;text-decoration:none}h1,h2,h3,h4,h5,h6{font-family:Raleway,sans-serif}.back-to-top{position:fixed;visibility:hidden;opacity:0;right:15px;bottom:15px;z-index:996;background:#e96b56;width:40px;height:40px;border-radius:4px;transition:all .4s}.back-to-top i{font-size:28px;color:#fff;line-height:0}.back-to-top:hover{background:#ee8b7a;color:#fff}.back-to-top.active{visibility:visible;opacity:1}#topbar{background:#545454;padding:10px 0;font-size:14px}#topbar .contact-info i{font-style:normal;color:#e96b56}#topbar .contact-info i a,#topbar .contact-info i span{padding-left:5px;color:#fff}#topbar .contact-info i a{line-height:0;transition:.3s}#topbar .contact-info i a:hover{color:#e96b56}#topbar .social-links a{color:#bababa;line-height:0;transition:.3s;margin-left:10px}#topbar .social-links a:hover{color:#fff}#header{height:70px;z-index:997;transition:all .5s;background:#fff;box-shadow:0 0 20px #0000001a}#header .logo h1{font-size:26px;padding:0 0 0 8px;margin:11px 0;line-height:1;font-weight:700;letter-spacing:1px;text-transform:uppercase;font-family:Poppins,sans-serif;border-left:8px solid #e96b56}#header .logo h1 a,#header .logo h1 a:hover{color:#545454;text-decoration:none}#header .logo img{padding:0;margin:0;max-height:40px}.scrolled-offset{margin-top:70px}.navbar{padding:0}.navbar ul{margin:0;padding:0;display:flex;list-style:none;align-items:center}.navbar li{position:relative}.navbar a,.navbar a:focus{display:flex;align-items:center;justify-content:space-between;padding:10px 0 10px 30px;font-family:Poppins,sans-serif;font-size:14px;color:#545454;white-space:nowrap;transition:.3s}.navbar a i,.navbar a:focus i{font-size:12px;line-height:0;margin-left:5px}.navbar a:hover,.navbar .active,.navbar .active:focus,.navbar li:hover>a{color:#e96b56}.navbar .getstarted,.navbar .getstarted:focus{background:#e96b56;padding:8px 20px;margin-left:30px;border-radius:4px;color:#fff}.navbar .getstarted:hover,.navbar .getstarted:focus:hover{color:#fff;background:#ec7f6d}.navbar .dropdown ul{display:block;position:absolute;left:24px;top:calc(100% + 30px);margin:0;padding:10px 0;z-index:99;opacity:0;visibility:hidden;background:#fff;box-shadow:0 0 30px #7f89a140;transition:.3s}.navbar .dropdown ul li{min-width:200px}.navbar .dropdown ul a{padding:10px 20px;font-size:14px;text-transform:none;color:#545454}.navbar .dropdown ul a i{font-size:12px}.navbar .dropdown ul a:hover,.navbar .dropdown ul .active:hover,.navbar .dropdown ul li:hover>a{color:#e96b56}.navbar .dropdown:hover>ul{opacity:1;top:100%;visibility:visible}.navbar .dropdown .dropdown ul{top:0;left:calc(100% - 30px);visibility:hidden}.navbar .dropdown .dropdown:hover>ul{opacity:1;top:0;left:100%;visibility:visible}@media (max-width: 1366px){.navbar .dropdown .dropdown ul{left:-90%}.navbar .dropdown .dropdown:hover>ul{left:-100%}}.mobile-nav-toggle{color:#545454;font-size:28px;cursor:pointer;display:none;line-height:0;transition:.5s}.mobile-nav-toggle.bi-x{color:#fff}@media (max-width: 991px){.mobile-nav-toggle{display:block}.navbar ul{display:none}}.navbar-mobile{position:fixed;overflow:hidden;top:0;right:0;left:0;bottom:0;background:rgba(59,59,59,.9);transition:.3s;z-index:999}.navbar-mobile .mobile-nav-toggle{position:absolute;top:15px;right:15px}.navbar-mobile ul{display:block;position:absolute;top:55px;right:15px;bottom:15px;left:15px;padding:10px 0;background-color:#fff;overflow-y:auto;transition:.3s}.navbar-mobile a,.navbar-mobile a:focus{padding:10px 20px;font-size:15px;color:#545454}.navbar-mobile a:hover,.navbar-mobile .active,.navbar-mobile li:hover>a{color:#e96b56}.navbar-mobile .getstarted,.navbar-mobile .getstarted:focus{margin:15px}.navbar-mobile .dropdown ul{position:static;display:none;margin:10px 20px;padding:10px 0;z-index:99;opacity:1;visibility:visible;background:#fff;box-shadow:0 0 30px #7f89a140}.navbar-mobile .dropdown ul li{min-width:200px}.navbar-mobile .dropdown ul a{padding:10px 20px}.navbar-mobile .dropdown ul a i{font-size:12px}.navbar-mobile .dropdown ul a:hover,.navbar-mobile .dropdown ul .active:hover,.navbar-mobile .dropdown ul li:hover>a{color:#e96b56}.navbar-mobile .dropdown>.dropdown-active{display:block}\n"],encapsulation:2}),n})(),r8=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-footer"]],decls:88,vars:0,consts:[["id","footer"],[1,"footer-top"],[1,"container"],[1,"row"],[1,"col-lg-3","col-md-6","footer-links"],[1,"bx","bx-chevron-right"],["routerLink",""],["routerLink","/contact"],["routerLink","/about"],["href","#"],["href","/gallery"],[1,"col-lg-3","col-md-6","footer-contact"],[1,"col-lg-3","col-md-6","footer-info"],[1,"social-links","mt-3"],["href","https://www.instagram.com/v_manishk/",1,"instagram"],[1,"bx","bxl-twitter"],["href","https://www.instagram.com/raj_walnekar/",1,"instagram"],[1,"bx","bxl-facebook"],["href","https://www.instagram.com/aakashy_05/",1,"instagram"],[1,"bx","bxl-instagram"],["href","#",1,"google-plus"],[1,"bx","bxl-skype"],[1,"copyright"],[1,"credits"],["href","https://profile.vmanishk.in/"]],template:function(e,i){1&e&&(l.TgZ(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4"),l._uU(6,"Useful Links"),l.qZA(),l.TgZ(7,"ul")(8,"li"),l._UZ(9,"i",5),l.TgZ(10,"a",6),l._uU(11,"Home"),l.qZA()(),l.TgZ(12,"li"),l._UZ(13,"i",5),l.TgZ(14,"a",7),l._uU(15,"Contact"),l.qZA()(),l.TgZ(16,"li"),l._UZ(17,"i",5),l.TgZ(18,"a",8),l._uU(19,"About us"),l.qZA()(),l.TgZ(20,"li"),l._UZ(21,"i",5),l.TgZ(22,"a",6),l._uU(23,"Terms of service"),l.qZA()(),l.TgZ(24,"li"),l._UZ(25,"i",5),l.TgZ(26,"a",6),l._uU(27,"Privacy policy"),l.qZA()()()(),l.TgZ(28,"div",4)(29,"h4"),l._uU(30,"Our Services"),l.qZA(),l.TgZ(31,"ul")(32,"li"),l._UZ(33,"i",5),l.TgZ(34,"a",9),l._uU(35,"Enlist Photo"),l.qZA()(),l.TgZ(36,"li"),l._UZ(37,"i",5),l.TgZ(38,"a",9),l._uU(39,"Purchase Photo"),l.qZA()(),l.TgZ(40,"li"),l._UZ(41,"i",5),l.TgZ(42,"a",10),l._uU(43,"Gallary"),l.qZA()()()(),l.TgZ(44,"div",11)(45,"h4"),l._uU(46,"Contact Us"),l.qZA(),l.TgZ(47,"p"),l._uU(48," 301 Film-City Street "),l._UZ(49,"br"),l._uU(50," Mumbai, MH 400063"),l._UZ(51,"br"),l._uU(52," India "),l._UZ(53,"br")(54,"br"),l.TgZ(55,"strong"),l._uU(56,"Phone:"),l.qZA(),l._uU(57," +91 74981 83940"),l._UZ(58,"br"),l.TgZ(59,"strong"),l._uU(60,"Email:"),l.qZA(),l._uU(61," info@photofactory.com"),l._UZ(62,"br"),l.qZA()(),l.TgZ(63,"div",12)(64,"h3"),l._uU(65,"About PhotoFactory"),l.qZA(),l.TgZ(66,"p"),l._uU(67,"We make you Rich & Poor."),l.qZA(),l.TgZ(68,"div",13)(69,"a",14),l._UZ(70,"i",15),l.qZA(),l.TgZ(71,"a",16),l._UZ(72,"i",17),l.qZA(),l.TgZ(73,"a",18),l._UZ(74,"i",19),l.qZA(),l.TgZ(75,"a",20),l._UZ(76,"i",21),l.qZA()()()()()(),l.TgZ(77,"div",2)(78,"div",22),l._uU(79," \xa9 Copyright "),l.TgZ(80,"strong")(81,"span"),l._uU(82,"PhotoFactory"),l.qZA()(),l._uU(83," Since 2022. All Rights Reserved "),l.qZA(),l.TgZ(84,"div",23),l._uU(85," Designed by "),l.TgZ(86,"a",24),l._uU(87,"ManishKumar Vishwakarma"),l.qZA()()()())},directives:[Rh],styles:["#footer[_ngcontent-%COMP%]{background:#404040;padding:0 0 30px;color:#fff;font-size:14px}#footer[_ngcontent-%COMP%]   .footer-newsletter[_ngcontent-%COMP%]{padding:50px 0;background:#404040}#footer[_ngcontent-%COMP%]   .footer-newsletter[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:24px;margin:0 0 20px;padding:0;line-height:1;font-weight:600}#footer[_ngcontent-%COMP%]   .footer-newsletter[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin-top:30px;background:#fff;padding:6px 10px;position:relative;border-radius:50px}#footer[_ngcontent-%COMP%]   .footer-newsletter[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{border:0;padding:8px;width:calc(100% - 140px)}#footer[_ngcontent-%COMP%]   .footer-newsletter[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;border:0;background:none;font-size:16px;padding:0 30px;margin:3px;background:#e96b56;color:#fff;transition:.3s;border-radius:50px}#footer[_ngcontent-%COMP%]   .footer-newsletter[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%]:hover{background:#e6573f}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]{background:#3b3b3b;border-top:1px solid #474747;border-bottom:1px solid #474747;padding:60px 0 30px}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .footer-info[_ngcontent-%COMP%]{margin-bottom:30px}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .footer-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;margin:0 0 20px;padding:2px 0;line-height:1;font-weight:700}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .footer-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;line-height:24px;margin-bottom:0;font-family:Raleway,sans-serif;color:#fff}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px;display:inline-block;background:#545454;color:#fff;line-height:1;padding:8px 0;margin-right:4px;border-radius:50%;text-align:center;width:36px;height:36px;transition:.3s}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#e96b56;color:#fff;text-decoration:none}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:#fff;text-transform:uppercase;position:relative;padding-bottom:12px}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]{margin-bottom:30px}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding-right:2px;color:#ec7f6d;font-size:18px;line-height:1}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px 0;display:flex;align-items:center}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{padding-top:0}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;transition:.3s;display:inline-block;line-height:1}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .footer-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#e96b56}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .footer-contact[_ngcontent-%COMP%]{margin-bottom:30px}#footer[_ngcontent-%COMP%]   .footer-top[_ngcontent-%COMP%]   .footer-contact[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:26px}#footer[_ngcontent-%COMP%]   .copyright[_ngcontent-%COMP%]{text-align:center;padding-top:30px}#footer[_ngcontent-%COMP%]   .credits[_ngcontent-%COMP%]{padding-top:10px;text-align:center;font-size:13px;color:#fff}"]}),n})(),o8=(()=>{class n{constructor(){this.title="photo-factory"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:13,vars:0,consts:[["lang","en"],["charset","UTF-8"],["http-equiv","X-UA-Compatible","content","IE=edge"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"sticky-top"],[1,"sticky-bottom"]],template:function(e,i){1&e&&(l.TgZ(0,"html",0)(1,"head"),l._UZ(2,"meta",1)(3,"meta",2)(4,"meta",3),l.TgZ(5,"title"),l._uU(6,"Photo Factory"),l.qZA()(),l.TgZ(7,"body")(8,"div",4),l._UZ(9,"app-navbar"),l.qZA(),l._UZ(10,"router-outlet"),l.TgZ(11,"div",5),l._UZ(12,"app-footer"),l.qZA()()())},directives:[n8,Mp,r8],styles:[""]}),n})();const jV_firebase={projectId:"ipup-9d50f",appId:"1:72373579066:web:084b7b0f809f84671ff403",storageBucket:"ipup-9d50f.appspot.com",locationId:"us-central",apiKey:"AIzaSyBTUjJXUIAfv_DGASQm_y7w-OE0qbeH384",authDomain:"ipup-9d50f.firebaseapp.com",messagingSenderId:"72373579066"},zV="@firebase/database";let PR="";function $V(n){PR=n}class l8{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,N.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,N.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class c8{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,N.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const qV=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new l8(t)}}catch(t){}return new c8},dm=qV("localStorage"),RR=qV("sessionStorage"),_y=new $s.Yd("@firebase/database"),WV=function(){let n=1;return function(){return n++}}(),ZV=function(n){const t=(0,N.dS)(n),e=new N.gQ;e.update(t);const i=e.digest();return N.US.encodeByteArray(i)},Ew=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=Ew.apply(null,i):t+="object"==typeof i?(0,N.Pz)(i):i,t+=" "}return t};let hm=null,YV=!0;const KV=function(n,t){(0,N.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(_y.logLevel=$s.in.VERBOSE,hm=_y.log.bind(_y),t&&RR.set("logging_enabled",!0)):"function"==typeof n?hm=n:(hm=null,RR.remove("logging_enabled"))},co=function(...n){if(!0===YV&&(YV=!1,null===hm&&!0===RR.get("logging_enabled")&&KV(!0)),hm){const t=Ew.apply(null,n);hm(t)}},Dw=function(n){return function(...t){co(n,...t)}},FR=function(...n){const t="FIREBASE INTERNAL ERROR: "+Ew(...n);_y.error(t)},Jc=function(...n){const t=`FIREBASE FATAL ERROR: ${Ew(...n)}`;throw _y.error(t),new Error(t)},fs=function(...n){const t="FIREBASE WARNING: "+Ew(...n);_y.warn(t)},sT=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Ld="[MIN_NAME]",eu="[MAX_NAME]",fm=function(n,t){if(n===t)return 0;if(n===Ld||t===eu)return-1;if(t===Ld||n===eu)return 1;{const e=aT(n),i=aT(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},h8=function(n,t){return n===t?0:n<t?-1:1},Sw=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,N.Pz)(t))},NR=function(n){if("object"!=typeof n||null===n)return(0,N.Pz)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,N.Pz)(t[i]),e+=":",e+=NR(n[t[i]]);return e+="}",e},QV=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function uo(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const XV=function(n){(0,N.hu)(!sT(n),"Invalid JSON number");const i=1023;let r,o,c,d,p;0===n?(o=0,c=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(d=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=d+i,c=Math.round(n*Math.pow(2,52-d)-Math.pow(2,52))):(o=0,c=Math.round(n/Math.pow(2,-1074))));const v=[];for(p=52;p;p-=1)v.push(c%2?1:0),c=Math.floor(c/2);for(p=11;p;p-=1)v.push(o%2?1:0),o=Math.floor(o/2);v.push(r?1:0),v.reverse();const M=v.join("");let E="";for(p=0;p<64;p+=8){let O=parseInt(M.substr(p,8),2).toString(16);1===O.length&&(O="0"+O),E+=O}return E.toLowerCase()},m8=new RegExp("^-?(0*)\\d{1,10}$"),JV=-2147483648,LR=2147483647,aT=function(n){if(m8.test(n)){const t=Number(n);if(t>=JV&&t<=LR)return t}return null},vy=function(n){try{n()}catch(t){setTimeout(()=>{throw fs("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Tw=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class v8{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){fs(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class y8{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(co("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',fs(t)}}let Iw=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const rU=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,sU="websocket",aU="long_polling";class VR{constructor(t,e,i,r,o=!1,c="",d=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=c,this.includeNamespaceInQueryParams=d,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=dm.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&dm.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function lU(n,t,e){let i;if((0,N.hu)("string"==typeof t,"typeof type must == string"),(0,N.hu)("object"==typeof e,"typeof params must == object"),t===sU)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==aU)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function C8(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return uo(e,(o,c)=>{r.push(o+"="+c)}),i+r.join("&")}class w8{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,N.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,N.p$)(this.counters_)}}const UR={},HR={};function jR(n){const t=n.toString();return UR[t]||(UR[t]=new w8),UR[t]}class x8{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&vy(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class yy{constructor(t,e,i,r,o,c,d){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=c,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Dw(t),this.stats_=jR(e),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),lU(e,aU,p))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new x8(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,N.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new zR((...o)=>{const[c,d,p,v,M]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=d,this.password=p;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[c,d]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(c,d)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&rU.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){yy.forceAllow_=!0}static forceDisallow(){yy.forceDisallow_=!0}static isAvailable(){return!((0,N.Yr)()||!yy.forceAllow_&&(yy.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,N.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,N.h$)(e),r=QV(i,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,N.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,N.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class zR{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,N.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=WV(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=zR.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(d){co("frame writing exception"),d.stack&&co(d.stack),co(d)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||co("No IE domain setting required")}catch(e){const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const c=this.pendingSegs.shift();i=i+"&seg"+r+"="+c.seg+"&ts"+r+"="+c.ts+"&d"+r+"="+c.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,N.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{co("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch(i){}},Math.floor(1))}}let Ow=null;"undefined"!=typeof MozWebSocket?Ow=MozWebSocket:"undefined"!=typeof WebSocket&&(Ow=WebSocket);let kw=(()=>{class n{constructor(e,i,r,o,c,d,p){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Dw(this.connId),this.stats_=jR(i),this.connURL=n.connectionURL_(i,d,p,o),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,o){const c={v:"5"};return!(0,N.Yr)()&&"undefined"!=typeof location&&location.hostname&&rU.test(location.hostname)&&(c.r="f"),i&&(c.s=i),r&&(c.ls=r),o&&(c.ac=o),lU(e,sU,c)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,dm.set("previous_websocket_failure",!0);try{if((0,N.Yr)()){const o={headers:{"User-Agent":`Firebase/5/${PR}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(o.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(o.headers["X-Firebase-AppCheck"]=this.appCheckToken);const c=process.env,d=0===this.connURL.indexOf("wss://")?c.HTTPS_PROXY||c.https_proxy:c.HTTP_PROXY||c.http_proxy;d&&(o.proxy={origin:d}),this.mySock=new Ow(this.connURL,[],o)}else this.mySock=new Ow(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==Ow&&!n.forceDisallow_}static previouslyFailed(){return dm.isInMemoryStorage||!0===dm.get("previous_websocket_failure")}markConnectionHealthy(){dm.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,N.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,N.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,N.Pz)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=QV(i,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})();class GR{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[yy,kw]}initTransports_(t){const e=kw&&kw.isAvailable();let i=e&&!kw.previouslyFailed();if(t.webSocketOnly&&(e||fs("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[kw];else{const r=this.transports_=[];for(const o of GR.ALL_TRANSPORTS)o&&o.isAvailable()&&r.push(o)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class CU{constructor(t,e,i,r,o,c,d,p,v,M){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=c,this.onReady_=d,this.onDisconnect_=p,this.onKill_=v,this.lastSessionId=M,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Dw("c:"+this.id+":"),this.transportManager_=new GR(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=Tw(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Sw("t",t),i=Sw("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Sw("t",t),i=Sw("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Sw("t",t);if("d"in t){const i=t.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?FR("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):FR("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&fs("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),Tw(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Tw(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(dm.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class wU{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class MU{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,N.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let o=0;o<r.length;o++)if(r[o].callback===e&&(!i||i===r[o].context))return void r.splice(o,1)}validateEventType_(t){(0,N.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class cT extends MU{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,N.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new cT}getInitialEvent(t){return(0,N.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Vn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function kn(){return new Vn("")}function nn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Zf(n){return n.pieces_.length-n.pieceNum_}function Qn(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Vn(n.pieces_,t)}function qR(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Aw(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function DU(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Vn(t,0)}function Mi(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Vn)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new Vn(e,0)}function rn(n){return n.pieceNum_>=n.pieces_.length}function ps(n,t){const e=nn(n),i=nn(t);if(null===e)return t;if(e===i)return ps(Qn(n),Qn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function q8(n,t){const e=Aw(n,0),i=Aw(t,0);for(let r=0;r<e.length&&r<i.length;r++){const o=fm(e[r],i[r]);if(0!==o)return o}return e.length===i.length?0:e.length<i.length?-1:1}function WR(n,t){if(Zf(n)!==Zf(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function al(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(Zf(n)>Zf(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class W8{constructor(t,e){this.errorPrefix_=e,this.parts_=Aw(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,N.ug)(this.parts_[i]);SU(this)}}function SU(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+pm(n))}function pm(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class ZR extends MU{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new ZR}getInitialEvent(t){return(0,N.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Pw=1e3;let dT,gm=(()=>{class n extends wU{constructor(e,i,r,o,c,d,p,v){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=c,this.authTokenProvider_=d,this.appCheckTokenProvider_=p,this.authOverride_=v,this.id=n.nextPersistentConnectionId_++,this.log_=Dw("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Pw,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,v&&!(0,N.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ZR.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&cT.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const o=++this.requestNumber_,c={r:o,a:e,b:i};this.log_((0,N.Pz)(c)),(0,N.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const i=new N.BH,r={p:e._path.toString(),q:e._queryObject},o={action:"g",request:r,onComplete:d=>{const p=d.d;"ok"===d.s?(this.onDataUpdate_(r.p,p,!1,null),i.resolve(p)):i.reject(p)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const d=this.outstandingGets_[c];void 0===d||o!==d||(delete this.outstandingGets_[c],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+c+" timed out on connection"),i.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(c),i.promise}listen(e,i,r,o){this.initConnection_();const c=e._queryIdentifier,d=e._path.toString();this.log_("Listen called for "+d+" "+c),this.listens.has(d)||this.listens.set(d,new Map),(0,N.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,N.hu)(!this.listens.get(d).has(c),"listen() called twice for same path/queryId.");const p={onComplete:o,hashFn:i,query:e,tag:r};this.listens.get(d).set(c,p),this.connected_&&this.sendListen_(p)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const c={p:r};e.tag&&(c.q=i._queryObject,c.t=e.tag),c.h=e.hashFn(),this.sendRequest("q",c,p=>{const v=p.d,M=p.s;n.warnOnListenWarnings_(v,i),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",p),"ok"!==M&&this.removeListen_(r,o),e.onComplete&&e.onComplete(M,v))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,N.r3)(e,"w")){const r=(0,N.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();fs(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,N.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,N.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const c=o.s,d=o.d||"error";this.authToken_===e&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),(0,N.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,i)}sendUnlisten_(e,i,r,o){this.log_("Unlisten on "+e+" for "+i);const c={p:e};o&&(c.q=r,c.t=o),this.sendRequest("n",c)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,o){const c={p:i,d:r};this.log_("onDisconnect "+e,c),this.sendRequest(e,c,d=>{o&&setTimeout(()=>{o(d.s,d.d)},Math.floor(0))})}put(e,i,r,o){this.putInternal("p",e,i,r,o)}merge(e,i,r,o){this.putInternal("m",e,i,r,o)}putInternal(e,i,r,o,c){this.initConnection_();const d={p:i,d:r};void 0!==c&&(d.h=c),this.outstandingPuts_.push({action:e,request:d,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(c.s,c.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,N.Pz)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):FR("Unrecognized action received from server: "+(0,N.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,N.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Pw,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Pw,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Pw),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Ce.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),o=e.onRealtimeDisconnect_.bind(e),c=e.id+":"+n.nextConnectionId_++,d=e.lastSessionId;let p=!1,v=null;const M=function(){v?v.close():(p=!0,o())};e.realtime_={close:M,sendRequest:function(R){(0,N.hu)(v,"sendRequest call when we're not connected not allowed."),v.sendRequest(R)}};const O=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[R,V]=yield Promise.all([e.authTokenProvider_.getToken(O),e.appCheckTokenProvider_.getToken(O)]);p?co("getToken() completed but was canceled"):(co("getToken() completed. Creating connection."),e.authToken_=R&&R.accessToken,e.appCheckToken_=V&&V.token,v=new CU(c,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,o,Z=>{fs(Z+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},d))}catch(R){e.log_("Failed to get token: "+R),p||(e.repoInfo_.nodeAdmin&&fs(R),M())}}})()}interrupt(e){co("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){co("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,N.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Pw,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(c=>NR(c)).join("$"):"default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const r=new Vn(e).toString();let o;if(this.listens.has(r)){const c=this.listens.get(r);o=c.get(i),c.delete(i),0===c.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,i){co("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){co("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,N.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+PR.replace(/\./g,"-")]=1,(0,N.uI)()?e["framework.cordova"]=1:(0,N.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=cT.getInstance().currentlyOnline();return(0,N.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class sn{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new sn(t,e)}}class uT{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new sn(Ld,t),r=new sn(Ld,e);return 0!==this.compare(i,r)}minPost(){return sn.MIN}}class OU extends uT{static get __EMPTY_NODE(){return dT}static set __EMPTY_NODE(t){dT=t}compare(t,e){return fm(t.name,e.name)}isDefinedOn(t){throw(0,N.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return sn.MIN}maxPost(){return new sn(eu,dT)}makePost(t,e){return(0,N.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new sn(t,dT)}toString(){return".key"}}const tu=new OU;class hT{constructor(t,e,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let c=1;for(;!t.isEmpty();)if(t=t,c=e?i(t.key,e):1,r&&(c*=-1),c<0)t=this.isReverse_?t.left:t.right;else{if(0===c){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let KR,Yl=(()=>{class n{constructor(e,i,r,o,c){this.key=e,this.value=i,this.color=null!=r?r:n.RED,this.left=null!=o?o:Ks.EMPTY_NODE,this.right=null!=c?c:Ks.EMPTY_NODE}copy(e,i,r,o,c){return new n(null!=e?e:this.key,null!=i?i:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=c?c:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,r),null):0===c?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ks.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,o;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return Ks.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Ks{constructor(t,e=Ks.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Ks(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Yl.BLACK,null,null))}remove(t){return new Ks(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Yl.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new hT(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new hT(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new hT(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new hT(this.root_,null,this.comparator_,!0,t)}}function nW(n,t){return fm(n.name,t.name)}function YR(n,t){return fm(n,t)}Ks.EMPTY_NODE=new class tW{copy(t,e,i,r,o){return this}insert(t,e,i){return new Yl(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const kU=function(n){return"number"==typeof n?"number:"+XV(n):"string:"+n},AU=function(n){if(n.isLeafNode()){const t=n.val();(0,N.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,N.r3)(t,".sv"),"Priority must be a string or number.")}else(0,N.hu)(n===KR||n.isEmpty(),"priority of unexpected type.");(0,N.hu)(n===KR||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let PU,RU,FU,by=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,N.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),AU(this.priorityNode_)}static set __childrenNodeConstructor(e){PU=e}static get __childrenNodeConstructor(){return PU}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return rn(e)?this:".priority"===nn(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=nn(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,N.hu)(".priority"!==r||1===Zf(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Qn(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+kU(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?XV(this.value_):this.value_,this.lazyHash_=ZV(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,N.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(i),c=n.VALUE_TYPE_ORDER.indexOf(r);return(0,N.hu)(o>=0,"Unknown leaf type: "+i),(0,N.hu)(c>=0,"Unknown leaf type: "+r),o===c?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const oi=new class sW extends uT{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),o=i.compareTo(r);return 0===o?fm(t.name,e.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return sn.MIN}maxPost(){return new sn(eu,new by("[PRIORITY-POST]",FU))}makePost(t,e){const i=RU(t);return new sn(e,new by("[PRIORITY-POST]",i))}toString(){return".priority"}},aW=Math.log(2);class lW{constructor(t){this.count=parseInt(Math.log(t+1)/aW,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const fT=function(n,t,e,i){n.sort(t);const r=function(p,v){const M=v-p;let E,O;if(0===M)return null;if(1===M)return E=n[p],O=e?e(E):E,new Yl(O,E.node,Yl.BLACK,null,null);{const R=parseInt(M/2,10)+p,V=r(p,R),Z=r(R+1,v);return E=n[R],O=e?e(E):E,new Yl(O,E.node,Yl.BLACK,V,Z)}},d=function(p){let v=null,M=null,E=n.length;const O=function(V,Z){const re=E-V,Pe=E;E-=V;const Re=r(re+1,Pe),We=n[re],Le=e?e(We):We;R(new Yl(Le,We.node,Z,null,Re))},R=function(V){v?(v.left=V,v=V):(M=V,v=V)};for(let V=0;V<p.count;++V){const Z=p.nextBitIsOne(),re=Math.pow(2,p.count-(V+1));Z?O(re,Yl.BLACK):(O(re,Yl.BLACK),O(re,Yl.RED))}return M}(new lW(n.length));return new Ks(i||t,d)};let QR;const Cy={};class Bd{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,N.hu)(Cy&&oi,"ChildrenNode.ts has not been loaded"),QR=QR||new Bd({".priority":Cy},{".priority":oi}),QR}get(t){const e=(0,N.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Ks?e:null}hasIndex(t){return(0,N.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,N.hu)(t!==tu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=e.getIterator(sn.Wrap);let d,c=o.getNext();for(;c;)r=r||t.isDefinedOn(c.node),i.push(c),c=o.getNext();d=r?fT(i,t.getCompare()):Cy;const p=t.toString(),v=Object.assign({},this.indexSet_);v[p]=t;const M=Object.assign({},this.indexes_);return M[p]=d,new Bd(M,v)}addToIndexes(t,e){const i=(0,N.UI)(this.indexes_,(r,o)=>{const c=(0,N.DV)(this.indexSet_,o);if((0,N.hu)(c,"Missing index implementation for "+o),r===Cy){if(c.isDefinedOn(t.node)){const d=[],p=e.getIterator(sn.Wrap);let v=p.getNext();for(;v;)v.name!==t.name&&d.push(v),v=p.getNext();return d.push(t),fT(d,c.getCompare())}return Cy}{const d=e.get(t.name);let p=r;return d&&(p=p.remove(new sn(t.name,d))),p.insert(t,t.node)}});return new Bd(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,N.UI)(this.indexes_,r=>{if(r===Cy)return r;{const o=e.get(t.name);return o?r.remove(new sn(t.name,o)):r}});return new Bd(i,this.indexSet_)}}let Rw,qt=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&AU(this.priorityNode_),this.children_.isEmpty()&&(0,N.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Rw||(Rw=new n(new Ks(YR),null,Bd.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Rw}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?Rw:i}}getChild(e){const i=nn(e);return null===i?this:this.getImmediateChild(i).getChild(Qn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,N.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new sn(e,i);let o,c;i.isEmpty()?(o=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,i),c=this.indexMap_.addToIndexes(r,this.children_));const d=o.isEmpty()?Rw:this.priorityNode_;return new n(o,d,c)}}updateChild(e,i){const r=nn(e);if(null===r)return i;{(0,N.hu)(".priority"!==nn(e)||1===Zf(e),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(Qn(e),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,o=0,c=!0;if(this.forEachChild(oi,(d,p)=>{i[d]=p.val(e),r++,c&&n.INTEGER_REGEXP_.test(d)?o=Math.max(o,Number(d)):c=!1}),!e&&c&&o<2*r){const d=[];for(const p in i)d[p]=i[p];return d}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+kU(this.getPriority().val())+":"),this.forEachChild(oi,(i,r)=>{const o=r.hash();""!==o&&(e+=":"+i+":"+o)}),this.lazyHash_=""===e?"":ZV(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const o=this.resolveIndex_(r);if(o){const c=o.getPredecessorKey(new sn(e,i));return c?c.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new sn(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new sn(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,sn.Wrap);let c=o.peek();for(;null!=c&&i.compare(c,e)<0;)o.getNext(),c=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,sn.Wrap);let c=o.peek();for(;null!=c&&i.compare(c,e)>0;)o.getNext(),c=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Fw?-1:0}withIndex(e){if(e===tu||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===tu||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(oi),o=i.getIterator(oi);let c=r.getNext(),d=o.getNext();for(;c&&d;){if(c.name!==d.name||!c.node.equals(d.node))return!1;c=r.getNext(),d=o.getNext()}return null===c&&null===d}return!1}return!1}}resolveIndex_(e){return e===tu?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Fw=new class cW extends qt{constructor(){super(new Ks(YR),qt.EMPTY_NODE,Bd.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return qt.EMPTY_NODE}isEmpty(){return!1}};function Ai(n,t=null){if(null===n)return qt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,N.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new by(n,Ai(t));if(n instanceof Array){let e=qt.EMPTY_NODE;return uo(n,(i,r)=>{if((0,N.r3)(n,i)&&"."!==i.substring(0,1)){const o=Ai(r);(o.isLeafNode()||!o.isEmpty())&&(e=e.updateImmediateChild(i,o))}}),e.updatePriority(Ai(t))}{const e=[];let i=!1;if(uo(n,(c,d)=>{if("."!==c.substring(0,1)){const p=Ai(d);p.isEmpty()||(i=i||!p.getPriority().isEmpty(),e.push(new sn(c,p)))}}),0===e.length)return qt.EMPTY_NODE;const o=fT(e,nW,c=>c.name,YR);if(i){const c=fT(e,oi.getCompare());return new qt(o,Ai(t),new Bd({".priority":c},{".priority":oi}))}return new qt(o,Ai(t),Bd.Default)}}Object.defineProperties(sn,{MIN:{value:new sn(Ld,qt.EMPTY_NODE)},MAX:{value:new sn(eu,Fw)}}),OU.__EMPTY_NODE=qt.EMPTY_NODE,by.__childrenNodeConstructor=qt,function iW(n){KR=n}(Fw),function oW(n){FU=n}(Fw),function rW(n){RU=n}(Ai);class XR extends uT{constructor(t){super(),this.indexPath_=t,(0,N.hu)(!rn(t)&&".priority"!==nn(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),o=i.compareTo(r);return 0===o?fm(t.name,e.name):o}makePost(t,e){const i=Ai(t),r=qt.EMPTY_NODE.updateChild(this.indexPath_,i);return new sn(e,r)}maxPost(){const t=qt.EMPTY_NODE.updateChild(this.indexPath_,Fw);return new sn(eu,t)}toString(){return Aw(this.indexPath_,0).join("/")}}const JR=new class dW extends uT{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?fm(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return sn.MIN}maxPost(){return sn.MAX}makePost(t,e){const i=Ai(t);return new sn(e,i)}toString(){return".value"}},wy="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",hW=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const o=new Array(8);for(r=7;r>=0;r--)o[r]=wy.charAt(e%64),e=Math.floor(e/64);(0,N.hu)(0===e,"Cannot push at time == 0");let c=o.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)c+=wy.charAt(t[r]);return(0,N.hu)(20===c.length,"nextPushId: Length should be 20."),c}}(),BU=function(n){if(n===""+LR)return"-";const t=aT(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let c=0;c<e.length;c++)e[c]=n.charAt(c);if(e.length<786)return e.push("-"),e.join("");let i=e.length-1;for(;i>=0&&"z"===e[i];)i--;if(-1===i)return eu;const o=wy.charAt(wy.indexOf(e[i])+1);return e[i]=o,e.slice(0,i+1).join("")},VU=function(n){if(n===""+JV)return Ld;const t=aT(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let i=0;i<e.length;i++)e[i]=n.charAt(i);return"-"===e[e.length-1]?1===e.length?""+LR:(delete e[e.length-1],e.join("")):(e[e.length-1]=wy.charAt(wy.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function UU(n){return{type:"value",snapshotNode:n}}function My(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function Nw(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function Lw(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class t1{constructor(t){this.index_=t}updateChild(t,e,i,r,o,c){(0,N.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=t.getImmediateChild(e);return d.getChild(r).equals(i.getChild(r))&&d.isEmpty()===i.isEmpty()||(null!=c&&(i.isEmpty()?t.hasChild(e)?c.trackChildChange(Nw(e,d)):(0,N.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?c.trackChildChange(My(e,i)):c.trackChildChange(Lw(e,i,d))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(oi,(r,o)=>{e.hasChild(r)||i.trackChildChange(Nw(r,o))}),e.isLeafNode()||e.forEachChild(oi,(r,o)=>{if(t.hasChild(r)){const c=t.getImmediateChild(r);c.equals(o)||i.trackChildChange(Lw(r,o,c))}else i.trackChildChange(My(r,o))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?qt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Bw{constructor(t){this.indexedFilter_=new t1(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Bw.getStartPost_(t),this.endPost_=Bw.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,i,r,o,c){return this.matches(new sn(e,i))||(i=qt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,o,c)}updateFullNode(t,e,i){e.isLeafNode()&&(e=qt.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(qt.EMPTY_NODE);const o=this;return e.forEachChild(oi,(c,d)=>{o.matches(new sn(c,d))||(r=r.updateImmediateChild(c,qt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class pW{constructor(t){this.rangedFilter_=new Bw(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,i,r,o,c){return this.rangedFilter_.matches(new sn(e,i))||(i=qt.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,o,c):this.fullLimitUpdateChild_(t,e,i,o,c)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=qt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let o;r=qt.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;o.hasNext()&&c<this.limit_;){const d=o.getNext();let p;if(p=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),d)<=0:this.index_.compare(d,this.rangedFilter_.getEndPost())<=0,!p)break;r=r.updateImmediateChild(d.name,d.node),c++}}else{let o,c,d,p;if(r=e.withIndex(this.index_),r=r.updatePriority(qt.EMPTY_NODE),this.reverse_){p=r.getReverseIterator(this.index_),o=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();const E=this.index_.getCompare();d=(O,R)=>E(R,O)}else p=r.getIterator(this.index_),o=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),d=this.index_.getCompare();let v=0,M=!1;for(;p.hasNext();){const E=p.getNext();!M&&d(o,E)<=0&&(M=!0),M&&v<this.limit_&&d(E,c)<=0?v++:r=r.updateImmediateChild(E.name,qt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,o){let c;if(this.reverse_){const E=this.index_.getCompare();c=(O,R)=>E(R,O)}else c=this.index_.getCompare();const d=t;(0,N.hu)(d.numChildren()===this.limit_,"");const p=new sn(e,i),v=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),M=this.rangedFilter_.matches(p);if(d.hasChild(e)){const E=d.getImmediateChild(e);let O=r.getChildAfterChild(this.index_,v,this.reverse_);for(;null!=O&&(O.name===e||d.hasChild(O.name));)O=r.getChildAfterChild(this.index_,O,this.reverse_);const R=null==O?1:c(O,p);if(M&&!i.isEmpty()&&R>=0)return null!=o&&o.trackChildChange(Lw(e,i,E)),d.updateImmediateChild(e,i);{null!=o&&o.trackChildChange(Nw(e,E));const Z=d.updateImmediateChild(e,qt.EMPTY_NODE);return null!=O&&this.rangedFilter_.matches(O)?(null!=o&&o.trackChildChange(My(O.name,O.node)),Z.updateImmediateChild(O.name,O.node)):Z}}return i.isEmpty()?t:M&&c(v,p)>=0?(null!=o&&(o.trackChildChange(Nw(v.name,v.node)),o.trackChildChange(My(e,i))),d.updateImmediateChild(e,i).updateImmediateChild(v.name,qt.EMPTY_NODE)):t}}class pT{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=oi}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,N.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,N.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ld}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,N.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,N.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:eu}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,N.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===oi}copy(){const t=new pT;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function n1(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function r1(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function gT(n,t){const e=n.copy();return e.index_=t,e}function HU(n){const t={};if(n.isDefault())return t;let e;return n.index_===oi?e="$priority":n.index_===JR?e="$value":n.index_===tu?e="$key":((0,N.hu)(n.index_ instanceof XR,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,N.Pz)(e),n.startSet_&&(t.startAt=(0,N.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,N.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,N.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,N.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function jU(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==oi&&(t.i=n.index_.toString()),t}class mT extends wU{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Dw("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,N.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const c=mT.getListenId_(t,i),d={};this.listens_[c]=d;const p=HU(t._queryParams);this.restRequest_(o+".json",p,(v,M)=>{let E=M;if(404===v&&(E=null,v=null),null===v&&this.onDataUpdate_(o,E,!1,i),(0,N.DV)(this.listens_,c)===d){let O;O=v?401===v?"permission_denied":"rest_error:"+v:"ok",r(O,null)}})}unlisten(t,e){const i=mT.getListenId_(t,e);delete this.listens_[i]}get(t){const e=HU(t._queryParams),i=t._path.toString(),r=new N.BH;return this.restRequest_(i+".json",e,(o,c)=>{let d=c;404===o&&(d=null,o=null),null===o?(this.onDataUpdate_(i,d,!1,null),r.resolve(d)):r.reject(new Error(d))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(e.auth=r.accessToken),o&&o.token&&(e.ac=o.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,N.xO)(e);this.log_("Sending REST request for "+c);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(i&&4===d.readyState){this.log_("REST Response for "+c+" received. status:",d.status,"response:",d.responseText);let p=null;if(d.status>=200&&d.status<300){try{p=(0,N.cI)(d.responseText)}catch(v){fs("Failed to parse JSON response for "+c+": "+d.responseText)}i(null,p)}else 401!==d.status&&404!==d.status&&fs("Got unsuccessful REST response for "+c+" Status: "+d.status),i(d.status);i=null}},d.open("GET",c,!0),d.send()})}}class bW{constructor(){this.rootNode_=qt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function _T(){return{value:null,children:new Map}}function xy(n,t,e){if(rn(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=nn(t);n.children.has(i)||n.children.set(i,_T()),xy(n.children.get(i),t=Qn(t),e)}}function o1(n,t){if(rn(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(oi,(i,r)=>{xy(n,new Vn(i),r)}),o1(n,t)}}if(n.children.size>0){const e=nn(t);return t=Qn(t),n.children.has(e)&&o1(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function s1(n,t,e){null!==n.value?e(t,n.value):function CW(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{s1(r,new Vn(t.toString()+"/"+i),e)})}class wW{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&uo(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class EW{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new wW(t);const i=1e4+2e4*Math.random();Tw(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;uo(t,(r,o)=>{o>0&&(0,N.r3)(this.statsToReport_,r)&&(e[r]=o,i=!0)}),i&&this.server_.reportStats(e),Tw(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ll=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(ll||(ll={})),ll))();function c1(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class vT{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=ll.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(rn(this.path)){if(null!=this.affectedTree.value)return(0,N.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Vn(t));return new vT(kn(),e,this.revert)}}return(0,N.hu)(nn(this.path)===t,"operationForChild called for unrelated child."),new vT(Qn(this.path),this.affectedTree,this.revert)}}class Vw{constructor(t,e){this.source=t,this.path=e,this.type=ll.LISTEN_COMPLETE}operationForChild(t){return rn(this.path)?new Vw(this.source,kn()):new Vw(this.source,Qn(this.path))}}class mm{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=ll.OVERWRITE}operationForChild(t){return rn(this.path)?new mm(this.source,kn(),this.snap.getImmediateChild(t)):new mm(this.source,Qn(this.path),this.snap)}}class Ey{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=ll.MERGE}operationForChild(t){if(rn(this.path)){const e=this.children.subtree(new Vn(t));return e.isEmpty()?null:e.value?new mm(this.source,kn(),e.value):new Ey(this.source,kn(),e)}return(0,N.hu)(nn(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Ey(this.source,Qn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Yf{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(rn(t))return this.isFullyInitialized()&&!this.filtered_;const e=nn(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class DW{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Uw(n,t,e,i,r,o){const c=i.filter(d=>d.type===e);c.sort((d,p)=>function IW(n,t,e){if(null==t.childName||null==e.childName)throw(0,N.g5)("Should only compare child_ events.");const i=new sn(t.childName,t.snapshotNode),r=new sn(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,d,p)),c.forEach(d=>{const p=function TW(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,d,o);r.forEach(v=>{v.respondsTo(d.type)&&t.push(v.createEvent(p,n.query_))})})}function yT(n,t){return{eventCache:n,serverCache:t}}function Hw(n,t,e,i){return yT(new Yf(t,e,i),n.serverCache)}function GU(n,t,e,i){return yT(n.eventCache,new Yf(t,e,i))}function bT(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function _m(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let u1;class si{constructor(t,e=(()=>(u1||(u1=new Ks(h8)),u1))()){this.value=t,this.children=e}static fromObject(t){let e=new si(null);return uo(t,(i,r)=>{e=e.set(new Vn(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:kn(),value:this.value};if(rn(t))return null;{const i=nn(t),r=this.children.get(i);if(null!==r){const o=r.findRootMostMatchingPathAndValue(Qn(t),e);return null!=o?{path:Mi(new Vn(i),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(rn(t))return this;{const e=nn(t),i=this.children.get(e);return null!==i?i.subtree(Qn(t)):new si(null)}}set(t,e){if(rn(t))return new si(e,this.children);{const i=nn(t),o=(this.children.get(i)||new si(null)).set(Qn(t),e),c=this.children.insert(i,o);return new si(this.value,c)}}remove(t){if(rn(t))return this.children.isEmpty()?new si(null):new si(null,this.children);{const e=nn(t),i=this.children.get(e);if(i){const r=i.remove(Qn(t));let o;return o=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&o.isEmpty()?new si(null):new si(this.value,o)}return this}}get(t){if(rn(t))return this.value;{const e=nn(t),i=this.children.get(e);return i?i.get(Qn(t)):null}}setTree(t,e){if(rn(t))return e;{const i=nn(t),o=(this.children.get(i)||new si(null)).setTree(Qn(t),e);let c;return c=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new si(this.value,c)}}fold(t){return this.fold_(kn(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(Mi(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,kn(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(rn(t))return null;{const o=nn(t),c=this.children.get(o);return c?c.findOnPath_(Qn(t),Mi(e,o),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,kn(),e)}foreachOnPath_(t,e,i){if(rn(t))return this;{this.value&&i(e,this.value);const r=nn(t),o=this.children.get(r);return o?o.foreachOnPath_(Qn(t),Mi(e,r),i):new si(null)}}foreach(t){this.foreach_(kn(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(Mi(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class Kl{constructor(t){this.writeTree_=t}static empty(){return new Kl(new si(null))}}function jw(n,t,e){if(rn(t))return new Kl(new si(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let o=i.value;const c=ps(r,t);return o=o.updateChild(c,e),new Kl(n.writeTree_.set(r,o))}{const r=new si(e),o=n.writeTree_.setTree(t,r);return new Kl(o)}}}function d1(n,t,e){let i=n;return uo(e,(r,o)=>{i=jw(i,Mi(t,r),o)}),i}function $U(n,t){if(rn(t))return Kl.empty();{const e=n.writeTree_.setTree(t,new si(null));return new Kl(e)}}function h1(n,t){return null!=vm(n,t)}function vm(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(ps(e.path,t)):null}function qU(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(oi,(i,r)=>{t.push(new sn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new sn(i,r.value))}),t}function Kf(n,t){if(rn(t))return n;{const e=vm(n,t);return new Kl(null!=e?new si(e):n.writeTree_.subtree(t))}}function f1(n){return n.writeTree_.isEmpty()}function Dy(n,t){return WU(kn(),n.writeTree_,t)}function WU(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,o)=>{".priority"===r?((0,N.hu)(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):e=WU(Mi(n,r),o,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(Mi(n,".priority"),i)),e}}function CT(n,t){return XU(t,n)}function FW(n,t){if(n.snap)return al(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&al(Mi(n.path,e),t))return!0;return!1}function LW(n){return n.visible}function ZU(n,t,e){let i=Kl.empty();for(let r=0;r<n.length;++r){const o=n[r];if(t(o)){const c=o.path;let d;if(o.snap)al(e,c)?(d=ps(e,c),i=jw(i,d,o.snap)):al(c,e)&&(d=ps(c,e),i=jw(i,kn(),o.snap.getChild(d)));else{if(!o.children)throw(0,N.g5)("WriteRecord should have .snap or .children");if(al(e,c))d=ps(e,c),i=d1(i,d,o.children);else if(al(c,e))if(d=ps(c,e),rn(d))i=d1(i,kn(),o.children);else{const p=(0,N.DV)(o.children,nn(d));if(p){const v=p.getChild(Qn(d));i=jw(i,kn(),v)}}}}}return i}function YU(n,t,e,i,r){if(i||r){const o=Kf(n.visibleWrites,t);return!r&&f1(o)?e:r||null!=e||h1(o,kn())?Dy(ZU(n.allWrites,function(v){return(v.visible||r)&&(!i||!~i.indexOf(v.writeId))&&(al(v.path,t)||al(t,v.path))},t),e||qt.EMPTY_NODE):null}{const o=vm(n.visibleWrites,t);if(null!=o)return o;{const c=Kf(n.visibleWrites,t);return f1(c)?e:null!=e||h1(c,kn())?Dy(c,e||qt.EMPTY_NODE):null}}}function wT(n,t,e,i){return YU(n.writeTree,n.treePath,t,e,i)}function p1(n,t){return function BW(n,t,e){let i=qt.EMPTY_NODE;const r=vm(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(oi,(o,c)=>{i=i.updateImmediateChild(o,c)}),i;if(e){const o=Kf(n.visibleWrites,t);return e.forEachChild(oi,(c,d)=>{const p=Dy(Kf(o,new Vn(c)),d);i=i.updateImmediateChild(c,p)}),qU(o).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}return qU(Kf(n.visibleWrites,t)).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}(n.writeTree,n.treePath,t)}function KU(n,t,e,i){return function VW(n,t,e,i,r){(0,N.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=Mi(t,e);if(h1(n.visibleWrites,o))return null;{const c=Kf(n.visibleWrites,o);return f1(c)?r.getChild(e):Dy(c,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function MT(n,t){return function HW(n,t){return vm(n.visibleWrites,t)}(n.writeTree,Mi(n.treePath,t))}function g1(n,t,e){return function UW(n,t,e,i){const r=Mi(t,e),o=vm(n.visibleWrites,r);return null!=o?o:i.isCompleteForChild(e)?Dy(Kf(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function QU(n,t){return XU(Mi(n.treePath,t),n.writeTree)}function XU(n,t){return{treePath:n,writeTree:t}}class $W{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,N.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,N.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if("child_added"===e&&"child_removed"===o)this.changeMap.set(i,Lw(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===o)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===o)this.changeMap.set(i,Nw(i,r.oldSnap));else if("child_changed"===e&&"child_added"===o)this.changeMap.set(i,My(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==o)throw(0,N.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,Lw(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const JU=new class qW{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class m1{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new Yf(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return g1(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:_m(this.viewCache_),o=function GW(n,t,e,i,r,o){return function jW(n,t,e,i,r,o,c){let d;const p=Kf(n.visibleWrites,t),v=vm(p,kn());if(null!=v)d=v;else{if(null==e)return[];d=Dy(p,e)}if(d=d.withIndex(c),d.isEmpty()||d.isLeafNode())return[];{const M=[],E=c.getCompare(),O=o?d.getReverseIteratorFrom(i,c):d.getIteratorFrom(i,c);let R=O.getNext();for(;R&&M.length<r;)0!==E(R,i)&&M.push(R),R=O.getNext();return M}}(n.writeTree,n.treePath,t,e,i,r,o)}(this.writes_,r,e,1,i,t);return 0===o.length?null:o[0]}}function eH(n,t,e,i,r,o){const c=t.eventCache;if(null!=MT(i,e))return t;{let d,p;if(rn(e))if((0,N.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const v=_m(t),E=p1(i,v instanceof qt?v:qt.EMPTY_NODE);d=n.filter.updateFullNode(t.eventCache.getNode(),E,o)}else{const v=wT(i,_m(t));d=n.filter.updateFullNode(t.eventCache.getNode(),v,o)}else{const v=nn(e);if(".priority"===v){(0,N.hu)(1===Zf(e),"Can't have a priority with additional path components");const M=c.getNode();p=t.serverCache.getNode();const E=KU(i,e,M,p);d=null!=E?n.filter.updatePriority(M,E):c.getNode()}else{const M=Qn(e);let E;if(c.isCompleteForChild(v)){p=t.serverCache.getNode();const O=KU(i,e,c.getNode(),p);E=null!=O?c.getNode().getImmediateChild(v).updateChild(M,O):c.getNode().getImmediateChild(v)}else E=g1(i,v,t.serverCache);d=null!=E?n.filter.updateChild(c.getNode(),v,E,M,r,o):c.getNode()}}return Hw(t,d,c.isFullyInitialized()||rn(e),n.filter.filtersNodes())}}function xT(n,t,e,i,r,o,c,d){const p=t.serverCache;let v;const M=c?n.filter:n.filter.getIndexedFilter();if(rn(e))v=M.updateFullNode(p.getNode(),i,null);else if(M.filtersNodes()&&!p.isFiltered()){const R=p.getNode().updateChild(e,i);v=M.updateFullNode(p.getNode(),R,null)}else{const R=nn(e);if(!p.isCompleteForPath(e)&&Zf(e)>1)return t;const V=Qn(e),re=p.getNode().getImmediateChild(R).updateChild(V,i);v=".priority"===R?M.updatePriority(p.getNode(),re):M.updateChild(p.getNode(),R,re,V,JU,null)}const E=GU(t,v,p.isFullyInitialized()||rn(e),M.filtersNodes());return eH(n,E,e,r,new m1(r,E,o),d)}function _1(n,t,e,i,r,o,c){const d=t.eventCache;let p,v;const M=new m1(r,t,o);if(rn(e))v=n.filter.updateFullNode(t.eventCache.getNode(),i,c),p=Hw(t,v,!0,n.filter.filtersNodes());else{const E=nn(e);if(".priority"===E)v=n.filter.updatePriority(t.eventCache.getNode(),i),p=Hw(t,v,d.isFullyInitialized(),d.isFiltered());else{const O=Qn(e),R=d.getNode().getImmediateChild(E);let V;if(rn(O))V=i;else{const Z=M.getCompleteChild(E);V=null!=Z?".priority"===qR(O)&&Z.getChild(DU(O)).isEmpty()?Z:Z.updateChild(O,i):qt.EMPTY_NODE}p=R.equals(V)?t:Hw(t,n.filter.updateChild(d.getNode(),E,V,O,M,c),d.isFullyInitialized(),n.filter.filtersNodes())}}return p}function tH(n,t){return n.eventCache.isCompleteForChild(t)}function nH(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function v1(n,t,e,i,r,o,c,d){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let v,p=t;v=rn(e)?i:new si(null).setTree(e,i);const M=t.serverCache.getNode();return v.children.inorderTraversal((E,O)=>{if(M.hasChild(E)){const V=nH(0,t.serverCache.getNode().getImmediateChild(E),O);p=xT(n,p,new Vn(E),V,r,o,c,d)}}),v.children.inorderTraversal((E,O)=>{const R=!t.serverCache.isCompleteForChild(E)&&void 0===O.value;if(!M.hasChild(E)&&!R){const Z=nH(0,t.serverCache.getNode().getImmediateChild(E),O);p=xT(n,p,new Vn(E),Z,r,o,c,d)}}),p}class tZ{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new t1(i.getIndex()),o=function gW(n){return n.loadsAllData()?new t1(n.getIndex()):n.hasLimit()?new pW(n):new Bw(n)}(i);this.processor_=function WW(n){return{filter:n}}(o);const c=e.serverCache,d=e.eventCache,p=r.updateFullNode(qt.EMPTY_NODE,c.getNode(),null),v=o.updateFullNode(qt.EMPTY_NODE,d.getNode(),null),M=new Yf(p,c.isFullyInitialized(),r.filtersNodes()),E=new Yf(v,d.isFullyInitialized(),o.filtersNodes());this.viewCache_=yT(E,M),this.eventGenerator_=new DW(this.query_)}get query(){return this.query_}}function rZ(n,t){const e=_m(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!rn(t)&&!e.getImmediateChild(nn(t)).isEmpty())?e.getChild(t):null}function iH(n){return 0===n.eventRegistrations_.length}function rH(n,t,e){const i=[];if(e){(0,N.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(o=>{const c=o.createCancelEvent(e,r);c&&i.push(c)})}if(t){let r=[];for(let o=0;o<n.eventRegistrations_.length;++o){const c=n.eventRegistrations_[o];if(c.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(o+1));break}}else r.push(c)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function oH(n,t,e,i){t.type===ll.MERGE&&null!==t.source.queryId&&((0,N.hu)(_m(n.viewCache_),"We should always have a full cache before handling merges"),(0,N.hu)(bT(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=function YW(n,t,e,i,r){const o=new $W;let c,d;if(e.type===ll.OVERWRITE){const v=e;v.source.fromUser?c=_1(n,t,v.path,v.snap,i,r,o):((0,N.hu)(v.source.fromServer,"Unknown source."),d=v.source.tagged||t.serverCache.isFiltered()&&!rn(v.path),c=xT(n,t,v.path,v.snap,i,r,d,o))}else if(e.type===ll.MERGE){const v=e;v.source.fromUser?c=function QW(n,t,e,i,r,o,c){let d=t;return i.foreach((p,v)=>{const M=Mi(e,p);tH(t,nn(M))&&(d=_1(n,d,M,v,r,o,c))}),i.foreach((p,v)=>{const M=Mi(e,p);tH(t,nn(M))||(d=_1(n,d,M,v,r,o,c))}),d}(n,t,v.path,v.children,i,r,o):((0,N.hu)(v.source.fromServer,"Unknown source."),d=v.source.tagged||t.serverCache.isFiltered(),c=v1(n,t,v.path,v.children,i,r,d,o))}else if(e.type===ll.ACK_USER_WRITE){const v=e;c=v.revert?function eZ(n,t,e,i,r,o){let c;if(null!=MT(i,e))return t;{const d=new m1(i,t,r),p=t.eventCache.getNode();let v;if(rn(e)||".priority"===nn(e)){let M;if(t.serverCache.isFullyInitialized())M=wT(i,_m(t));else{const E=t.serverCache.getNode();(0,N.hu)(E instanceof qt,"serverChildren would be complete if leaf node"),M=p1(i,E)}M=M,v=n.filter.updateFullNode(p,M,o)}else{const M=nn(e);let E=g1(i,M,t.serverCache);null==E&&t.serverCache.isCompleteForChild(M)&&(E=p.getImmediateChild(M)),v=null!=E?n.filter.updateChild(p,M,E,Qn(e),d,o):t.eventCache.getNode().hasChild(M)?n.filter.updateChild(p,M,qt.EMPTY_NODE,Qn(e),d,o):p,v.isEmpty()&&t.serverCache.isFullyInitialized()&&(c=wT(i,_m(t)),c.isLeafNode()&&(v=n.filter.updateFullNode(v,c,o)))}return c=t.serverCache.isFullyInitialized()||null!=MT(i,kn()),Hw(t,v,c,n.filter.filtersNodes())}}(n,t,v.path,i,r,o):function XW(n,t,e,i,r,o,c){if(null!=MT(r,e))return t;const d=t.serverCache.isFiltered(),p=t.serverCache;if(null!=i.value){if(rn(e)&&p.isFullyInitialized()||p.isCompleteForPath(e))return xT(n,t,e,p.getNode().getChild(e),r,o,d,c);if(rn(e)){let v=new si(null);return p.getNode().forEachChild(tu,(M,E)=>{v=v.set(new Vn(M),E)}),v1(n,t,e,v,r,o,d,c)}return t}{let v=new si(null);return i.foreach((M,E)=>{const O=Mi(e,M);p.isCompleteForPath(O)&&(v=v.set(M,p.getNode().getChild(O)))}),v1(n,t,e,v,r,o,d,c)}}(n,t,v.path,v.affectedTree,i,r,o)}else{if(e.type!==ll.LISTEN_COMPLETE)throw(0,N.g5)("Unknown operation type: "+e.type);c=function JW(n,t,e,i,r){const o=t.serverCache;return eH(n,GU(t,o.getNode(),o.isFullyInitialized()||rn(e),o.isFiltered()),e,i,JU,r)}(n,t,e.path,i,o)}const p=o.getChanges();return function KW(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=bT(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&e.push(UU(bT(t)))}}(t,c,p),{viewCache:c,changes:p}}(n.processor_,r,t,e,i);return function ZW(n,t){(0,N.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,N.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),(0,N.hu)(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,sH(n,o.changes,o.viewCache.eventCache.getNode(),null)}function sH(n,t,e,i){return function SW(n,t,e,i){const r=[],o=[];return t.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&o.push(function fW(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(c.childName,c.snapshotNode))}),Uw(n,r,"child_removed",t,i,e),Uw(n,r,"child_added",t,i,e),Uw(n,r,"child_moved",o,i,e),Uw(n,r,"child_changed",t,i,e),Uw(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let ET,ST;class aH{constructor(){this.views=new Map}}function y1(n,t,e,i){const r=t.source.queryId;if(null!==r){const o=n.views.get(r);return(0,N.hu)(null!=o,"SyncTree gave us an op for an invalid query."),oH(o,t,e,i)}{let o=[];for(const c of n.views.values())o=o.concat(oH(c,t,e,i));return o}}function lH(n,t,e,i,r){const c=n.views.get(t._queryIdentifier);if(!c){let d=wT(e,r?i:null),p=!1;d?p=!0:i instanceof qt?(d=p1(e,i),p=!1):(d=qt.EMPTY_NODE,p=!1);const v=yT(new Yf(d,p,!1),new Yf(i,r,!1));return new tZ(t,v)}return c}function cH(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Qf(n,t){let e=null;for(const i of n.views.values())e=e||rZ(i,t);return e}function uH(n,t){return t._queryParams.loadsAllData()?DT(n):n.views.get(t._queryIdentifier)}function dH(n,t){return null!=uH(n,t)}function Xf(n){return null!=DT(n)}function DT(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let pZ=1;class hH{constructor(t){this.listenProvider_=t,this.syncPointTree_=new si(null),this.pendingWriteTree_=function zW(){return{visibleWrites:Kl.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function b1(n,t,e,i,r){return function kW(n,t,e,i,r){(0,N.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=jw(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?Sy(n,new mm({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Jf(n,t,e=!1){const i=function PW(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function RW(n,t){const e=n.allWrites.findIndex(d=>d.writeId===t);(0,N.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,o=!1,c=n.allWrites.length-1;for(;r&&c>=0;){const d=n.allWrites[c];d.visible&&(c>=e&&FW(d,i.path)?r=!1:al(i.path,d.path)&&(o=!0)),c--}return!!r&&(o?(function NW(n){n.visibleWrites=ZU(n.allWrites,LW,kn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=$U(n.visibleWrites,i.path):uo(i.children,p=>{n.visibleWrites=$U(n.visibleWrites,Mi(i.path,p))}),!0))}(n.pendingWriteTree_,t)){let o=new si(null);return null!=i.snap?o=o.set(kn(),!0):uo(i.children,c=>{o=o.set(new Vn(c),!0)}),Sy(n,new vT(i.path,o,e))}return[]}function zw(n,t,e){return Sy(n,new mm({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function C1(n,t,e,i){const r=t._path,o=n.syncPointTree_.get(r);let c=[];if(o&&("default"===t._queryIdentifier||dH(o,t))){const d=function dZ(n,t,e,i){const r=t._queryIdentifier,o=[];let c=[];const d=Xf(n);if("default"===r)for(const[p,v]of n.views.entries())c=c.concat(rH(v,e,i)),iH(v)&&(n.views.delete(p),v.query._queryParams.loadsAllData()||o.push(v.query));else{const p=n.views.get(r);p&&(c=c.concat(rH(p,e,i)),iH(p)&&(n.views.delete(r),p.query._queryParams.loadsAllData()||o.push(p.query)))}return d&&!Xf(n)&&o.push(new(function lZ(){return(0,N.hu)(ET,"Reference.ts has not been loaded"),ET}())(t._repo,t._path)),{removed:o,events:c}}(o,t,e,i);(function cZ(n){return 0===n.views.size})(o)&&(n.syncPointTree_=n.syncPointTree_.remove(r));const p=d.removed;c=d.events;const v=-1!==p.findIndex(E=>E._queryParams.loadsAllData()),M=n.syncPointTree_.findOnPath(r,(E,O)=>Xf(O));if(v&&!M){const E=n.syncPointTree_.subtree(r);if(!E.isEmpty()){const O=function wZ(n){return n.fold((t,e,i)=>{if(e&&Xf(e))return[DT(e)];{let r=[];return e&&(r=cH(e)),uo(i,(o,c)=>{r=r.concat(c)}),r}})}(E);for(let R=0;R<O.length;++R){const V=O[R],Z=V.query,re=mH(n,V);n.listenProvider_.startListening(Gw(Z),IT(n,Z),re.hashFn,re.onComplete)}}}!M&&p.length>0&&!i&&(v?n.listenProvider_.stopListening(Gw(t),null):p.forEach(E=>{const O=n.queryToTagMap.get(OT(E));n.listenProvider_.stopListening(Gw(E),O)})),function MZ(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=OT(i),o=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(o)}}}(n,p)}return c}function fH(n,t,e){const i=t._path;let r=null,o=!1;n.syncPointTree_.foreachOnPath(i,(E,O)=>{const R=ps(E,i);r=r||Qf(O,R),o=o||Xf(O)});let d,c=n.syncPointTree_.get(i);c?(o=o||Xf(c),r=r||Qf(c,kn())):(c=new aH,n.syncPointTree_=n.syncPointTree_.set(i,c)),null!=r?d=!0:(d=!1,r=qt.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((O,R)=>{const V=Qf(R,kn());V&&(r=r.updateImmediateChild(O,V))}));const p=dH(c,t);if(!p&&!t._queryParams.loadsAllData()){const E=OT(t);(0,N.hu)(!n.queryToTagMap.has(E),"View does not exist, but we have a tag");const O=function xZ(){return pZ++}();n.queryToTagMap.set(E,O),n.tagToQueryMap.set(O,E)}let M=function uZ(n,t,e,i,r,o){const c=lH(n,t,i,r,o);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,c),function oZ(n,t){n.eventRegistrations_.push(t)}(c,e),function sZ(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(oi,(o,c)=>{i.push(My(o,c))}),e.isFullyInitialized()&&i.push(UU(e.getNode())),sH(n,i,e.getNode(),t)}(c,e)}(c,t,e,CT(n.pendingWriteTree_,i),r,d);if(!p&&!o){const E=uH(c,t);M=M.concat(function EZ(n,t,e){const i=t._path,r=IT(n,t),o=mH(n,e),c=n.listenProvider_.startListening(Gw(t),r,o.hashFn,o.onComplete),d=n.syncPointTree_.subtree(i);if(r)(0,N.hu)(!Xf(d.value),"If we're adding a query, it shouldn't be shadowed");else{const p=d.fold((v,M,E)=>{if(!rn(v)&&M&&Xf(M))return[DT(M).query];{let O=[];return M&&(O=O.concat(cH(M).map(R=>R.query))),uo(E,(R,V)=>{O=O.concat(V)}),O}});for(let v=0;v<p.length;++v){const M=p[v];n.listenProvider_.stopListening(Gw(M),IT(n,M))}}return c}(n,t,E))}return M}function TT(n,t,e){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(t,(c,d)=>{const v=Qf(d,ps(c,t));if(v)return v});return YU(r,t,o,e,!0)}function Sy(n,t){return pH(t,n.syncPointTree_,null,CT(n.pendingWriteTree_,kn()))}function pH(n,t,e,i){if(rn(n.path))return gH(n,t,e,i);{const r=t.get(kn());null==e&&null!=r&&(e=Qf(r,kn()));let o=[];const c=nn(n.path),d=n.operationForChild(c),p=t.children.get(c);if(p&&d){const v=e?e.getImmediateChild(c):null,M=QU(i,c);o=o.concat(pH(d,p,v,M))}return r&&(o=o.concat(y1(r,n,i,e))),o}}function gH(n,t,e,i){const r=t.get(kn());null==e&&null!=r&&(e=Qf(r,kn()));let o=[];return t.children.inorderTraversal((c,d)=>{const p=e?e.getImmediateChild(c):null,v=QU(i,c),M=n.operationForChild(c);M&&(o=o.concat(gH(M,d,p,v)))}),r&&(o=o.concat(y1(r,n,i,e))),o}function mH(n,t){const e=t.query,i=IT(n,e);return{hashFn:()=>(function nZ(n){return n.viewCache_.serverCache.getNode()}(t)||qt.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function vZ(n,t,e){const i=w1(n,e);if(i){const r=M1(i),o=r.path,c=r.queryId,d=ps(o,t);return x1(n,o,new Vw(c1(c),d))}return[]}(n,e._path,i):function _Z(n,t){return Sy(n,new Vw({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const o=function g8(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return C1(n,e,null,o)}}}}function IT(n,t){const e=OT(t);return n.queryToTagMap.get(e)}function OT(n){return n._path.toString()+"$"+n._queryIdentifier}function w1(n,t){return n.tagToQueryMap.get(t)}function M1(n){const t=n.indexOf("$");return(0,N.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Vn(n.substr(0,t))}}function x1(n,t,e){const i=n.syncPointTree_.get(t);return(0,N.hu)(i,"Missing sync point for query tag that we're tracking"),y1(i,e,CT(n.pendingWriteTree_,t),null)}function Gw(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function fZ(){return(0,N.hu)(ST,"Reference.ts has not been loaded"),ST}())(n._repo,n._path):n}class E1{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new E1(e)}node(){return this.node_}}class D1{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Mi(this.path_,t);return new D1(this.syncTree_,e)}node(){return TT(this.syncTree_,this.path_)}}const _H=function(n,t,e){return n&&"object"==typeof n?((0,N.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?SZ(n[".sv"],t,e):"object"==typeof n[".sv"]?TZ(n[".sv"],t):void(0,N.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},SZ=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,N.hu)(!1,"Unexpected server value: "+n)},TZ=function(n,t,e){n.hasOwnProperty("increment")||(0,N.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,N.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,N.hu)(null!=r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const c=r.getValue();return"number"!=typeof c?i:c+i},vH=function(n,t,e,i){return T1(t,new D1(e,n),i)},S1=function(n,t,e){return T1(n,new E1(t),e)};function T1(n,t,e){const i=n.getPriority().val(),r=_H(i,t.getImmediateChild(".priority"),e);let o;if(n.isLeafNode()){const c=n,d=_H(c.getValue(),t,e);return d!==c.getValue()||r!==c.getPriority().val()?new by(d,Ai(r)):n}{const c=n;return o=c,r!==c.getPriority().val()&&(o=o.updatePriority(new by(r))),c.forEachChild(oi,(d,p)=>{const v=T1(p,t.getImmediateChild(d),e);v!==p&&(o=o.updateImmediateChild(d,v))}),o}}class I1{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function kT(n,t){let e=t instanceof Vn?t:new Vn(t),i=n,r=nn(e);for(;null!==r;){const o=(0,N.DV)(i.node.children,r)||{children:{},childCount:0};i=new I1(r,i,o),e=Qn(e),r=nn(e)}return i}function ym(n){return n.node.value}function O1(n,t){n.node.value=t,k1(n)}function yH(n){return n.node.childCount>0}function AT(n,t){uo(n.node.children,(e,i)=>{t(new I1(e,n,i))})}function bH(n,t,e,i){e&&!i&&t(n),AT(n,r=>{bH(r,t,!0,i)}),e&&i&&t(n)}function $w(n){return new Vn(null===n.parent?n.name:$w(n.parent)+"/"+n.name)}function k1(n){null!==n.parent&&function kZ(n,t,e){const i=function IZ(n){return void 0===ym(n)&&!yH(n)}(e),r=(0,N.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,k1(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,k1(n))}(n.parent,n.name,n)}const AZ=/[\[\].#$\/\u0000-\u001F\u007F]/,PZ=/[\[\].#$\u0000-\u001F\u007F]/,A1=10485760,PT=function(n){return"string"==typeof n&&0!==n.length&&!AZ.test(n)},CH=function(n){return"string"==typeof n&&0!==n.length&&!PZ.test(n)},qw=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!sT(n)||n&&"object"==typeof n&&(0,N.r3)(n,".sv")},nu=function(n,t,e,i){i&&void 0===t||Ww((0,N.gK)(n,"value"),t,e)},Ww=function(n,t,e){const i=e instanceof Vn?new W8(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+pm(i));if("function"==typeof t)throw new Error(n+"contains a function "+pm(i)+" with contents = "+t.toString());if(sT(t))throw new Error(n+"contains "+t.toString()+" "+pm(i));if("string"==typeof t&&t.length>A1/3&&(0,N.ug)(t)>A1)throw new Error(n+"contains a string greater than "+A1+" utf8 bytes "+pm(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,o=!1;if(uo(t,(c,d)=>{if(".value"===c)r=!0;else if(".priority"!==c&&".sv"!==c&&(o=!0,!PT(c)))throw new Error(n+" contains an invalid key ("+c+") "+pm(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Z8(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,N.ug)(t),SU(n)})(i,c),Ww(n,d,i),function Y8(n){const t=n.parts_.pop();n.byteLength_-=(0,N.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&o)throw new Error(n+' contains ".value" child '+pm(i)+" in addition to actual children.")}},wH=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,N.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const o=[];uo(t,(c,d)=>{const p=new Vn(c);if(Ww(r,d,Mi(e,p)),".priority"===qR(p)&&!qw(d))throw new Error(r+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(p)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const o=Aw(i);for(let c=0;c<o.length;c++)if((".priority"!==o[c]||c!==o.length-1)&&!PT(o[c]))throw new Error(n+"contains an invalid key ("+o[c]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(q8);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&al(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,o)},P1=function(n,t,e){if(!e||void 0!==t){if(sT(t))throw new Error((0,N.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!qw(t))throw new Error((0,N.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Zw=function(n,t,e,i){if(!(i&&void 0===e||PT(e)))throw new Error((0,N.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Yw=function(n,t,e,i){if(!(i&&void 0===e||CH(e)))throw new Error((0,N.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},cl=function(n,t){if(".info"===nn(t))throw new Error(n+" failed = Can't modify data under /.info/")},MH=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!PT(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),CH(n)}(e))throw new Error((0,N.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class LZ{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function RT(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],o=r.getPath();null!==e&&!WR(o,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:o}),e.events.push(r)}e&&n.eventLists_.push(e)}function R1(n,t,e){RT(n,e),xH(n,i=>WR(i,t))}function ul(n,t,e){RT(n,e),xH(n,i=>al(i,t)||al(t,i))}function xH(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(BZ(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function BZ(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();hm&&co("event: "+e.toString()),vy(i)}}}const EH="repo_interrupt";class UZ{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new LZ,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=_T(),this.transactionQueueTree_=new I1,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function DH(n){const e=n.infoData_.getNode(new Vn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Kw(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:DH(n)})}function SH(n,t,e,i,r){n.dataUpdateCount++;const o=new Vn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let c=[];if(r)if(i){const p=(0,N.UI)(e,v=>Ai(v));c=function bZ(n,t,e,i){const r=w1(n,i);if(r){const o=M1(r),c=o.path,d=o.queryId,p=ps(c,t),v=si.fromObject(e);return x1(n,c,new Ey(c1(d),p,v))}return[]}(n.serverSyncTree_,o,p,r)}else{const p=Ai(e);c=function yZ(n,t,e,i){const r=w1(n,i);if(null!=r){const o=M1(r),c=o.path,d=o.queryId,p=ps(c,t);return x1(n,c,new mm(c1(d),p,e))}return[]}(n.serverSyncTree_,o,p,r)}else if(i){const p=(0,N.UI)(e,v=>Ai(v));c=function mZ(n,t,e){const i=si.fromObject(e);return Sy(n,new Ey({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,o,p)}else{const p=Ai(e);c=zw(n.serverSyncTree_,o,p)}let d=o;c.length>0&&(d=Iy(n,o)),ul(n.eventQueue_,d,c)}function TH(n,t){F1(n,"connected",t),!1===t&&function $Z(n){Ty(n,"onDisconnectEvents");const t=Kw(n),e=_T();s1(n.onDisconnect_,kn(),(r,o)=>{const c=vH(r,o,n.serverSyncTree_,t);xy(e,r,c)});let i=[];s1(e,kn(),(r,o)=>{i=i.concat(zw(n.serverSyncTree_,r,o));const c=V1(n,r);Iy(n,c)}),n.onDisconnect_=_T(),ul(n.eventQueue_,kn(),i)}(n)}function F1(n,t,e){const i=new Vn("/.info/"+t),r=Ai(e);n.infoData_.updateSnapshot(i,r);const o=zw(n.infoSyncTree_,i,r);ul(n.eventQueue_,i,o)}function FT(n){return n.nextWriteId_++}function N1(n,t,e,i,r){Ty(n,"set",{path:t.toString(),value:e,priority:i});const o=Kw(n),c=Ai(e,i),d=TT(n.serverSyncTree_,t),p=S1(c,d,o),v=FT(n),M=b1(n.serverSyncTree_,t,p,v,!0);RT(n.eventQueue_,M),n.server_.put(t.toString(),c.val(!0),(O,R)=>{const V="ok"===O;V||fs("set at "+t+" failed: "+O);const Z=Jf(n.serverSyncTree_,v,!V);ul(n.eventQueue_,t,Z),ep(0,r,O,R)});const E=V1(n,t);Iy(n,E),ul(n.eventQueue_,E,[])}function qZ(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&o1(n.onDisconnect_,t),ep(0,e,i,r)})}function IH(n,t,e,i){const r=Ai(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(o,c)=>{"ok"===o&&xy(n.onDisconnect_,t,r),ep(0,i,o,c)})}function L1(n,t,e){let i;i=".info"===nn(t._path)?C1(n.infoSyncTree_,t,e):C1(n.serverSyncTree_,t,e),R1(n.eventQueue_,t._path,i)}function OH(n){n.persistentConnection_&&n.persistentConnection_.interrupt(EH)}function Ty(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),co(e,...t)}function ep(n,t,e,i){t&&vy(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let o=r;i&&(o+=": "+i);const c=new Error(o);c.code=r,t(c)}})}function B1(n,t,e){return TT(n.serverSyncTree_,t,e)||qt.EMPTY_NODE}function NT(n,t=n.transactionQueueTree_){if(t||LT(n,t),ym(t)){const e=AH(n,t);(0,N.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function XZ(n,t,e){const i=e.map(v=>v.currentWriteId),r=B1(n,t,i);let o=r;const c=r.hash();for(let v=0;v<e.length;v++){const M=e[v];(0,N.hu)(0===M.status,"tryToSendTransactionQueue_: items in queue should all be run."),M.status=1,M.retryCount++;const E=ps(t,M.path);o=o.updateChild(E,M.currentOutputSnapshotRaw)}const d=o.val(!0),p=t;n.server_.put(p.toString(),d,v=>{Ty(n,"transaction put response",{path:p.toString(),status:v});let M=[];if("ok"===v){const E=[];for(let O=0;O<e.length;O++)e[O].status=2,M=M.concat(Jf(n.serverSyncTree_,e[O].currentWriteId)),e[O].onComplete&&E.push(()=>e[O].onComplete(null,!0,e[O].currentOutputSnapshotResolved)),e[O].unwatcher();LT(n,kT(n.transactionQueueTree_,t)),NT(n,n.transactionQueueTree_),ul(n.eventQueue_,t,M);for(let O=0;O<E.length;O++)vy(E[O])}else{if("datastale"===v)for(let E=0;E<e.length;E++)e[E].status=3===e[E].status?4:0;else{fs("transaction at "+p.toString()+" failed: "+v);for(let E=0;E<e.length;E++)e[E].status=4,e[E].abortReason=v}Iy(n,t)}},c)}(n,$w(t),e)}else yH(t)&&AT(t,e=>{NT(n,e)})}function Iy(n,t){const e=kH(n,t),i=$w(e);return function JZ(n,t,e){if(0===t.length)return;const i=[];let r=[];const c=t.filter(d=>0===d.status).map(d=>d.currentWriteId);for(let d=0;d<t.length;d++){const p=t[d],v=ps(e,p.path);let E,M=!1;if((0,N.hu)(null!==v,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)M=!0,E=p.abortReason,r=r.concat(Jf(n.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=25)M=!0,E="maxretry",r=r.concat(Jf(n.serverSyncTree_,p.currentWriteId,!0));else{const O=B1(n,p.path,c);p.currentInputSnapshot=O;const R=t[d].update(O.val());if(void 0!==R){Ww("transaction failed: Data returned ",R,p.path);let V=Ai(R);"object"==typeof R&&null!=R&&(0,N.r3)(R,".priority")||(V=V.updatePriority(O.getPriority()));const re=p.currentWriteId,Pe=Kw(n),Re=S1(V,O,Pe);p.currentOutputSnapshotRaw=V,p.currentOutputSnapshotResolved=Re,p.currentWriteId=FT(n),c.splice(c.indexOf(re),1),r=r.concat(b1(n.serverSyncTree_,p.path,Re,p.currentWriteId,p.applyLocally)),r=r.concat(Jf(n.serverSyncTree_,re,!0))}else M=!0,E="nodata",r=r.concat(Jf(n.serverSyncTree_,p.currentWriteId,!0))}ul(n.eventQueue_,e,r),r=[],M&&(t[d].status=2,setTimeout(t[d].unwatcher,Math.floor(0)),t[d].onComplete&&i.push("nodata"===E?()=>t[d].onComplete(null,!1,t[d].currentInputSnapshot):()=>t[d].onComplete(new Error(E),!1,null)))}LT(n,n.transactionQueueTree_);for(let d=0;d<i.length;d++)vy(i[d]);NT(n,n.transactionQueueTree_)}(n,AH(n,e),i),i}function kH(n,t){let e,i=n.transactionQueueTree_;for(e=nn(t);null!==e&&void 0===ym(i);)i=kT(i,e),e=nn(t=Qn(t));return i}function AH(n,t){const e=[];return PH(n,t,e),e.sort((i,r)=>i.order-r.order),e}function PH(n,t,e){const i=ym(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);AT(t,r=>{PH(n,r,e)})}function LT(n,t){const e=ym(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,O1(t,e.length>0?e:void 0)}AT(t,i=>{LT(n,i)})}function V1(n,t){const e=$w(kH(n,t)),i=kT(n.transactionQueueTree_,t);return function OZ(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{U1(n,r)}),U1(n,i),bH(i,r=>{U1(n,r)}),e}function U1(n,t){const e=ym(t);if(e){const i=[];let r=[],o=-1;for(let c=0;c<e.length;c++)3===e[c].status||(1===e[c].status?((0,N.hu)(o===c-1,"All SENT items should be at beginning of queue."),o=c,e[c].status=3,e[c].abortReason="set"):((0,N.hu)(0===e[c].status,"Unexpected transaction status in abort"),e[c].unwatcher(),r=r.concat(Jf(n.serverSyncTree_,e[c].currentWriteId,!0)),e[c].onComplete&&i.push(e[c].onComplete.bind(null,new Error("set"),!1,null))));-1===o?O1(t,void 0):e.length=o+1,ul(n.eventQueue_,$w(t),r);for(let c=0;c<i.length;c++)vy(i[c])}}const H1=function(n,t){const e=nY(n),i=e.namespace;return"firebase.com"===e.domain&&Jc(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&Jc("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&fs("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new VR(e.host,e.secure,i,t,"ws"===e.scheme||"wss"===e.scheme,"",i!==e.subdomain),path:new Vn(e.pathString)}},nY=function(n){let t="",e="",i="",r="",o="",c=!0,d="https",p=443;if("string"==typeof n){let v=n.indexOf("//");v>=0&&(d=n.substring(0,v-1),n=n.substring(v+2));let M=n.indexOf("/");-1===M&&(M=n.length);let E=n.indexOf("?");-1===E&&(E=n.length),t=n.substring(0,Math.min(M,E)),M<E&&(r=function eY(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(o){}t+="/"+r}return t}(n.substring(M,E)));const O=function tY(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):fs(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,E)));v=t.indexOf(":"),v>=0?(c="https"===d||"wss"===d,p=parseInt(t.substring(v+1),10)):v=t.length;const R=t.slice(0,v);if("localhost"===R.toLowerCase())e="localhost";else if(R.split(".").length<=2)e=R;else{const V=t.indexOf(".");i=t.substring(0,V).toLowerCase(),e=t.substring(V+1),o=i}"ns"in O&&(o=O.ns)}return{host:t,port:p,domain:e,subdomain:i,secure:c,scheme:d,pathString:r,namespace:o}};class RH{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,N.Pz)(this.snapshot.exportVal())}}class FH{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class NH{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,N.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class LH{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new N.BH;return qZ(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){cl("OnDisconnect.remove",this._path);const t=new N.BH;return IH(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){cl("OnDisconnect.set",this._path),nu("OnDisconnect.set",t,this._path,!1);const e=new N.BH;return IH(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){cl("OnDisconnect.setWithPriority",this._path),nu("OnDisconnect.setWithPriority",t,this._path,!1),P1("OnDisconnect.setWithPriority",e,!1);const i=new N.BH;return function WZ(n,t,e,i,r){const o=Ai(e,i);n.server_.onDisconnectPut(t.toString(),o.val(!0),(c,d)=>{"ok"===c&&xy(n.onDisconnect_,t,o),ep(0,r,c,d)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){cl("OnDisconnect.update",this._path),wH("OnDisconnect.update",t,this._path,!1);const e=new N.BH;return function ZZ(n,t,e,i){if((0,N.xb)(e))return co("onDisconnect().update() called with empty data.  Don't do anything."),void ep(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,o)=>{"ok"===r&&uo(e,(c,d)=>{const p=Ai(d);xy(n.onDisconnect_,Mi(t,c),p)}),ep(0,i,r,o)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Qs{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return rn(this._path)?null:qR(this._path)}get ref(){return new dl(this._repo,this._path)}get _queryIdentifier(){const t=jU(this._queryParams),e=NR(t);return"{}"===e?"default":e}get _queryObject(){return jU(this._queryParams)}isEqual(t){if(!((t=(0,N.m9)(t))instanceof Qs))return!1;const e=this._repo===t._repo,i=WR(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function $8(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function BT(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function tp(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===tu){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Ld)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==eu)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===oi){if(null!=t&&!qw(t)||null!=e&&!qw(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,N.hu)(n.getIndex()instanceof XR||n.getIndex()===JR,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function VT(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class dl extends Qs{constructor(t,e){super(t,e,new pT,!1)}get parent(){const t=DU(this._path);return null===t?null:new dl(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class bm{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Vn(t),i=Cm(this.ref,t);return new bm(this._node.getChild(e),i,oi)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new bm(r,Cm(this.ref,i),oi)))}hasChild(t){const e=new Vn(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function BH(n,t){return(n=(0,N.m9)(n))._checkNotDeleted("ref"),void 0!==t?Cm(n._root,t):n._root}function VH(n,t){(n=(0,N.m9)(n))._checkNotDeleted("refFromURL");const e=H1(t,n._repo.repoInfo_.nodeAdmin);MH("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Jc("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),BH(n,e.path.toString())}function Cm(n,t){return null===nn((n=(0,N.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Yw("child","path",e,!1)):Yw("child","path",t,!1),new dl(n._repo,Mi(n._path,t));var e}function j1(n,t){n=(0,N.m9)(n),cl("set",n._path),nu("set",t,n._path,!1);const e=new N.BH;return N1(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function aY(n,t){wH("update",t,n._path,!1);const e=new N.BH;return function GZ(n,t,e,i){Ty(n,"update",{path:t.toString(),value:e});let r=!0;const o=Kw(n),c={};if(uo(e,(d,p)=>{r=!1,c[d]=vH(Mi(t,d),Ai(p),n.serverSyncTree_,o)}),r)co("update() called with empty data.  Don't do anything."),ep(0,i,"ok",void 0);else{const d=FT(n),p=function gZ(n,t,e,i){!function AW(n,t,e,i){(0,N.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=d1(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=si.fromObject(e);return Sy(n,new Ey({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,c,d);RT(n.eventQueue_,p),n.server_.merge(t.toString(),e,(v,M)=>{const E="ok"===v;E||fs("update at "+t+" failed: "+v);const O=Jf(n.serverSyncTree_,d,!E),R=O.length>0?Iy(n,t):t;ul(n.eventQueue_,R,O),ep(0,i,v,M)}),uo(e,v=>{const M=V1(n,Mi(t,v));Iy(n,M)}),ul(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function lY(n){return function zZ(n,t){const e=function CZ(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(v,M)=>{const E=ps(v,e);i=i||Qf(M,E)});let r=n.syncPointTree_.get(e);r?i=i||Qf(r,kn()):(r=new aH,n.syncPointTree_=n.syncPointTree_.set(e,r));const o=null!=i,c=o?new Yf(i,!0,!1):null;return function iZ(n){return bT(n.viewCache_)}(lH(r,t,CT(n.pendingWriteTree_,t._path),o?c.getNode():qt.EMPTY_NODE,o))}(n.serverSyncTree_,t);return null!=e?Promise.resolve(e):n.server_.get(t).then(i=>{const r=Ai(i).withIndex(t._queryParams.getIndex()),o=zw(n.serverSyncTree_,t._path,r);return R1(n.eventQueue_,t._path,o),Promise.resolve(r)},i=>(Ty(n,"get for query "+(0,N.Pz)(t)+" failed: "+i),Promise.reject(new Error(i))))}((n=(0,N.m9)(n))._repo,n).then(t=>new bm(t,new dl(n._repo,n._path),n._queryParams.getIndex()))}class UT{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new RH("value",this,new bm(t.snapshotNode,new dl(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new FH(this,t,e):null}matches(t){return t instanceof UT&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class HT{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new FH(this,t,e):null}createEvent(t,e){(0,N.hu)(null!=t.childName,"Child events should have a childName.");const i=Cm(new dl(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new RH(t.type,this,new bm(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof HT&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Qw(n,t,e,i,r){let o;if("object"==typeof i&&(o=void 0,r=i),"function"==typeof i&&(o=i),r&&r.onlyOnce){const p=e,v=(M,E)=>{L1(n._repo,n,d),p(M,E)};v.userCallback=e.userCallback,v.context=e.context,e=v}const c=new NH(e,o||void 0),d="value"===t?new UT(c):new HT(t,c);return function YZ(n,t,e){let i;i=".info"===nn(t._path)?fH(n.infoSyncTree_,t,e):fH(n.serverSyncTree_,t,e),R1(n.eventQueue_,t._path,i)}(n._repo,n,d),()=>L1(n._repo,n,d)}function z1(n,t,e,i){return Qw(n,"value",t,e,i)}function UH(n,t,e,i){return Qw(n,"child_added",t,e,i)}function HH(n,t,e,i){return Qw(n,"child_changed",t,e,i)}function jH(n,t,e,i){return Qw(n,"child_moved",t,e,i)}function zH(n,t,e,i){return Qw(n,"child_removed",t,e,i)}function GH(n,t,e){let i=null;const r=e?new NH(e):null;"value"===t?i=new UT(r):t&&(i=new HT(t,r)),L1(n._repo,n,i)}class Ql{}class $H extends Ql{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){nu("endAt",this._value,t._path,!0);const e=r1(t._queryParams,this._value,this._key);if(VT(e),tp(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Qs(t._repo,t._path,e,t._orderByCalled)}}class uY extends Ql{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){nu("endBefore",this._value,t._path,!1);const e=function yW(n,t,e){let i,r;return n.index_===tu?("string"==typeof t&&(t=VU(t)),r=r1(n,t,e)):(i=null==e?Ld:VU(e),r=r1(n,t,i)),r.endBeforeSet_=!0,r}(t._queryParams,this._value,this._key);if(VT(e),tp(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Qs(t._repo,t._path,e,t._orderByCalled)}}class qH extends Ql{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){nu("startAt",this._value,t._path,!0);const e=n1(t._queryParams,this._value,this._key);if(VT(e),tp(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Qs(t._repo,t._path,e,t._orderByCalled)}}class fY extends Ql{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){nu("startAfter",this._value,t._path,!1);const e=function vW(n,t,e){let i;if(n.index_===tu)"string"==typeof t&&(t=BU(t)),i=n1(n,t,e);else{let r;r=null==e?eu:BU(e),i=n1(n,t,r)}return i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(VT(e),tp(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Qs(t._repo,t._path,e,t._orderByCalled)}}class gY extends Ql{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Qs(t._repo,t._path,function mW(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class _Y extends Ql{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Qs(t._repo,t._path,function _W(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class yY extends Ql{constructor(t){super(),this._path=t}_apply(t){BT(t,"orderByChild");const e=new Vn(this._path);if(rn(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new XR(e),r=gT(t._queryParams,i);return tp(r),new Qs(t._repo,t._path,r,!0)}}class CY extends Ql{_apply(t){BT(t,"orderByKey");const e=gT(t._queryParams,tu);return tp(e),new Qs(t._repo,t._path,e,!0)}}class MY extends Ql{_apply(t){BT(t,"orderByPriority");const e=gT(t._queryParams,oi);return tp(e),new Qs(t._repo,t._path,e,!0)}}class EY extends Ql{_apply(t){BT(t,"orderByValue");const e=gT(t._queryParams,JR);return tp(e),new Qs(t._repo,t._path,e,!0)}}class SY extends Ql{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(nu("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new $H(this._value,this._key)._apply(new qH(this._value,this._key)._apply(t))}}function Xl(n,...t){let e=(0,N.m9)(n);for(const i of t)e=i._apply(e);return e}(function aZ(n){(0,N.hu)(!ET,"__referenceConstructor has already been defined"),ET=n})(dl),function hZ(n){(0,N.hu)(!ST,"__referenceConstructor has already been defined"),ST=n}(dl);const G1={};function ZH(n,t,e,i,r){let o=i||n.options.databaseURL;void 0===o&&(n.options.projectId||Jc("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),co("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let p,v,c=H1(o,r),d=c.repoInfo;"undefined"!=typeof process&&(v=process.env.FIREBASE_DATABASE_EMULATOR_HOST),v?(p=!0,o=`http://${v}?ns=${d.namespace}`,c=H1(o,r),d=c.repoInfo):p=!c.repoInfo.secure;const M=r&&p?new Iw(Iw.OWNER):new y8(n.name,n.options,t);MH("Invalid Firebase Database URL",c),rn(c.path)||Jc("Database URL must point to the root of a Firebase Database (not including a child path).");const E=function AY(n,t,e,i){let r=G1[t.name];r||(r={},G1[t.name]=r);let o=r[n.toURLString()];return o&&Jc("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new UZ(n,false,e,i),r[n.toURLString()]=o,o}(d,n,M,new v8(n.name,e));return new RY(E,n)}class RY{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function HZ(n,t,e){if(n.stats_=jR(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new mT(n.repoInfo_,(i,r,o,c)=>{SH(n,i,r,o,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>TH(n,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,N.Pz)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new gm(n.repoInfo_,t,(i,r,o,c)=>{SH(n,i,r,o,c)},i=>{TH(n,i)},i=>{!function jZ(n,t){uo(t,(e,i)=>{F1(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function M8(n,t){const e=n.toString();return HR[e]||(HR[e]=t()),HR[e]}(n.repoInfo_,()=>new EW(n.stats_,n.server_)),n.infoData_=new bW,n.infoSyncTree_=new hH({startListening:(i,r,o,c)=>{let d=[];const p=n.infoData_.getNode(i._path);return p.isEmpty()||(d=zw(n.infoSyncTree_,i._path,p),setTimeout(()=>{c("ok")},0)),d},stopListening:()=>{}}),F1(n,"connected",!1),n.serverSyncTree_=new hH({startListening:(i,r,o,c)=>(n.server_.listen(i,o,r,(d,p)=>{const v=c(d,p);ul(n.eventQueue_,i._path,v)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new dl(this._repo,kn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function kY(n,t){const e=G1[t];(!e||e[n.key]!==n)&&Jc(`Database ${t}(${n.repoInfo_}) has already been deleted.`),OH(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Jc("Cannot call "+t+" on a deleted database.")}}function BY(n,t){KV(n,t)}const UY={".sv":"timestamp"};class zY{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}gm.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},gm.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function VY(n){$V(Co.SDK_VERSION),(0,Co._registerComponent)(new zs.wA("database",(t,{instanceIdentifier:e})=>ZH(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Co.registerVersion)(zV,"0.12.7",n),(0,Co.registerVersion)(zV,"0.12.7","esm2017")}();const WY=new $s.Yd("@firebase/database-compat"),YH=function(n){WY.warn("FIREBASE WARNING: "+n)};class KY{constructor(t){this._delegate=t}cancel(t){(0,N.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,N.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,N.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,N.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,N.Dv)("OnDisconnect.set",1,2,arguments.length),(0,N.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,N.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,N.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),o=>i(o)),r}update(t,e){if((0,N.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,YH("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,N.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class QY{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,N.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class np{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,N.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,N.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,N.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,N.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,N.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Yw("DataSnapshot.child","path",t,!1),new np(this._database,this._delegate.child(t))}hasChild(t){return(0,N.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Yw("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,N.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,N.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,N.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new np(this._database,e)))}hasChildren(){return(0,N.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,N.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,N.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ea(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Io{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var o;(0,N.Dv)("Query.on",2,4,arguments.length),(0,N.Wj)("Query.on","callback",e,!1);const c=Io.getCancelAndContextArgs_("Query.on",i,r),d=(v,M)=>{e.call(c.context,new np(this.database,v),M)};d.userCallback=e,d.context=c.context;const p=null===(o=c.cancel)||void 0===o?void 0:o.bind(c.context);switch(t){case"value":return z1(this._delegate,d,p),e;case"child_added":return UH(this._delegate,d,p),e;case"child_removed":return zH(this._delegate,d,p),e;case"child_changed":return HH(this._delegate,d,p),e;case"child_moved":return jH(this._delegate,d,p),e;default:throw new Error((0,N.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,N.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,N.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,N.Wj)("Query.off","callback",e,!0),(0,N.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,GH(this._delegate,t,r)}else GH(this._delegate,t)}get(){return lY(this._delegate).then(t=>new np(this.database,t))}once(t,e,i,r){(0,N.Dv)("Query.once",1,4,arguments.length),(0,N.Wj)("Query.once","callback",e,!0);const o=Io.getCancelAndContextArgs_("Query.once",i,r),c=new N.BH,d=(v,M)=>{const E=new np(this.database,v);e&&e.call(o.context,E,M),c.resolve(E)};d.userCallback=e,d.context=o.context;const p=v=>{o.cancel&&o.cancel.call(o.context,v),c.reject(v)};switch(t){case"value":z1(this._delegate,d,p,{onlyOnce:!0});break;case"child_added":UH(this._delegate,d,p,{onlyOnce:!0});break;case"child_removed":zH(this._delegate,d,p,{onlyOnce:!0});break;case"child_changed":HH(this._delegate,d,p,{onlyOnce:!0});break;case"child_moved":jH(this._delegate,d,p,{onlyOnce:!0});break;default:throw new Error((0,N.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise}limitToFirst(t){return(0,N.Dv)("Query.limitToFirst",1,1,arguments.length),new Io(this.database,Xl(this._delegate,function mY(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new gY(n)}(t)))}limitToLast(t){return(0,N.Dv)("Query.limitToLast",1,1,arguments.length),new Io(this.database,Xl(this._delegate,function vY(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new _Y(n)}(t)))}orderByChild(t){return(0,N.Dv)("Query.orderByChild",1,1,arguments.length),new Io(this.database,Xl(this._delegate,function bY(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Yw("orderByChild","path",n,!1),new yY(n)}(t)))}orderByKey(){return(0,N.Dv)("Query.orderByKey",0,0,arguments.length),new Io(this.database,Xl(this._delegate,function wY(){return new CY}()))}orderByPriority(){return(0,N.Dv)("Query.orderByPriority",0,0,arguments.length),new Io(this.database,Xl(this._delegate,function xY(){return new MY}()))}orderByValue(){return(0,N.Dv)("Query.orderByValue",0,0,arguments.length),new Io(this.database,Xl(this._delegate,function DY(){return new EY}()))}startAt(t=null,e){return(0,N.Dv)("Query.startAt",0,2,arguments.length),new Io(this.database,Xl(this._delegate,function hY(n=null,t){return Zw("startAt","key",t,!0),new qH(n,t)}(t,e)))}startAfter(t=null,e){return(0,N.Dv)("Query.startAfter",0,2,arguments.length),new Io(this.database,Xl(this._delegate,function pY(n,t){return Zw("startAfter","key",t,!0),new fY(n,t)}(t,e)))}endAt(t=null,e){return(0,N.Dv)("Query.endAt",0,2,arguments.length),new Io(this.database,Xl(this._delegate,function cY(n,t){return Zw("endAt","key",t,!0),new $H(n,t)}(t,e)))}endBefore(t=null,e){return(0,N.Dv)("Query.endBefore",0,2,arguments.length),new Io(this.database,Xl(this._delegate,function dY(n,t){return Zw("endBefore","key",t,!0),new uY(n,t)}(t,e)))}equalTo(t,e){return(0,N.Dv)("Query.equalTo",1,2,arguments.length),new Io(this.database,Xl(this._delegate,function TY(n,t){return Zw("equalTo","key",t,!0),new SY(n,t)}(t,e)))}toString(){return(0,N.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,N.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,N.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Io))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,N.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,N.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,N.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new Ea(this.database,new dl(this._delegate._repo,this._delegate._path))}}class Ea extends Io{constructor(t,e){super(t,new Qs(e._repo,e._path,new pT,!1)),this.database=t,this._delegate=e}getKey(){return(0,N.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,N.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Ea(this.database,Cm(this._delegate,t))}getParent(){(0,N.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Ea(this.database,t):null}getRoot(){return(0,N.Dv)("Reference.root",0,0,arguments.length),new Ea(this.database,this._delegate.root)}set(t,e){(0,N.Dv)("Reference.set",1,2,arguments.length),(0,N.Wj)("Reference.set","onComplete",e,!0);const i=j1(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,N.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,YH("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}cl("Reference.update",this._delegate._path),(0,N.Wj)("Reference.update","onComplete",e,!0);const i=aY(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,N.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,N.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function sY(n,t,e){if(cl("setWithPriority",n._path),nu("setWithPriority",t,n._path,!1),P1("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new N.BH;return N1(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),o=>i(o)),r}remove(t){(0,N.Dv)("Reference.remove",0,1,arguments.length),(0,N.Wj)("Reference.remove","onComplete",t,!0);const e=function rY(n){return cl("remove",n._path),j1(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,N.Dv)("Reference.transaction",1,3,arguments.length),(0,N.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,N.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,N.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function GY(n,t,e){var i;if(n=(0,N.m9)(n),cl("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=null==e?void 0:e.applyLocally)||void 0===i||i,o=new N.BH,d=z1(n,()=>{});return function QZ(n,t,e,i,r,o){Ty(n,"transaction on "+t);const c={path:t,update:e,onComplete:i,status:null,order:WV(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},d=B1(n,t,void 0);c.currentInputSnapshot=d;const p=c.update(d.val());if(void 0===p)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{Ww("transaction failed: Data returned ",p,c.path),c.status=0;const v=kT(n.transactionQueueTree_,t),M=ym(v)||[];let E;M.push(c),O1(v,M),"object"==typeof p&&null!==p&&(0,N.r3)(p,".priority")?(E=(0,N.DV)(p,".priority"),(0,N.hu)(qw(E),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):E=(TT(n.serverSyncTree_,t)||qt.EMPTY_NODE).getPriority().val();const O=Kw(n),R=Ai(p,E),V=S1(R,d,O);c.currentOutputSnapshotRaw=R,c.currentOutputSnapshotResolved=V,c.currentWriteId=FT(n);const Z=b1(n.serverSyncTree_,t,V,c.currentWriteId,c.applyLocally);ul(n.eventQueue_,t,Z),NT(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(p,v,M)=>{let E=null;p?o.reject(p):(E=new bm(M,new dl(n._repo,n._path),oi),o.resolve(new zY(v,E)))},d,r),o.promise}(this._delegate,t,{applyLocally:i}).then(o=>new QY(o.committed,new np(this.database,o.snapshot)));return e&&r.then(o=>e(null,o.committed,o.snapshot),o=>e(o,!1,null)),r}setPriority(t,e){(0,N.Dv)("Reference.setPriority",1,2,arguments.length),(0,N.Wj)("Reference.setPriority","onComplete",e,!0);const i=function oY(n,t){n=(0,N.m9)(n),cl("setPriority",n._path),P1("setPriority",t,!1);const e=new N.BH;return N1(n._repo,Mi(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,N.Dv)("Reference.push",0,2,arguments.length),(0,N.Wj)("Reference.push","onComplete",e,!0);const i=function iY(n,t){n=(0,N.m9)(n),cl("push",n._path),nu("push",t,n._path,!0);const e=DH(n._repo),i=hW(e),r=Cm(n,i),o=Cm(n,i);let c;return c=null!=t?j1(o,t).then(()=>o):Promise.resolve(o),r.then=c.then.bind(c),r.catch=c.then.bind(c,void 0),r}(this._delegate,t),r=i.then(c=>new Ea(this.database,c));e&&r.then(()=>e(null),c=>e(c));const o=new Ea(this.database,i);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return cl("Reference.onDisconnect",this._delegate._path),new KY(new LH(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Xw{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(t,e,i={}){!function FY(n,t,e,i={}){(n=(0,N.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Jc("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Jc('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Iw(Iw.OWNER);else if(i.mockUserToken){const c="string"==typeof i.mockUserToken?i.mockUserToken:(0,N.Sg)(i.mockUserToken,n.app.options.projectId);o=new Iw(c)}!function OY(n,t,e,i){n.repoInfo_=new VR(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,t,e,o)}(this._delegate,t,e,i)}ref(t){if((0,N.Dv)("database.ref",0,1,arguments.length),t instanceof Ea){const e=VH(this._delegate,t.toString());return new Ea(this,e)}{const e=BH(this._delegate,t);return new Ea(this,e)}}refFromURL(t){(0,N.Dv)("database.refFromURL",1,1,arguments.length);const i=VH(this._delegate,t);return new Ea(this,i)}goOffline(){return(0,N.Dv)("database.goOffline",0,0,arguments.length),function NY(n){(n=(0,N.m9)(n))._checkNotDeleted("goOffline"),OH(n._repo)}(this._delegate)}goOnline(){return(0,N.Dv)("database.goOnline",0,0,arguments.length),function LY(n){(n=(0,N.m9)(n))._checkNotDeleted("goOnline"),function KZ(n){n.persistentConnection_&&n.persistentConnection_.resume(EH)}(n._repo)}(this._delegate)}}Xw.ServerValue={TIMESTAMP:function HY(){return UY}(),increment:n=>function jY(n){return{".sv":{increment:n}}}(n)};var JY=Object.freeze({__proto__:null,initStandalone:function XY({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:o=!1}){$V(e);const c=new zs.zt("auth-internal",new zs.H0("database-standalone"));return c.setComponent(new zs.wA("auth-internal",()=>i,"PRIVATE")),{instance:new Xw(ZH(n,c,void 0,t,o),n),namespace:r}}});const e7=Xw.ServerValue;function KH(n){return null==n}function QH(n){return"function"==typeof n.set}function XH(n,t){return QH(t)?t:n.ref(t)}function JH(n,t){if(function n7(n){return"string"==typeof n}(n))return t.stringCase();if(QH(n))return t.firebaseCase();if(function r7(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function Jw(n,t,e="on",i=ld.z){return new Rn.y(r=>{let o=null;return o=n[e](t,(c,d)=>{i.schedule(()=>{r.next({snapshot:c,prevKey:d})}),"once"===e&&i.schedule(()=>r.complete())},c=>{i.schedule(()=>r.error(c))}),"on"===e?{unsubscribe(){null!=o&&n.off(t,o)}}:{unsubscribe(){}}}).pipe((0,pt.U)(r=>{const{snapshot:o,prevKey:c}=r;let d=null;return o.exists()&&(d=o.key),{type:t,payload:o,prevKey:c,key:d}}),(0,NP.B)())}function ej(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function a7(n,t){const{payload:e,prevKey:i,key:r}=t,o=ej(n,r),c=function s7(n,t){if(KH(t))return 0;{const e=ej(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let d=null;t.payload.forEach(p=>{const v={payload:p,type:"value",prevKey:d,key:p.key};return d=p.key,n=[...n,v],!1})}return n;case"child_added":if(o>-1){const d=n[o-1];(d&&d.key||null)!==i&&(n=n.filter(p=>p.payload.key!==e.key)).splice(c,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(c,0,t)}return n;case"child_removed":return n.filter(d=>d.payload.key!==e.key);case"child_changed":return n.map(d=>d.payload.key===r?t:d);case"child_moved":if(o>-1){const d=n.splice(o,1)[0];return(n=n.slice()).splice(c,0,d),n}return n;default:return n}}function tj(n){return(KH(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function nj(n,t,e){return function o7(n,t,e){return Jw(n,"value","once",e).pipe(un(i=>{const r=[et(i)];return t.forEach(o=>r.push(Jw(n,o,"on",e))),(0,il.T)(...r).pipe(pr(a7,[]))}),L0())}(n,t=tj(t),e)}function ij(n,t,e){const i=(t=tj(t)).map(r=>Jw(n,r,"on",e));return(0,il.T)(...i)}function rj(n,t){return function(i,r){return JH(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function d7(n){return function(e){return e?JH(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function oj(n,t){return function(){return Jw(n,"value","on",t)}}!function t7(n){n.INTERNAL.registerComponent(new zs.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new Xw(r,i)},"PUBLIC").setServiceProps({Reference:Ea,Query:Io,Database:Xw,DataSnapshot:np,enableLogging:BY,INTERNAL:JY,ServerValue:e7}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.1.7")}(jb.Z);const p7=new l.OlP("angularfire2.realtimeDatabaseURL"),g7=new l.OlP("angularfire2.database.use-emulator");let m7=(()=>{class n{constructor(e,i,r,o,c,d,p,v,M,E,O,R,V,Z,re){this.schedulers=d;const Pe=p,Re=(0,nr.on)(e,c,i);v&&GP(Re,c,M,O,R,V,E,Z),this.database=(0,nr.cc)(`${Re.name}.database.${r}`,"AngularFireDatabase",Re.name,()=>{const We=c.runOutsideAngular(()=>Re.database(r||void 0));return Pe&&We.useEmulator(...Pe),We},[Pe])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>XH(this.database,e));let o=r;return i&&(o=i(r)),function h7(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:rj(i,"update"),set:rj(i,"set"),push:r=>i.push(r),remove:d7(i),snapshotChanges:r=>nj(n,r,e).pipe(vn.iC),stateChanges:r=>ij(n,r,e).pipe(vn.iC),auditTrail:r=>function l7(n,t,e){return function u7(n,t,e){return function c7(n,t){return Jw(n,"value","on",t).pipe((0,pt.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function s8(...n){const t=(0,qn.jO)(n);return(0,di.e)((e,i)=>{const r=n.length,o=new Array(r);let c=n.map(()=>!1),d=!1;for(let p=0;p<r;p++)(0,Bo.Xf)(n[p]).subscribe((0,Mn.x)(i,v=>{o[p]=v,!d&&!c[p]&&(c[p]=!0,(d=c.every(Vr.y))&&(c=null))},nR.Z));e.subscribe((0,Mn.x)(i,p=>{if(d){const v=[p,...o];i.next(t?t(...v):v)}}))})}(t),(0,pt.U)(([r,o])=>{const c=r.lastKeyToLoad,d=o.map(p=>p.key);return{actions:o,lastKeyToLoad:c,loadedKeys:d}}),function a8(n){return(0,di.e)((t,e)=>{let i=!1,r=0;t.subscribe((0,Mn.x)(e,o=>(i||(i=!n(o,r++)))&&e.next(o)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,pt.U)(r=>r.actions))}(n,ij(n,t).pipe(pr((r,o)=>[...r,o],[])),e)}(n,r,e).pipe(vn.iC),valueChanges:(r,o)=>nj(n,r,e).pipe((0,pt.U)(d=>d.map(p=>o&&o.idField?Object.assign(Object.assign({},p.payload.val()),{[o.idField]:p.key}):p.payload.val())),vn.iC)}}(o,this)}object(e){return function f7(n,t){return{query:n,snapshotChanges:()=>oj(n,t.schedulers.outsideAngular)().pipe(vn.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>oj(n,t.schedulers.outsideAngular)().pipe(vn.iC,(0,pt.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>XH(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(nr.Dh),l.LFG(nr.xv,8),l.LFG(p7,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(vn.HU),l.LFG(g7,8),l.LFG($P,8),l.LFG(BP,8),l.LFG(VP,8),l.LFG(UP,8),l.LFG(HP,8),l.LFG(jP,8),l.LFG(zP,8),l.LFG(ev,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),_7=(()=>{class n{constructor(){R0.Z.registerVersion("angularfire",vn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[m7]}),n})();var v7=L(1144);const y7=["addListener","removeListener"],b7=["addEventListener","removeEventListener"],C7=["on","off"];function Oy(n,t,e,i){if((0,gr.m)(e)&&(i=e,e=void 0),i)return Oy(n,t,e).pipe(Su(i));const[r,o]=function x7(n){return(0,gr.m)(n.addEventListener)&&(0,gr.m)(n.removeEventListener)}(n)?b7.map(c=>d=>n[c](t,d,e)):function w7(n){return(0,gr.m)(n.addListener)&&(0,gr.m)(n.removeListener)}(n)?y7.map(sj(n,t)):function M7(n){return(0,gr.m)(n.on)&&(0,gr.m)(n.off)}(n)?C7.map(sj(n,t)):[];if(!r&&(0,v7.z)(n))return(0,yi.z)(c=>Oy(c,t,e))((0,Bo.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Rn.y(c=>{const d=(...p)=>c.next(1<p.length?p:p[0]);return r(d),()=>o(d)})}function sj(n,t){return e=>i=>n[e](t,i)}var aj=L(4408);const eM={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=eM;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new zn.w0(()=>null==e?void 0:e(r))},requestAnimationFrame(...n){const{delegate:t}=eM;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=eM;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var lj=L(7565);new class D7 extends lj.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class E7 extends aj.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=eM.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(eM.cancelAnimationFrame(e),t._scheduled=void 0)}});let $1,T7=1;const jT={};function cj(n){return n in jT&&(delete jT[n],!0)}const I7={setImmediate(n){const t=T7++;return jT[t]=!0,$1||($1=Promise.resolve()),$1.then(()=>cj(t)&&n()),t},clearImmediate(n){cj(n)}},{setImmediate:O7,clearImmediate:k7}=I7,zT={setImmediate(...n){const{delegate:t}=zT;return((null==t?void 0:t.setImmediate)||O7)(...n)},clearImmediate(n){const{delegate:t}=zT;return((null==t?void 0:t.clearImmediate)||k7)(n)},delegate:void 0};new class P7 extends lj.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class A7 extends aj.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=zT.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(zT.clearImmediate(e),t._scheduled=void 0)}});var N7=L(3532);function dj(n,t=ld.z){return function F7(n){return(0,di.e)((t,e)=>{let i=!1,r=null,o=null,c=!1;const d=()=>{if(null==o||o.unsubscribe(),o=null,i){i=!1;const v=r;r=null,e.next(v)}c&&e.complete()},p=()=>{o=null,c&&e.complete()};t.subscribe((0,Mn.x)(e,v=>{i=!0,r=v,o||(0,Bo.Xf)(n(v)).subscribe(o=(0,Mn.x)(e,d,p))},()=>{c=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>function uj(n=0,t,e=ld.P){let i=-1;return null!=t&&((0,N7.K)(t)?e=t:i=t),new Rn.y(r=>{let o=function L7(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let c=0;return e.schedule(function(){r.closed||(r.next(c++),0<=i?this.schedule(void 0,i):r.complete())},o)})}(n,t))}let V7=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new ft.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Rn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(dj(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):et()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Fn(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=om(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Oy(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.R0b),l.LFG(Zs),l.LFG(J,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tM=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new ft.x,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(dj(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Zs),l.LFG(l.R0b),l.LFG(J,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),q1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[uy,Vd],uy,Vd]}),n})();class W1{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Z1 extends W1{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class Y1 extends W1{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class H7 extends W1{constructor(t){super(),this.element=t instanceof l.SBq?t.nativeElement:t}}class K1{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Z1?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Y1?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof H7?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class j7 extends K1{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=c=>{const d=c.element,p=this._document.createComment("dom-portal");d.parentNode.insertBefore(p,d),this.outletElement.appendChild(d),this._attachedPortal=c,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(d,p)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let hj=(()=>{class n extends K1{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new l.vpe,this.attachDomPortal=o=>{const c=o.element,d=this._document.createComment("dom-portal");o.setAttachedHost(this),c.parentNode.insertBefore(d,c),this._getRootNode().appendChild(c),this._attachedPortal=o,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(c,d)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),c=i.createComponent(o,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=e,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l._Vd),l.Y36(l.s_b),l.Y36(J))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[l.qOj]}),n})(),wm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const fj=H6();class z7{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Or(-this._previousScrollPosition.left),t.style.top=Or(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",c=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),fj&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),fj&&(i.scrollBehavior=o,r.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class G7{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class pj{enable(){}disable(){}attach(){}}function Q1(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function gj(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class $7{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();Q1(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let q7=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new pj,this.close=c=>new G7(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new z7(this._viewportRuler,this._document),this.reposition=c=>new $7(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=o}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(V7),l.LFG(tM),l.LFG(l.R0b),l.LFG(J))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class X1{constructor(t){if(this.scrollStrategy=new pj,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class W7{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}class Z7{constructor(t,e,i,r,o,c,d,p,v){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=c,this._document=d,this._location=p,this._outsideClickDispatcher=v,this._backdropElement=null,this._backdropClick=new ft.x,this._attachments=new ft.x,this._detachments=new ft.x,this._locationChanges=zn.w0.EMPTY,this._backdropClickHandler=M=>this._backdropClick.next(M),this._keydownEvents=new ft.x,this._outsidePointerEvents=new ft.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Si.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){var t;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(t=this._host)||void 0===t||t.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Or(this._config.width),t.height=Or(this._config.height),t.minWidth=Or(this._config.minWidth),t.minHeight=Or(this._config.minHeight),t.maxWidth=Or(this._config.maxWidth),t.maxHeight=Or(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(!t)return;let e;const i=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",i),this._disposeBackdrop(t)),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",i)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(i,500))}_toggleClasses(t,e,i){const r=AB(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(lo((0,il.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.remove(),this._backdropElement===t&&(this._backdropElement=null))}}let J1=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){var e;null===(e=this._containerElement)||void 0===e||e.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||QP()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),QP()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(J),l.LFG(Zs))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const mj="cdk-overlay-connected-position-bounding-box",Y7=/([A-Za-z%]+)$/;class K7{constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ft.x,this._resizeSubscription=zn.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(mj),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let c;for(let d of this._preferredPositions){let p=this._getOriginPoint(t,r,d),v=this._getOverlayPoint(p,e,d),M=this._getOverlayFit(v,e,i,d);if(M.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(d,p);this._canFitWithFlexibleDimensions(M,v,i)?o.push({position:d,origin:p,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(p,d)}):(!c||c.overlayFit.visibleArea<M.visibleArea)&&(c={overlayFit:M,overlayPoint:v,originPoint:p,position:d,overlayRect:e})}if(o.length){let d=null,p=-1;for(const v of o){const M=v.boundingBoxRect.width*v.boundingBoxRect.height*(v.position.weight||1);M>p&&(p=M,d=v)}return this._isPushed=!1,void this._applyPosition(d.position,d.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Mm(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(mj),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const c=this._isRtl()?t.right:t.left,d=this._isRtl()?t.left:t.right;r="start"==i.originX?c:d}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=vj(e);let{x:c,y:d}=t,p=this._getOffset(r,"x"),v=this._getOffset(r,"y");p&&(c+=p),v&&(d+=v);let O=0-d,R=d+o.height-i.height,V=this._subtractOverflows(o.width,0-c,c+o.width-i.width),Z=this._subtractOverflows(o.height,O,R),re=V*Z;return{visibleArea:re,isCompletelyWithinViewport:o.width*o.height===re,fitsInViewportVertically:Z===o.height,fitsInViewportHorizontally:V==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,c=_j(this._overlayRef.getConfig().minHeight),d=_j(this._overlayRef.getConfig().minWidth),v=t.fitsInViewportHorizontally||null!=d&&d<=o;return(t.fitsInViewportVertically||null!=c&&c<=r)&&v}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=vj(e),o=this._viewportRect,c=Math.max(t.x+r.width-o.width,0),d=Math.max(t.y+r.height-o.height,0),p=Math.max(o.top-i.top-t.y,0),v=Math.max(o.left-i.left-t.x,0);let M=0,E=0;return M=r.width<=o.width?v||-c:t.x<this._viewportMargin?o.left-i.left-t.x:0,E=r.height<=o.height?p||-d:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:M,y:E},{x:t.x+M,y:t.y+E}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new W7(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,c,d,M,E,O;if("top"===e.overlayY)c=t.y,o=i.height-c+this._viewportMargin;else if("bottom"===e.overlayY)d=i.height-t.y+2*this._viewportMargin,o=i.height-d+this._viewportMargin;else{const R=Math.min(i.bottom-t.y+i.top,t.y),V=this._lastBoundingBoxSize.height;o=2*R,c=t.y-R,o>V&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.y-V/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)O=i.width-t.x+this._viewportMargin,M=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)E=t.x,M=i.right-t.x;else{const R=Math.min(i.right-t.x+i.left,t.x),V=this._lastBoundingBoxSize.width;M=2*R,E=t.x-R,M>V&&!this._isInitialRender&&!this._growAfterOpen&&(E=t.x-V/2)}return{top:c,left:E,bottom:d,right:O,width:M,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;r.height=Or(i.height),r.top=Or(i.top),r.bottom=Or(i.bottom),r.width=Or(i.width),r.left=Or(i.left),r.right=Or(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=Or(o)),c&&(r.maxWidth=Or(c))}this._lastBoundingBoxSize=i,Mm(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Mm(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Mm(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(r){const M=this._viewportRuler.getViewportScrollPosition();Mm(i,this._getExactOverlayY(e,t,M)),Mm(i,this._getExactOverlayX(e,t,M))}else i.position="static";let d="",p=this._getOffset(e,"x"),v=this._getOffset(e,"y");p&&(d+=`translateX(${p}px) `),v&&(d+=`translateY(${v}px)`),i.transform=d.trim(),c.maxHeight&&(r?i.maxHeight=Or(c.maxHeight):o&&(i.maxHeight="")),c.maxWidth&&(r?i.maxWidth=Or(c.maxWidth):o&&(i.maxWidth="")),Mm(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=Or(o.y),r}_getExactOverlayX(t,e,i){let c,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),c=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===c?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=Or(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:gj(t,i),isOriginOutsideView:Q1(t,i),isOverlayClipped:gj(e,i),isOverlayOutsideView:Q1(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&AB(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof l.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Mm(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function _j(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(Y7);return e&&"px"!==e?null:parseFloat(t)}return n||null}function vj(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const yj="cdk-global-overlay-wrapper";class Q7{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(yj),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:c,maxHeight:d}=i,p=!("100%"!==r&&"100vw"!==r||c&&"100%"!==c&&"100vw"!==c),v=!("100%"!==o&&"100vh"!==o||d&&"100%"!==d&&"100vh"!==d);t.position=this._cssPosition,t.marginLeft=p?"0":this._leftOffset,t.marginTop=v?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,p?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=v?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(yj),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let X7=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new Q7}flexibleConnectedTo(e){return new K7(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(tM),l.LFG(J),l.LFG(Zs),l.LFG(J1))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bj=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(J))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),J7=(()=>{class n extends bj{constructor(e){super(e),this._keydownListener=i=>{const r=this._attachedOverlays;for(let o=r.length-1;o>-1;o--)if(r[o]._keydownEvents.observers.length>0){r[o]._keydownEvents.next(i);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(J))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),eK=(()=>{class n extends bj{constructor(e,i){super(e),this._platform=i,this._cursorStyleIsSet=!1,this._pointerDownListener=r=>{this._pointerDownEventTarget=jf(r)},this._clickListener=r=>{const o=jf(r),c="click"===r.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const d=this._attachedOverlays.slice();for(let p=d.length-1;p>-1;p--){const v=d[p];if(!(v._outsidePointerEvents.observers.length<1)&&v.hasAttached()){if(v.overlayElement.contains(o)||v.overlayElement.contains(c))break;v._outsidePointerEvents.next(r)}}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;i.addEventListener("pointerdown",this._pointerDownListener,!0),i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(J),l.LFG(Zs))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tK=0,iu=(()=>{class n{constructor(e,i,r,o,c,d,p,v,M,E,O){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=c,this._injector=d,this._ngZone=p,this._document=v,this._directionality=M,this._location=E,this._outsideClickDispatcher=O}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),c=new X1(e);return c.direction=c.direction||this._directionality.value,new Z7(o,i,r,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+tK++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(l.z2F)),new j7(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(q7),l.LFG(J1),l.LFG(l._Vd),l.LFG(X7),l.LFG(J7),l.LFG(l.zs3),l.LFG(l.R0b),l.LFG(J),l.LFG(Uf),l.LFG(Me),l.LFG(eK))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const rK={provide:new l.OlP("cdk-connected-overlay-scroll-strategy"),deps:[iu],useFactory:function iK(n){return()=>n.scrollStrategies.reposition()}};let xm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[iu,rK],imports:[[uy,wm,q1],q1]}),n})(),GT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Nn,lt,vw],lt]}),n})();const mK={provide:new l.OlP("mat-autocomplete-scroll-strategy"),deps:[iu],useFactory:function gK(n){return()=>n.scrollStrategies.reposition()}};let bK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[mK],imports:[[xm,oT,lt,Nn],Vd,oT,lt]}),n})(),CK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[VS,lt],lt]}),n})(),IK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[lt,Zl],lt]}),n})(),OK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[lt],lt]}),n})(),Aj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),jK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Zl,lt,vw,Aj],lt,Aj]}),n})();const Nj=new l.OlP("mat-chips-default-options");let t9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[iT,{provide:Nj,useValue:{separatorKeyCodes:[13]}}],imports:[[lt]]}),n})(),n9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[uy]]}),n})();class Lj{}class Bj{}class Ud{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),c=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(c):this.headers.set(o,[c])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Ud?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Ud;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Ud?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let c=this.headers.get(e);if(!c)return;c=c.filter(d=>-1===o.indexOf(d)),0===c.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,c)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class o9{encodeKey(t){return Vj(t)}encodeValue(t){return Vj(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const a9=/%(\d[a-f0-9])/gi,l9={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Vj(n){return encodeURIComponent(n).replace(a9,(t,e)=>{var i;return null!==(i=l9[e])&&void 0!==i?i:t})}function Uj(n){return`${n}`}class ip{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new o9,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function s9(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[c,d]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],p=e.get(c)||[];p.push(d),e.set(c,p)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new ip({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Uj(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(Uj(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class c9{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function Hj(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function jj(n){return"undefined"!=typeof Blob&&n instanceof Blob}function zj(n){return"undefined"!=typeof FormData&&n instanceof FormData}class iM{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function u9(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Ud),this.context||(this.context=new c9),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=e;else{const d=e.indexOf("?");this.urlWithParams=e+(-1===d?"?":d<e.length-1?"&":"")+c}}else this.params=new ip,this.urlWithParams=e}serializeBody(){return null===this.body?null:Hj(this.body)||jj(this.body)||zj(this.body)||function d9(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ip?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||zj(this.body)?null:jj(this.body)?this.body.type||null:Hj(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ip?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,c=void 0!==t.body?t.body:this.body,d=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,p=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let v=t.headers||this.headers,M=t.params||this.params;const E=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(v=Object.keys(t.setHeaders).reduce((O,R)=>O.set(R,t.setHeaders[R]),v)),t.setParams&&(M=Object.keys(t.setParams).reduce((O,R)=>O.set(R,t.setParams[R]),M)),new iM(i,r,c,{params:M,headers:v,context:E,reportProgress:p,responseType:o,withCredentials:d})}}var kr=(()=>((kr=kr||{})[kr.Sent=0]="Sent",kr[kr.UploadProgress=1]="UploadProgress",kr[kr.ResponseHeader=2]="ResponseHeader",kr[kr.DownloadProgress=3]="DownloadProgress",kr[kr.Response=4]="Response",kr[kr.User=5]="User",kr))();class tF{constructor(t,e=200,i="OK"){this.headers=t.headers||new Ud,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class nF extends tF{constructor(t={}){super(t),this.type=kr.ResponseHeader}clone(t={}){return new nF({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class WT extends tF{constructor(t={}){super(t),this.type=kr.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new WT({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Gj extends tF{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function iF(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let rF=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof iM)o=e;else{let p,v;p=r.headers instanceof Ud?r.headers:new Ud(r.headers),r.params&&(v=r.params instanceof ip?r.params:new ip({fromObject:r.params})),o=new iM(e,i,void 0!==r.body?r.body:null,{headers:p,context:r.context,params:v,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const c=et(o).pipe(_o(p=>this.handler.handle(p)));if(e instanceof iM||"events"===r.observe)return c;const d=c.pipe(Fn(p=>p instanceof WT));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return d.pipe((0,pt.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return d.pipe((0,pt.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return d.pipe((0,pt.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return d.pipe((0,pt.U)(p=>p.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new ip).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,iF(r,i))}post(e,i,r={}){return this.request("POST",e,iF(r,i))}put(e,i,r={}){return this.request("PUT",e,iF(r,i))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Lj))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class $j{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const qj=new l.OlP("HTTP_INTERCEPTORS");let h9=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const f9=/^\)\]\}',?\n/;let Wj=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Rn.y(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((R,V)=>r.setRequestHeader(R,V.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const R=e.detectContentTypeHeader();null!==R&&r.setRequestHeader("Content-Type",R)}if(e.responseType){const R=e.responseType.toLowerCase();r.responseType="json"!==R?R:"text"}const o=e.serializeBody();let c=null;const d=()=>{if(null!==c)return c;const R=r.statusText||"OK",V=new Ud(r.getAllResponseHeaders()),Z=function p9(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return c=new nF({headers:V,status:r.status,statusText:R,url:Z}),c},p=()=>{let{headers:R,status:V,statusText:Z,url:re}=d(),Pe=null;204!==V&&(Pe=void 0===r.response?r.responseText:r.response),0===V&&(V=Pe?200:0);let Re=V>=200&&V<300;if("json"===e.responseType&&"string"==typeof Pe){const We=Pe;Pe=Pe.replace(f9,"");try{Pe=""!==Pe?JSON.parse(Pe):null}catch(Le){Pe=We,Re&&(Re=!1,Pe={error:Le,text:Pe})}}Re?(i.next(new WT({body:Pe,headers:R,status:V,statusText:Z,url:re||void 0})),i.complete()):i.error(new Gj({error:Pe,headers:R,status:V,statusText:Z,url:re||void 0}))},v=R=>{const{url:V}=d(),Z=new Gj({error:R,status:r.status||0,statusText:r.statusText||"Unknown Error",url:V||void 0});i.error(Z)};let M=!1;const E=R=>{M||(i.next(d()),M=!0);let V={type:kr.DownloadProgress,loaded:R.loaded};R.lengthComputable&&(V.total=R.total),"text"===e.responseType&&!!r.responseText&&(V.partialText=r.responseText),i.next(V)},O=R=>{let V={type:kr.UploadProgress,loaded:R.loaded};R.lengthComputable&&(V.total=R.total),i.next(V)};return r.addEventListener("load",p),r.addEventListener("error",v),r.addEventListener("timeout",v),r.addEventListener("abort",v),e.reportProgress&&(r.addEventListener("progress",E),null!==o&&r.upload&&r.upload.addEventListener("progress",O)),r.send(o),i.next({type:kr.Sent}),()=>{r.removeEventListener("error",v),r.removeEventListener("abort",v),r.removeEventListener("load",p),r.removeEventListener("timeout",v),e.reportProgress&&(r.removeEventListener("progress",E),null!==o&&r.upload&&r.upload.removeEventListener("progress",O)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(In))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const oF=new l.OlP("XSRF_COOKIE_NAME"),sF=new l.OlP("XSRF_HEADER_NAME");class Zj{}let g9=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=ea(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(J),l.LFG(l.Lbi),l.LFG(oF))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),aF=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const o=this.tokenService.getToken();return null!==o&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,o)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Zj),l.LFG(sF))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),m9=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(qj,[]);this.chain=i.reduceRight((r,o)=>new $j(r,o),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Bj),l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),_9=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:aF,useClass:h9}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:oF,useValue:e.cookieName}:[],e.headerName?{provide:sF,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[aF,{provide:qj,useExisting:aF,multi:!0},{provide:Zj,useClass:g9},{provide:oF,useValue:"XSRF-TOKEN"},{provide:sF,useValue:"X-XSRF-TOKEN"}]}),n})(),v9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[rF,{provide:Lj,useClass:m9},Wj,{provide:Bj,useExisting:Wj}],imports:[[_9.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})(),Jj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[lt],lt]}),n})(),cF=(()=>{class n{constructor(){this.changes=new ft.x,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const R9={provide:cF,deps:[[new l.FiY,new l.tp0,cF]],useFactory:function P9(n){return n||new cF}};let F9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[R9,iT],imports:[[lt,Nn,wm,xw,n9,Jj,Zl],lt]}),n})(),t3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),L9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[iT],imports:[[t3,GT,lt],t3,GT]}),n})(),W9=(()=>{class n{constructor(){this.changes=new ft.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(e,i){return`${e} \u2013 ${i}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const K9={provide:new l.OlP("mat-datepicker-scroll-strategy"),deps:[iu],useFactory:function Y9(n){return()=>n.scrollStrategies.reposition()}};let tQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[W9,K9],imports:[[Nn,xw,xm,VS,wm,lt],Vd]}),n})();function nQ(n,t){}class uF{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0}}const iQ={dialogContainer:qi("dialogContainer",[Qt("void, exit",nt({opacity:0,transform:"scale(0.7)"})),Qt("enter",nt({transform:"none"})),dn("* => enter",bn("150ms cubic-bezier(0, 0, 0.2, 1)",nt({transform:"none",opacity:1}))),dn("* => void, * => exit",bn("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",nt({opacity:0})))])};let rQ=(()=>{class n extends K1{constructor(e,i,r,o,c,d,p,v){super(),this._elementRef=e,this._focusTrapFactory=i,this._changeDetectorRef=r,this._config=c,this._interactivityChecker=d,this._ngZone=p,this._focusMonitor=v,this._animationStateChanged=new l.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=M=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(M)),this._ariaLabelledBy=c.ariaLabelledBy||null,this._document=o}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement()}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{e.addEventListener("blur",()=>e.removeAttribute("tabindex")),e.addEventListener("mousedown",()=>e.removeAttribute("tabindex"))})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const i=KP(),r=this._elementRef.nativeElement;(!i||i===this._document.body||i===r||r.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=KP())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=KP();return e===i||e.contains(i)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(_G),l.Y36(l.sBO),l.Y36(J,8),l.Y36(uF),l.Y36(BB),l.Y36(l.R0b),l.Y36(zf))},n.\u0275dir=l.lG2({type:n,viewQuery:function(e,i){if(1&e&&l.Gf(hj,7),2&e){let r;l.iGM(r=l.CRH())&&(i._portalOutlet=r.first)}},features:[l.qOj]}),n})(),oQ=(()=>{class n extends rQ{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,i){1&e&&l.WFA("@dialogContainer.start",function(o){return i._onAnimationStart(o)})("@dialogContainer.done",function(o){return i._onAnimationDone(o)}),2&e&&(l.Ikx("id",i._id),l.uIk("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),l.d8E("@dialogContainer",i._state))},features:[l.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&l.YNc(0,nQ,0,0,"ng-template",0)},directives:[hj],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[iQ.dialogContainer]}}),n})(),sQ=0;class aQ{constructor(t,e,i="mat-dialog-"+sQ++){this._overlayRef=t,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new ft.x,this._afterClosed=new ft.x,this._beforeClosed=new ft.x,this._state=0,e._id=i,e._animationStateChanged.pipe(Fn(r=>"opened"===r.state),(0,Si.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(Fn(r=>"closed"===r.state),(0,Si.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(Fn(r=>27===r.keyCode&&!this.disableClose&&!function Wl(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(r))).subscribe(r=>{r.preventDefault(),s3(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():s3(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Fn(e=>"closing"===e.state),(0,Si.q)(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function s3(n,t,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=t),n.close(e)}const lQ=new l.OlP("MatDialogData"),cQ=new l.OlP("mat-dialog-default-options"),a3=new l.OlP("mat-dialog-scroll-strategy"),dQ={provide:a3,deps:[iu],useFactory:function uQ(n){return()=>n.scrollStrategies.block()}};let hQ=(()=>{class n{constructor(e,i,r,o,c,d,p,v,M,E){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=c,this._dialogRefConstructor=p,this._dialogContainerType=v,this._dialogDataToken=M,this._animationMode=E,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ft.x,this._afterOpenedAtThisLevel=new ft.x,this._ariaHiddenElements=new Map,this._dialogAnimatingOpen=!1,this.afterAllClosed=Iu(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(fr(void 0))),this._scrollStrategy=d}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){if(i=function pQ(n,t){return Object.assign(Object.assign({},t),n)}(i,this._defaultOptions||new uF),i.id&&this.getDialogById(i.id),this._dialogAnimatingOpen)return this._lastDialogRef;const r=this._createOverlay(i),o=this._attachDialogContainer(r,i);if("NoopAnimations"!==this._animationMode){const d=o._animationStateChanged.subscribe(p=>{"opening"===p.state&&(this._dialogAnimatingOpen=!0),"opened"===p.state&&(this._dialogAnimatingOpen=!1,d.unsubscribe())});this._animationStateSubscriptions||(this._animationStateSubscriptions=new zn.w0),this._animationStateSubscriptions.add(d)}const c=this._attachDialogContent(e,o,r,i);return this._lastDialogRef=c,this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(c),c.afterClosed().subscribe(()=>this._removeOpenDialog(c)),this.afterOpened.next(c),o._initializeWithAttachedContent(),c}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._animationStateSubscriptions&&this._animationStateSubscriptions.unsubscribe()}_createOverlay(e){const i=this._getOverlayConfig(e);return this._overlay.create(i)}_getOverlayConfig(e){const i=new X1({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachDialogContainer(e,i){const o=l.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:uF,useValue:i}]}),c=new Z1(this._dialogContainerType,i.viewContainerRef,o,i.componentFactoryResolver);return e.attach(c).instance}_attachDialogContent(e,i,r,o){const c=new this._dialogRefConstructor(r,i,o.id);if(e instanceof l.Rgc)i.attachTemplatePortal(new Y1(e,null,{$implicit:o.data,dialogRef:c}));else{const d=this._createInjector(o,c,i),p=i.attachComponentPortal(new Z1(e,o.viewContainerRef,d));c.componentInstance=p.instance}return c.updateSize(o.width,o.height).updatePosition(o.position),c}_createInjector(e,i,r){const o=e&&e.viewContainerRef&&e.viewContainerRef.injector,c=[{provide:this._dialogContainerType,useValue:r},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:i}];return e.direction&&(!o||!o.get(Uf,null,l.XFs.Optional))&&c.push({provide:Uf,useValue:{value:e.direction,change:et()}}),l.zs3.create({parent:o||this._injector,providers:c})}_removeOpenDialog(e){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,o)=>{r?o.setAttribute("aria-hidden",r):o.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){let o=i[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){l.$Z()},n.\u0275dir=l.lG2({type:n}),n})(),fQ=(()=>{class n extends hQ{constructor(e,i,r,o,c,d,p,v){super(e,i,o,d,p,c,aQ,oQ,lQ,v)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(iu),l.LFG(l.zs3),l.LFG(Me,8),l.LFG(cQ,8),l.LFG(a3),l.LFG(n,12),l.LFG(J1),l.LFG(sl,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),gQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[fQ,dQ],imports:[[xm,wm,lt],lt]}),n})(),mQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),_Q=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Nn,lt,mQ,wm]]}),n})(),bQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[rT,lt],rT,lt]}),n})(),CQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[lt],lt]}),n})(),FQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[rT,Zl,lt,AR,Nn],rT,lt,AR,CQ]}),n})();const VQ={provide:new l.OlP("mat-menu-scroll-strategy"),deps:[iu],useFactory:function BQ(n){return()=>n.scrollStrategies.reposition()}};let UQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[VQ],imports:[[Nn,lt,Zl,xm],Vd,lt]}),n})();const $Q={provide:new l.OlP("mat-select-scroll-strategy"),deps:[iu],useFactory:function GQ(n){return()=>n.scrollStrategies.reposition()}};let f3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[$Q],imports:[[Nn,xm,oT,lt],Vd,GT,oT,lt]}),n})();const YQ={provide:new l.OlP("mat-tooltip-scroll-strategy"),deps:[iu],useFactory:function ZQ(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}};let p3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[YQ],imports:[[VS,Nn,xm,lt],lt,Vd]}),n})(),dF=(()=>{class n{constructor(){this.changes=new ft.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,i,r)=>{if(0==r||0==i)return`0 of ${r}`;const o=e*i;return`${o+1} \u2013 ${o<(r=Math.max(r,0))?Math.min(o+i,r):o+i} of ${r}`}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const tX={provide:dF,deps:[[new l.FiY,new l.tp0,dF]],useFactory:function eX(n){return n||new dF}};let nX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[tX],imports:[[Nn,xw,f3,p3,lt]]}),n})(),rX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Nn,lt],lt]}),n})();function oX(n,t){if(1&n&&(l.O4$(),l._UZ(0,"circle",4)),2&n){const e=l.oxw(),i=l.MAs(1);l.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),l.uIk("r",e._getCircleRadius())}}function sX(n,t){if(1&n&&(l.O4$(),l._UZ(0,"circle",4)),2&n){const e=l.oxw(),i=l.MAs(1);l.Udp("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),l.uIk("r",e._getCircleRadius())}}const lX=gy(class{constructor(n){this._elementRef=n}},"primary"),cX=new l.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function uX(){return{diameter:100}}});class rp extends lX{constructor(t,e,i,r,o,c,d,p){super(t),this._document=i,this._diameter=100,this._value=0,this._resizeSubscription=zn.w0.EMPTY,this.mode="determinate";const v=rp._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),v.has(i.head)||v.set(i.head,new Set([100])),this._noopAnimations="NoopAnimations"===r&&!!o&&!o._forceAnimations,o&&(o.diameter&&(this.diameter=o.diameter),o.strokeWidth&&(this.strokeWidth=o.strokeWidth)),e.isBrowser&&e.SAFARI&&d&&c&&p&&(this._resizeSubscription=d.change(150).subscribe(()=>{"indeterminate"===this.mode&&p.run(()=>c.markForCheck())}))}get diameter(){return this._diameter}set diameter(t){this._diameter=Ys(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=Ys(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,Ys(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=EB(t)||this._document.head,this._attachStyleNode(),t.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(t){var e;const i=50*(null!==(e=t.currentScale)&&void 0!==e?e:1);return`${i}% ${i}%`}_attachStyleNode(){const t=this._styleRoot,e=this._diameter,i=rp._diameters;let r=i.get(t);if(!r||!r.has(e)){const o=this._document.createElement("style");o.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),o.textContent=this._getAnimationText(),t.appendChild(o),r||(r=new Set,i.set(t,r)),r.add(e)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}rp._diameters=new WeakMap,rp.\u0275fac=function(t){return new(t||rp)(l.Y36(l.SBq),l.Y36(Zs),l.Y36(J,8),l.Y36(sl,8),l.Y36(cX),l.Y36(l.sBO),l.Y36(tM),l.Y36(l.R0b))},rp.\u0275cmp=l.Xpm({type:rp,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(l.uIk("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),l.Udp("width",e.diameter,"px")("height",e.diameter,"px"),l.ekj("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[l.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(l.O4$(),l.TgZ(0,"svg",0,1),l.YNc(2,oX,1,11,"circle",2),l.YNc(3,sX,1,9,"circle",3),l.qZA()),2&t&&(l.Udp("width",e.diameter,"px")("height",e.diameter,"px"),l.Q6J("ngSwitch","indeterminate"===e.mode),l.uIk("viewBox",e._getViewBox()),l.xp6(2),l.Q6J("ngSwitchCase",!0),l.xp6(1),l.Q6J("ngSwitchCase",!1))},directives:[Kr,Rr],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let hX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[lt,Nn],lt]}),n})(),EX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Zl,lt],lt]}),n})(),SX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Nn,lt,Vd],Vd,lt]}),n})(),BX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Nn,lt],lt]}),n})(),b3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),XX=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[b3,Zl,lt,vw],b3,lt]}),n})(),tJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[xm,wm,Nn,xw,lt],lt]}),n})(),pF=(()=>{class n{constructor(){this.changes=new ft.x}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rJ={provide:pF,deps:[[new l.FiY,new l.tp0,pF]],useFactory:function iJ(n){return n||new pF}};let oJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[rJ],imports:[[Nn,lt]]}),n})(),yJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[q1]]}),n})(),NJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[yJ,lt],lt]}),n})(),jJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Nn,lt,wm,Zl,vw,VS],lt]}),n})(),k3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[lt],lt]}),n})(),WJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),tee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[WJ,lt],lt]}),n})(),nee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[o8]}),n.\u0275inj=l.cJS({providers:[],imports:[[Pa,e8,vq,k3,nr.hO.initializeApp(jV_firebase),F6,nk,_7,bK,CK,xw,IK,OK,jK,t9,F9,tQ,gQ,_Q,GT,bQ,Jj,L9,FQ,UQ,nX,rX,hX,EX,Zl,f3,SX,BX,XX,tJ,oJ,NJ,jJ,k3,p3,tee,Oq,zh,UI,v9]]}),n})();(0,l.G48)(),_u().bootstrapModule(nee).catch(n=>console.error(n))},5867:(dt,Te,L)=>{L.d(Te,{Mq:()=>l.getApp,C6:()=>l.getApps});var l=L(9681);(0,l.registerVersion)("firebase","9.6.10","app")},127:(dt,Te,L)=>{L.d(Te,{Z:()=>l.Z});var l=L(3942);l.Z.registerVersion("firebase","9.6.10","app-compat")},4087:(dt,Te,L)=>{L.r(Te);var l=L(5861),ee=L(3942),B=L(2090),de=L(9681),oe=L(655),be=L(1877),J=L(4859);const Be=function Ye(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},He=function ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},pe=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),it=new be.Yd("@firebase/auth");function Xe(y,...g){it.logLevel<=be.in.ERROR&&it.error(`Auth (${de.SDK_VERSION}): ${y}`,...g)}function Ie(y,...g){throw Ge(y,...g)}function Me(y,...g){return Ge(y,...g)}function xe(y,g,_){const C=Object.assign(Object.assign({},He()),{[g]:_});return new B.LL("auth","Firebase",C).create(g,{appName:y.name})}function Ze(y,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&Ie(y,"argument-error"),xe(y,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ge(y,...g){if("string"!=typeof y){const _=g[0],C=[...g.slice(1)];return C[0]&&(C[0].appName=y.name),y._errorFactory.create(_,...C)}return pe.create(y,...g)}function se(y,g,..._){if(!y)throw Ge(g,..._)}function X(y){const g="INTERNAL ASSERTION FAILED: "+y;throw Xe(g),new Error(g)}function ae(y,g){y||X(g)}const ye=new Map;function le(y){ae(y instanceof Function,"Expected a class definition");let g=ye.get(y);return g?(ae(g instanceof y,"Instance stored in cache mismatched with class"),g):(g=new y,ye.set(y,g),g)}function At(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function ln(){return"http:"===Xn()||"https:"===Xn()}function Xn(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Cn{constructor(g,_){this.shortDelay=g,this.longDelay=_,ae(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function ht(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ln()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function wn(y,g){ae(y.emulator,"Emulator should always be set here");const{url:_}=y.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class fo{static initialize(g,_,C){this.fetchImpl=g,_&&(this.headersImpl=_),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void X("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void X("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void X("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Oo=new Cn(3e4,6e4);function cn(y,g){return y.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:y.tenantId}):g}function Zt(y,g,_,C){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,l.Z)(function*(y,g,_,C,I={}){return Ar(y,I,(0,l.Z)(function*(){let F={},Y={};C&&("GET"===g?Y=C:F={body:JSON.stringify(C)});const ce=(0,B.xO)(Object.assign({key:y.config.apiKey},Y)).slice(1),je=yield y._getAdditionalHeaders();return je["Content-Type"]="application/json",y.languageCode&&(je["X-Firebase-Locale"]=y.languageCode),fo.fetch()(ur(y,y.config.apiHost,_,ce),Object.assign({method:g,headers:je,referrerPolicy:"no-referrer"},F))}))})).apply(this,arguments)}function Ar(y,g,_){return ms.apply(this,arguments)}function ms(){return(ms=(0,l.Z)(function*(y,g,_){y._canInitEmulator=!1;const C=Object.assign(Object.assign({},fn),g);try{const I=new Yo(y),F=yield Promise.race([_(),I.promise]);I.clearNetworkTimeout();const Y=yield F.json();if("needConfirmation"in Y)throw Ao(y,"account-exists-with-different-credential",Y);if(F.ok&&!("errorMessage"in Y))return Y;{const ce=F.ok?Y.errorMessage:Y.error.message,[je,rt]=ce.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===je)throw Ao(y,"credential-already-in-use",Y);if("EMAIL_EXISTS"===je)throw Ao(y,"email-already-in-use",Y);const wt=C[je]||je.toLowerCase().replace(/[_\s]+/g,"-");if(rt)throw xe(y,wt,rt);Ie(y,wt)}}catch(I){if(I instanceof B.ZR)throw I;Ie(y,"network-request-failed")}})).apply(this,arguments)}function cr(y,g,_,C){return ko.apply(this,arguments)}function ko(){return(ko=(0,l.Z)(function*(y,g,_,C,I={}){const F=yield Zt(y,g,_,C,I);return"mfaPendingCredential"in F&&Ie(y,"multi-factor-auth-required",{_serverResponse:F}),F})).apply(this,arguments)}function ur(y,g,_,C){const I=`${g}${_}?${C}`;return y.config.emulator?wn(y.config,I):`${y.config.apiScheme}://${I}`}class Yo{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,C)=>{this.timer=setTimeout(()=>C(Me(this.auth,"network-request-failed")),Oo.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ao(y,g,_){const C={appName:y.name};_.email&&(C.email=_.email),_.phoneNumber&&(C.phoneNumber=_.phoneNumber);const I=Me(y,g,C);return I.customData._tokenResponse=_,I}function Pr(){return(Pr=(0,l.Z)(function*(y,g){return Zt(y,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function xi(y,g){return _i.apply(this,arguments)}function _i(){return(_i=(0,l.Z)(function*(y,g){return Zt(y,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Zr(y,g){return _s.apply(this,arguments)}function _s(){return(_s=(0,l.Z)(function*(y,g){return Zt(y,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function An(y){if(y)try{const g=new Date(Number(y));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function Sa(){return(Sa=(0,l.Z)(function*(y,g=!1){const _=(0,B.m9)(y),C=yield _.getIdToken(g),I=ct(C);se(I&&I.exp&&I.auth_time&&I.iat,_.auth,"internal-error");const F="object"==typeof I.firebase?I.firebase:void 0,Y=null==F?void 0:F.sign_in_provider;return{claims:I,token:C,authTime:An(Yt(I.auth_time)),issuedAtTime:An(Yt(I.iat)),expirationTime:An(Yt(I.exp)),signInProvider:Y||null,signInSecondFactor:(null==F?void 0:F.sign_in_second_factor)||null}})).apply(this,arguments)}function Yt(y){return 1e3*Number(y)}function ct(y){const[g,_,C]=y.split(".");if(void 0===g||void 0===_||void 0===C)return Xe("JWT malformed, contained fewer than 3 sections"),null;try{const I=(0,B.tV)(_);return I?JSON.parse(I):(Xe("Failed to decode base64 JWT payload"),null)}catch(I){return Xe("Caught error parsing JWT payload as JSON",I),null}}function Fi(y,g){return Po.apply(this,arguments)}function Po(){return(Po=(0,l.Z)(function*(y,g,_=!1){if(_)return g;try{return yield g}catch(C){throw C instanceof B.ZR&&Kt(C)&&y.auth.currentUser===y&&(yield y.auth.signOut()),C}})).apply(this,arguments)}function Kt({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Xs{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const I=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,I)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const C=this.getInterval(g);this.timerId=setTimeout((0,l.Z)(function*(){yield _.iteration()}),C)}iteration(){var g=this;return(0,l.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_.code&&g.schedule(!0))}g.schedule()})()}}class Wi{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=An(this.lastLoginAt),this.creationTime=An(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ni(y){return _t.apply(this,arguments)}function _t(){return(_t=(0,l.Z)(function*(y){var g;const _=y.auth,C=yield y.getIdToken(),I=yield Fi(y,Zr(_,{idToken:C}));se(null==I?void 0:I.users.length,_,"internal-error");const F=I.users[0];y._notifyReloadListener(F);const Y=(null===(g=F.providerUserInfo)||void 0===g?void 0:g.length)?Oe(F.providerUserInfo):[],ce=Je(y.providerData,Y),wt=!!y.isAnonymous&&!(y.email&&F.passwordHash||(null==ce?void 0:ce.length)),mt={uid:F.localId,displayName:F.displayName||null,photoURL:F.photoUrl||null,email:F.email||null,emailVerified:F.emailVerified||!1,phoneNumber:F.phoneNumber||null,tenantId:F.tenantId||null,providerData:ce,metadata:new Wi(F.createdAt,F.lastLoginAt),isAnonymous:wt};Object.assign(y,mt)})).apply(this,arguments)}function Gt(){return(Gt=(0,l.Z)(function*(y){const g=(0,B.m9)(y);yield Ni(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Je(y,g){return[...y.filter(C=>!g.some(I=>I.providerId===C.providerId)),...g]}function Oe(y){return y.map(g=>{var{providerId:_}=g,C=(0,oe._T)(g,["providerId"]);return{providerId:_,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function vt(){return(vt=(0,l.Z)(function*(y,g){const _=yield Ar(y,{},(0,l.Z)(function*(){const C=(0,B.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:I,apiKey:F}=y.config,Y=ur(y,I,"/v1/token",`key=${F}`),ce=yield y._getAdditionalHeaders();return ce["Content-Type"]="application/x-www-form-urlencoded",fo.fetch()(Y,{method:"POST",headers:ce,body:C})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Wt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){se(g.idToken,"internal-error"),se(void 0!==g.idToken,"internal-error"),se(void 0!==g.refreshToken,"internal-error");const _="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function It(y){const g=ct(y);return se(g,"internal-error"),se(void 0!==g.exp,"internal-error"),se(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var C=this;return(0,l.Z)(function*(){return se(!C.accessToken||C.refreshToken,g,"user-token-expired"),_||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(g,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var C=this;return(0,l.Z)(function*(){const{accessToken:I,refreshToken:F,expiresIn:Y}=yield function tt(y,g){return vt.apply(this,arguments)}(g,_);C.updateTokensAndExpiration(I,F,Number(Y))})()}updateTokensAndExpiration(g,_,C){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(g,_){const{refreshToken:C,accessToken:I,expirationTime:F}=_,Y=new Wt;return C&&(se("string"==typeof C,"internal-error",{appName:g}),Y.refreshToken=C),I&&(se("string"==typeof I,"internal-error",{appName:g}),Y.accessToken=I),F&&(se("number"==typeof F,"internal-error",{appName:g}),Y.expirationTime=F),Y}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new Wt,this.toJSON())}_performRefresh(){return X("not implemented")}}function jt(y,g){se("string"==typeof y||void 0===y,"internal-error",{appName:g})}class G{constructor(g){var{uid:_,auth:C,stsTokenManager:I}=g,F=(0,oe._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xs(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=C,this.stsTokenManager=I,this.accessToken=I.accessToken,this.displayName=F.displayName||null,this.email=F.email||null,this.emailVerified=F.emailVerified||!1,this.phoneNumber=F.phoneNumber||null,this.photoURL=F.photoURL||null,this.isAnonymous=F.isAnonymous||!1,this.tenantId=F.tenantId||null,this.providerData=F.providerData?[...F.providerData]:[],this.metadata=new Wi(F.createdAt||void 0,F.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,l.Z)(function*(){const C=yield Fi(_,_.stsTokenManager.getToken(_.auth,g));return se(C,_.auth,"internal-error"),_.accessToken!==C&&(_.accessToken=C,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),C})()}getIdTokenResult(g){return function Ko(y){return Sa.apply(this,arguments)}(this,g)}reload(){return function Zi(y){return Gt.apply(this,arguments)}(this)}_assign(g){this!==g&&(se(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new G(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var C=this;return(0,l.Z)(function*(){let I=!1;g.idToken&&g.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(g),I=!0),_&&(yield Ni(C)),yield C.auth._persistUserIfCurrent(C),I&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var g=this;return(0,l.Z)(function*(){const _=yield g.getIdToken();return yield Fi(g,function Ct(y,g){return Pr.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var C,I,F,Y,ce,je,rt,wt;const mt=null!==(C=_.displayName)&&void 0!==C?C:void 0,Yn=null!==(I=_.email)&&void 0!==I?I:void 0,Go=null!==(F=_.phoneNumber)&&void 0!==F?F:void 0,Ol=null!==(Y=_.photoURL)&&void 0!==Y?Y:void 0,nd=null!==(ce=_.tenantId)&&void 0!==ce?ce:void 0,id=null!==(je=_._redirectEventId)&&void 0!==je?je:void 0,Rp=null!==(rt=_.createdAt)&&void 0!==rt?rt:void 0,tb=null!==(wt=_.lastLoginAt)&&void 0!==wt?wt:void 0,{uid:qa,emailVerified:rd,isAnonymous:Fp,providerData:Np,stsTokenManager:er}=_;se(qa&&er,g,"internal-error");const nb=Wt.fromJSON(this.name,er);se("string"==typeof qa,g,"internal-error"),jt(mt,g.name),jt(Yn,g.name),se("boolean"==typeof rd,g,"internal-error"),se("boolean"==typeof Fp,g,"internal-error"),jt(Go,g.name),jt(Ol,g.name),jt(nd,g.name),jt(id,g.name),jt(Rp,g.name),jt(tb,g.name);const Ac=new G({uid:qa,auth:g,email:Yn,emailVerified:rd,displayName:mt,isAnonymous:Fp,photoURL:Ol,phoneNumber:Go,tenantId:nd,stsTokenManager:nb,createdAt:Rp,lastLoginAt:tb});return Np&&Array.isArray(Np)&&(Ac.providerData=Np.map(Lp=>Object.assign({},Lp))),id&&(Ac._redirectEventId=id),Ac}static _fromIdTokenResponse(g,_,C=!1){return(0,l.Z)(function*(){const I=new Wt;I.updateFromServerResponse(_);const F=new G({uid:_.localId,auth:g,stsTokenManager:I,isAnonymous:C});return yield Ni(F),F})()}}const W=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(_,C){var I=this;return(0,l.Z)(function*(){I.storage[_]=C})()}_get(_){var C=this;return(0,l.Z)(function*(){const I=C.storage[_];return void 0===I?null:I})()}_remove(_){var C=this;return(0,l.Z)(function*(){delete C.storage[_]})()}_addListener(_,C){}_removeListener(_,C){}}return y.type="NONE",y})();function fe(y,g,_){return`firebase:${y}:${g}:${_}`}class te{constructor(g,_,C){this.persistence=g,this.auth=_,this.userKey=C;const{config:I,name:F}=this.auth;this.fullUserKey=fe(this.userKey,I.apiKey,F),this.fullPersistenceKey=fe("persistence",I.apiKey,F),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,l.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?G._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,l.Z)(function*(){if(_.persistence===g)return;const C=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,C?_.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,C="authUser"){return(0,l.Z)(function*(){if(!_.length)return new te(le(W),g,C);const I=(yield Promise.all(_.map(function(){var rt=(0,l.Z)(function*(wt){if(yield wt._isAvailable())return wt});return function(wt){return rt.apply(this,arguments)}}()))).filter(rt=>rt);let F=I[0]||le(W);const Y=fe(C,g.config.apiKey,g.name);let ce=null;for(const rt of _)try{const wt=yield rt._get(Y);if(wt){const mt=G._fromJSON(g,wt);rt!==F&&(ce=mt),F=rt;break}}catch(wt){}const je=I.filter(rt=>rt._shouldAllowMigration);return F._shouldAllowMigration&&je.length?(F=je[0],ce&&(yield F._set(Y,ce.toJSON())),yield Promise.all(_.map(function(){var rt=(0,l.Z)(function*(wt){if(wt!==F)try{yield wt._remove(Y)}catch(mt){}});return function(wt){return rt.apply(this,arguments)}}())),new te(F,g,C)):new te(F,g,C)})()}}function ze(y){const g=y.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Xt(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(Dt(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Vt(g))return"Blackberry";if(Sn(g))return"Webos";if(on(g))return"Safari";if((g.includes("chrome/")||Yi(g))&&!g.includes("edge/"))return"Chrome";if(Gn(g))return"Android";{const C=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==C?void 0:C.length))return C[1]}return"Other"}function Dt(y=(0,B.z$)()){return/firefox\//i.test(y)}function on(y=(0,B.z$)()){const g=y.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function Yi(y=(0,B.z$)()){return/crios\//i.test(y)}function Xt(y=(0,B.z$)()){return/iemobile/i.test(y)}function Gn(y=(0,B.z$)()){return/android/i.test(y)}function Vt(y=(0,B.z$)()){return/blackberry/i.test(y)}function Sn(y=(0,B.z$)()){return/webos/i.test(y)}function Di(y=(0,B.z$)()){return/iphone|ipad|ipod/i.test(y)}function Qo(y=(0,B.z$)()){return Di(y)||Gn(y)||Sn(y)||Vt(y)||/windows phone/i.test(y)||Xt(y)}function gl(y,g=[]){let _;switch(y){case"Browser":_=ze((0,B.z$)());break;case"Worker":_=`${ze((0,B.z$)())}-${y}`;break;default:_=y}const C=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${de.SDK_VERSION}/${C}`}class Yr{constructor(g,_,C){this.app=g,this.heartbeatServiceProvider=_,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ut(this),this.idTokenSubscription=new Ut(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(g,_){var C=this;return _&&(this._popupRedirectResolver=le(_)),this._initializationPromise=this.queue((0,l.Z)(function*(){var I,F;if(!C._deleted&&(C.persistenceManager=yield te.create(C,g),!C._deleted)){if(null===(I=C._popupRedirectResolver)||void 0===I?void 0:I._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch(Y){}yield C.initializeCurrentUser(_),C.lastNotifiedUid=(null===(F=C.currentUser)||void 0===F?void 0:F.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,l.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_)}})()}initializeCurrentUser(g){var _=this;return(0,l.Z)(function*(){var C;let I=yield _.assertedPersistence.getCurrentUser();if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const F=null===(C=_.redirectUser)||void 0===C?void 0:C._redirectEventId,Y=null==I?void 0:I._redirectEventId,ce=yield _.tryRedirectSignIn(g);(!F||F===Y)&&(null==ce?void 0:ce.user)&&(I=ce.user)}return I?I._redirectEventId?(se(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===I._redirectEventId?_.directlySetCurrentUser(I):_.reloadAndSetCurrentUserOrClear(I)):_.reloadAndSetCurrentUserOrClear(I):_.directlySetCurrentUser(null)})()}tryRedirectSignIn(g){var _=this;return(0,l.Z)(function*(){let C=null;try{C=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch(I){yield _._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,l.Z)(function*(){try{yield Ni(g)}catch(C){if("auth/network-request-failed"!==C.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Et(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var g=this;return(0,l.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,l.Z)(function*(){const C=g?(0,B.m9)(g):null;return C&&se(C.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(C&&C._clone(_))})()}_updateCurrentUser(g){var _=this;return(0,l.Z)(function*(){if(!_._deleted)return g&&se(_.tenantId===g.tenantId,_,"tenant-id-mismatch"),_.queue((0,l.Z)(function*(){yield _.directlySetCurrentUser(g),_.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,l.Z)(function*(){return(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null)})()}setPersistence(g){var _=this;return this.queue((0,l.Z)(function*(){yield _.assertedPersistence.setPersistence(le(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new B.LL("auth","Firebase",g())}onAuthStateChanged(g,_,C){return this.registerStateListener(this.authStateSubscription,g,_,C)}onIdTokenChanged(g,_,C){return this.registerStateListener(this.idTokenSubscription,g,_,C)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var C=this;return(0,l.Z)(function*(){const I=yield C.getOrInitRedirectPersistenceManager(_);return null===g?I.removeCurrentUser():I.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,l.Z)(function*(){if(!_.redirectPersistenceManager){const C=g&&le(g)||_._popupRedirectResolver;se(C,_,"argument-error"),_.redirectPersistenceManager=yield te.create(_,[le(C._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,l.Z)(function*(){var C,I;return _._isInitialized&&(yield _.queue((0,l.Z)(function*(){}))),(null===(C=_._currentUser)||void 0===C?void 0:C._redirectEventId)===g?_._currentUser:(null===(I=_.redirectUser)||void 0===I?void 0:I._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,l.Z)(function*(){if(g===_.currentUser)return _.queue((0,l.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,C,I){if(this._deleted)return()=>{};const F="function"==typeof _?_:_.next.bind(_),Y=this._isInitialized?Promise.resolve():this._initializationPromise;return se(Y,this,"internal-error"),Y.then(()=>F(this.currentUser)),"function"==typeof _?g.addObserver(_,C,I):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,l.Z)(function*(){_.currentUser&&_.currentUser!==g&&(_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh()),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=gl(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,l.Z)(function*(){var _;const C={"X-Client-Version":g.clientVersion};g.app.options.appId&&(C["X-Firebase-gmpid"]=g.app.options.appId);const I=yield null===(_=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return I&&(C["X-Firebase-Client"]=I),C})()}}function Ve(y){return(0,B.m9)(y)}class Ut{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,B.ne)(_=>this.observer=_)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Li(y){const g=y.indexOf(":");return g<0?"":y.substr(0,g+1)}function li(y){if(!y)return null;const g=Number(y);return isNaN(g)?null:g}class pn{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return X("not implemented")}_getIdTokenResponse(g){return X("not implemented")}_linkToIdToken(g,_){return X("not implemented")}_getReauthenticationResolver(g){return X("not implemented")}}function Jn(y,g){return ys.apply(this,arguments)}function ys(){return(ys=(0,l.Z)(function*(y,g){return Zt(y,"POST","/v1/accounts:resetPassword",cn(y,g))})).apply(this,arguments)}function Lt(y,g){return ea.apply(this,arguments)}function ea(){return(ea=(0,l.Z)(function*(y,g){return Zt(y,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function ta(y,g){return ml.apply(this,arguments)}function ml(){return(ml=(0,l.Z)(function*(y,g){return Zt(y,"POST","/v1/accounts:update",cn(y,g))})).apply(this,arguments)}function Ki(){return(Ki=(0,l.Z)(function*(y,g){return cr(y,"POST","/v1/accounts:signInWithPassword",cn(y,g))})).apply(this,arguments)}function Xo(y,g){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,l.Z)(function*(y,g){return Zt(y,"POST","/v1/accounts:sendOobCode",cn(y,g))})).apply(this,arguments)}function dr(y,g){return mn.apply(this,arguments)}function mn(){return(mn=(0,l.Z)(function*(y,g){return Xo(y,g)})).apply(this,arguments)}function ec(y,g){return tc.apply(this,arguments)}function tc(){return(tc=(0,l.Z)(function*(y,g){return Xo(y,g)})).apply(this,arguments)}function Kr(y,g){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,l.Z)(function*(y,g){return Xo(y,g)})).apply(this,arguments)}function Gd(y,g){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,l.Z)(function*(y,g){return Xo(y,g)})).apply(this,arguments)}function Fr(){return(Fr=(0,l.Z)(function*(y,g){return cr(y,"POST","/v1/accounts:signInWithEmailLink",cn(y,g))})).apply(this,arguments)}function qd(){return(qd=(0,l.Z)(function*(y,g){return cr(y,"POST","/v1/accounts:signInWithEmailLink",cn(y,g))})).apply(this,arguments)}class ic extends pn{constructor(g,_,C,I=null){super("password",C),this._email=g,this._password=_,this._tenantId=I}static _fromEmailAndPassword(g,_){return new ic(g,_,"password")}static _fromEmailAndCode(g,_,C=null){return new ic(g,_,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,l.Z)(function*(){switch(_.signInMethod){case"password":return function bs(y,g){return Ki.apply(this,arguments)}(g,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function nc(y,g){return Fr.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:Ie(g,"internal-error")}})()}_linkToIdToken(g,_){var C=this;return(0,l.Z)(function*(){switch(C.signInMethod){case"password":return Lt(g,{idToken:_,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function $d(y,g){return qd.apply(this,arguments)}(g,{idToken:_,email:C._email,oobCode:C._password});default:Ie(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function ci(y,g){return Wd.apply(this,arguments)}function Wd(){return(Wd=(0,l.Z)(function*(y,g){return cr(y,"POST","/v1/accounts:signInWithIdp",cn(y,g))})).apply(this,arguments)}class es extends pn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new es(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):Ie("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:C,signInMethod:I}=_,F=(0,oe._T)(_,["providerId","signInMethod"]);if(!C||!I)return null;const Y=new es(C,I);return Y.idToken=F.idToken||void 0,Y.accessToken=F.accessToken||void 0,Y.secret=F.secret,Y.nonce=F.nonce,Y.pendingToken=F.pendingToken||null,Y}_getIdTokenResponse(g){return ci(g,this.buildRequest())}_linkToIdToken(g,_){const C=this.buildRequest();return C.idToken=_,ci(g,C)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,ci(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,B.xO)(_)}return g}}function km(y,g){return su.apply(this,arguments)}function su(){return(su=(0,l.Z)(function*(y,g){return Zt(y,"POST","/v1/accounts:sendVerificationCode",cn(y,g))})).apply(this,arguments)}function ws(){return(ws=(0,l.Z)(function*(y,g){return cr(y,"POST","/v1/accounts:signInWithPhoneNumber",cn(y,g))})).apply(this,arguments)}function Zd(){return(Zd=(0,l.Z)(function*(y,g){const _=yield cr(y,"POST","/v1/accounts:signInWithPhoneNumber",cn(y,g));if(_.temporaryProof)throw Ao(y,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Pm={USER_NOT_FOUND:"user-not-found"};function Yd(){return(Yd=(0,l.Z)(function*(y,g){return cr(y,"POST","/v1/accounts:signInWithPhoneNumber",cn(y,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Pm)})).apply(this,arguments)}class Ta extends pn{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new Ta({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new Ta({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function au(y,g){return ws.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function Am(y,g){return Zd.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Rm(y,g){return Yd.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:C,verificationCode:I}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:C,code:I}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:C,phoneNumber:I,temporaryProof:F}=g;return C||_||I||F?new Ta({verificationId:_,verificationCode:C,phoneNumber:I,temporaryProof:F}):null}}class na{constructor(g){var _,C,I,F,Y,ce;const je=(0,B.zd)((0,B.pd)(g)),rt=null!==(_=je.apiKey)&&void 0!==_?_:null,wt=null!==(C=je.oobCode)&&void 0!==C?C:null,mt=function Fy(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(I=je.mode)&&void 0!==I?I:null);se(rt&&wt&&mt,"argument-error"),this.apiKey=rt,this.operation=mt,this.code=wt,this.continueUrl=null!==(F=je.continueUrl)&&void 0!==F?F:null,this.languageCode=null!==(Y=je.languageCode)&&void 0!==Y?Y:null,this.tenantId=null!==(ce=je.tenantId)&&void 0!==ce?ce:null}static parseLink(g){const _=function rc(y){const g=(0,B.zd)((0,B.pd)(y)).link,_=g?(0,B.zd)((0,B.pd)(g)).deep_link_id:null,C=(0,B.zd)((0,B.pd)(y)).deep_link_id;return(C?(0,B.zd)((0,B.pd)(C)).link:null)||C||_||g||y}(g);try{return new na(_)}catch(C){return null}}}let lu=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(_,C){return ic._fromEmailAndPassword(_,C)}static credentialWithLink(_,C){const I=na.parseLink(C);return se(I,"argument-error"),ic._fromEmailAndCode(_,I.code,I.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class ts{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Nr extends ts{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Ia extends Nr{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return se("providerId"in _&&"signInMethod"in _,"argument-error"),es._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return se(g.idToken||g.accessToken,"argument-error"),es._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Ia.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Ia.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:C,oauthTokenSecret:I,pendingToken:F,nonce:Y,providerId:ce}=g;if(!C&&!I&&!_&&!F||!ce)return null;try{return new Ia(ce)._credential({idToken:_,accessToken:C,nonce:Y,pendingToken:F})}catch(je){return null}}}let ia=(()=>{class y extends Nr{constructor(){super("facebook.com")}static credential(_){return es._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return y.credentialFromTaggedObject(_)}static credentialFromError(_){return y.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return y.credential(_.oauthAccessToken)}catch(C){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),_l=(()=>{class y extends Nr{constructor(){super("google.com"),this.addScope("profile")}static credential(_,C){return es._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:C})}static credentialFromResult(_){return y.credentialFromTaggedObject(_)}static credentialFromError(_){return y.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:C,oauthAccessToken:I}=_;if(!C&&!I)return null;try{return y.credential(C,I)}catch(F){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Kd=(()=>{class y extends Nr{constructor(){super("github.com")}static credential(_){return es._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return y.credentialFromTaggedObject(_)}static credentialFromError(_){return y.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return y.credential(_.oauthAccessToken)}catch(C){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Nn extends pn{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return ci(g,this.buildRequest())}_linkToIdToken(g,_){const C=this.buildRequest();return C.idToken=_,ci(g,C)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,ci(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:C,signInMethod:I,pendingToken:F}=_;return C&&I&&F&&C===I?new Nn(C,F):null}static _create(g,_){return new Nn(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Qr extends ts{constructor(g){se(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Qr.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Qr.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=Nn.fromJSON(g);return se(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:C}=g;if(!_||!C)return null;try{return Nn._create(C,_)}catch(I){return null}}}let oc=(()=>{class y extends Nr{constructor(){super("twitter.com")}static credential(_,C){return es._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:C})}static credentialFromResult(_){return y.credentialFromTaggedObject(_)}static credentialFromError(_){return y.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:C,oauthTokenSecret:I}=_;if(!C||!I)return null;try{return y.credential(C,I)}catch(F){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function sc(y,g){return hr.apply(this,arguments)}function hr(){return(hr=(0,l.Z)(function*(y,g){return cr(y,"POST","/v1/accounts:signUp",cn(y,g))})).apply(this,arguments)}class Bi{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,C,I=!1){return(0,l.Z)(function*(){const F=yield G._fromIdTokenResponse(g,C,I),Y=cp(C);return new Bi({user:F,providerId:Y,_tokenResponse:C,operationType:_})})()}static _forOperation(g,_,C){return(0,l.Z)(function*(){yield g._updateTokensIfNecessary(C,!0);const I=cp(C);return new Bi({user:g,providerId:I,_tokenResponse:C,operationType:_})})()}}function cp(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Qd(){return(Qd=(0,l.Z)(function*(y){var g;const _=Ve(y);if(yield _._initializationPromise,null===(g=_.currentUser)||void 0===g?void 0:g.isAnonymous)return new Bi({user:_.currentUser,providerId:null,operationType:"signIn"});const C=yield sc(_,{returnSecureToken:!0}),I=yield Bi._fromIdTokenResponse(_,"signIn",C,!0);return yield _._updateCurrentUser(I.user),I})).apply(this,arguments)}class lc extends B.ZR{constructor(g,_,C,I){var F;super(_.code,_.message),this.operationType=C,this.user=I,Object.setPrototypeOf(this,lc.prototype),this.customData={appName:g.name,tenantId:null!==(F=g.tenantId)&&void 0!==F?F:void 0,_serverResponse:_.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(g,_,C,I){return new lc(g,_,C,I)}}function cc(y,g,_,C){return("reauthenticate"===g?_._getReauthenticationResolver(y):_._getIdTokenResponse(y)).catch(F=>{throw"auth/multi-factor-auth-required"===F.code?lc._fromErrorAndOperation(y,F,g,C):F})}function ns(y){return new Set(y.map(({providerId:g})=>g).filter(g=>!!g))}function cu(){return(cu=(0,l.Z)(function*(y,g){const _=(0,B.m9)(y);yield xs(!0,_,g);const{providerUserInfo:C}=yield xi(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),I=ns(C||[]);return _.providerData=_.providerData.filter(F=>I.has(F.providerId)),I.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function In(y,g){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,l.Z)(function*(y,g,_=!1){const C=yield Fi(y,g._linkToIdToken(y.auth,yield y.getIdToken()),_);return Bi._forOperation(y,"link",C)})).apply(this,arguments)}function xs(y,g,_){return _n.apply(this,arguments)}function _n(){return(_n=(0,l.Z)(function*(y,g,_){yield Ni(g);const I=!1===y?"provider-already-linked":"no-such-provider";se(ns(g.providerData).has(_)===y,g.auth,I)})).apply(this,arguments)}function Xd(y,g){return ra.apply(this,arguments)}function ra(){return(ra=(0,l.Z)(function*(y,g,_=!1){const{auth:C}=y,I="reauthenticate";try{const F=yield Fi(y,cc(C,I,g,y),_);se(F.idToken,C,"internal-error");const Y=ct(F.idToken);se(Y,C,"internal-error");const{sub:ce}=Y;return se(y.uid===ce,C,"user-mismatch"),Bi._forOperation(y,I,F)}catch(F){throw"auth/user-not-found"===(null==F?void 0:F.code)&&Ie(C,"user-mismatch"),F}})).apply(this,arguments)}function oa(y,g){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,l.Z)(function*(y,g,_=!1){const C="signIn",I=yield cc(y,C,g),F=yield Bi._fromIdTokenResponse(y,C,I);return _||(yield y._updateCurrentUser(F.user)),F})).apply(this,arguments)}function ei(y,g){return yl.apply(this,arguments)}function yl(){return(yl=(0,l.Z)(function*(y,g){return oa(Ve(y),g)})).apply(this,arguments)}function po(y,g){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,l.Z)(function*(y,g){const _=(0,B.m9)(y);return yield xs(!1,_,g.providerId),In(_,g)})).apply(this,arguments)}function Es(y,g){return is.apply(this,arguments)}function is(){return(is=(0,l.Z)(function*(y,g){return Xd((0,B.m9)(y),g)})).apply(this,arguments)}function uc(y,g){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,l.Z)(function*(y,g){return cr(y,"POST","/v1/accounts:signInWithCustomToken",cn(y,g))})).apply(this,arguments)}function Ss(){return(Ss=(0,l.Z)(function*(y,g){const _=Ve(y),C=yield uc(_,{token:g,returnSecureToken:!0}),I=yield Bi._fromIdTokenResponse(_,"signIn",C);return yield _._updateCurrentUser(I.user),I})).apply(this,arguments)}class yt{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?dc._fromServerResponse(g,_):Ie(g,"internal-error")}}class dc extends yt{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new dc(_)}}function bl(y,g,_){var C;se((null===(C=_.url)||void 0===C?void 0:C.length)>0,y,"invalid-continue-uri"),se(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(se(_.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(se(_.android.packageName.length>0,y,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function fc(){return(fc=(0,l.Z)(function*(y,g,_){const C=(0,B.m9)(y),I={requestType:"PASSWORD_RESET",email:g};_&&bl(C,I,_),yield ec(C,I)})).apply(this,arguments)}function uu(){return(uu=(0,l.Z)(function*(y,g,_){yield Jn((0,B.m9)(y),{oobCode:g,newPassword:_})})).apply(this,arguments)}function Se(){return(Se=(0,l.Z)(function*(y,g){yield ta((0,B.m9)(y),{oobCode:g})})).apply(this,arguments)}function zt(y,g){return hu.apply(this,arguments)}function hu(){return(hu=(0,l.Z)(function*(y,g){const _=(0,B.m9)(y),C=yield Jn(_,{oobCode:g}),I=C.requestType;switch(se(I,_,"internal-error"),I){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":se(C.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":se(C.mfaInfo,_,"internal-error");default:se(C.email,_,"internal-error")}let F=null;return C.mfaInfo&&(F=yt._fromServerResponse(Ve(_),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:F},operation:I}})).apply(this,arguments)}function ka(){return(ka=(0,l.Z)(function*(y,g){const{data:_}=yield zt((0,B.m9)(y),g);return _.email})).apply(this,arguments)}function Br(){return(Br=(0,l.Z)(function*(y,g,_){const C=Ve(y),I=yield sc(C,{returnSecureToken:!0,email:g,password:_}),F=yield Bi._fromIdTokenResponse(C,"signIn",I);return yield C._updateCurrentUser(F.user),F})).apply(this,arguments)}function Jd(){return(Jd=(0,l.Z)(function*(y,g,_){const C=(0,B.m9)(y),I={requestType:"EMAIL_SIGNIN",email:g};se(_.handleCodeInApp,C,"argument-error"),_&&bl(C,I,_),yield Kr(C,I)})).apply(this,arguments)}function Ts(){return(Ts=(0,l.Z)(function*(y,g,_){const C=(0,B.m9)(y),I=lu.credentialWithLink(g,_||At());return se(I._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),ei(C,I)})).apply(this,arguments)}function Vi(y,g){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,l.Z)(function*(y,g){return Zt(y,"POST","/v1/accounts:createAuthUri",cn(y,g))})).apply(this,arguments)}function Is(){return(Is=(0,l.Z)(function*(y,g){const C={identifier:g,continueUri:ln()?At():"http://localhost"},{signinMethods:I}=yield Vi((0,B.m9)(y),C);return I||[]})).apply(this,arguments)}function mu(){return(mu=(0,l.Z)(function*(y,g){const _=(0,B.m9)(y),I={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};g&&bl(_.auth,I,g);const{email:F}=yield dr(_.auth,I);F!==y.email&&(yield y.reload())})).apply(this,arguments)}function vc(){return(vc=(0,l.Z)(function*(y,g,_){const C=(0,B.m9)(y),F={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:g};_&&bl(C.auth,F,_);const{email:Y}=yield Gd(C.auth,F);Y!==y.email&&(yield y.reload())})).apply(this,arguments)}function _u(y,g){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,l.Z)(function*(y,g){return Zt(y,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function vu(){return(vu=(0,l.Z)(function*(y,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const C=(0,B.m9)(y),F={idToken:yield C.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},Y=yield Fi(C,_u(C.auth,F));C.displayName=Y.displayName||null,C.photoURL=Y.photoUrl||null;const ce=C.providerData.find(({providerId:je})=>"password"===je);ce&&(ce.displayName=C.displayName,ce.photoURL=C.photoURL),yield C._updateTokensIfNecessary(Y)})).apply(this,arguments)}function bu(y,g,_){return sa.apply(this,arguments)}function sa(){return(sa=(0,l.Z)(function*(y,g,_){const{auth:C}=y,F={idToken:yield y.getIdToken(),returnSecureToken:!0};g&&(F.email=g),_&&(F.password=_);const Y=yield Fi(y,Lt(C,F));yield y._updateTokensIfNecessary(Y,!0)})).apply(this,arguments)}class aa{constructor(g,_,C={}){this.isNewUser=g,this.providerId=_,this.profile=C}}class nh extends aa{constructor(g,_,C,I){super(g,_,C),this.username=I}}class ih extends aa{constructor(g,_){super(g,"facebook.com",_)}}class la extends nh{constructor(g,_){super(g,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class Os extends aa{constructor(g,_){super(g,"google.com",_)}}class Cu extends nh{constructor(g,_,C){super(g,"twitter.com",_,C)}}function Ji(y){const{user:g,_tokenResponse:_}=y;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function th(y){var g,_;if(!y)return null;const{providerId:C}=y,I=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},F=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!C&&(null==y?void 0:y.idToken)){const Y=null===(_=null===(g=ct(y.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if(Y)return new aa(F,"anonymous"!==Y&&"custom"!==Y?Y:null)}if(!C)return null;switch(C){case"facebook.com":return new ih(F,I);case"github.com":return new la(F,I);case"google.com":return new Os(F,I);case"twitter.com":return new Cu(F,I,y.screenName||null);case"custom":case"anonymous":return new aa(F,null);default:return new aa(F,C,I)}}(_)}class rs{constructor(g,_){this.type=g,this.credential=_}static _fromIdtoken(g){return new rs("enroll",g)}static _fromMfaPendingCredential(g){return new rs("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,C;if(null==g?void 0:g.multiFactorSession){if(null===(_=g.multiFactorSession)||void 0===_?void 0:_.pendingCredential)return rs._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(C=g.multiFactorSession)||void 0===C?void 0:C.idToken)return rs._fromIdtoken(g.multiFactorSession.idToken)}return null}}class wl{constructor(g,_,C){this.session=g,this.hints=_,this.signInResolver=C}static _fromError(g,_){const C=Ve(g),I=_.customData._serverResponse,F=(I.mfaInfo||[]).map(ce=>yt._fromServerResponse(C,ce));se(I.mfaPendingCredential,C,"internal-error");const Y=rs._fromMfaPendingCredential(I.mfaPendingCredential);return new wl(Y,F,function(){var ce=(0,l.Z)(function*(je){const rt=yield je._process(C,Y);delete I.mfaInfo,delete I.mfaPendingCredential;const wt=Object.assign(Object.assign({},I),{idToken:rt.idToken,refreshToken:rt.refreshToken});switch(_.operationType){case"signIn":const mt=yield Bi._fromIdTokenResponse(C,_.operationType,wt);return yield C._updateCurrentUser(mt.user),mt;case"reauthenticate":return se(_.user,C,"internal-error"),Bi._forOperation(_.user,_.operationType,wt);default:Ie(C,"internal-error")}});return function(je){return ce.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,l.Z)(function*(){return _.signInResolver(g)})()}}function ui(y,g){return Zt(y,"POST","/v2/accounts/mfaEnrollment:start",cn(y,g))}class os{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(C=>yt._fromServerResponse(g.auth,C)))})}static _fromUser(g){return new os(g)}getSession(){var g=this;return(0,l.Z)(function*(){return rs._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,_){var C=this;return(0,l.Z)(function*(){const I=g,F=yield C.getSession(),Y=yield Fi(C.user,I._process(C.user.auth,F,_));return yield C.user._updateTokensIfNecessary(Y),C.user.reload()})()}unenroll(g){var _=this;return(0,l.Z)(function*(){const C="string"==typeof g?g:g.uid,I=yield _.user.getIdToken(),F=yield Fi(_.user,function Nm(y,g){return Zt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",cn(y,g))}(_.user.auth,{idToken:I,mfaEnrollmentId:C}));_.enrolledFactors=_.enrolledFactors.filter(({uid:Y})=>Y!==C),yield _.user._updateTokensIfNecessary(F);try{yield _.user.reload()}catch(Y){if("auth/user-token-expired"!==Y.code)throw Y}})()}}const Ra=new WeakMap,xu="__sak";class Fo{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(xu,"1"),this.storage.removeItem(xu),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const qn=(()=>{class y extends Fo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,C)=>this.onStorageEvent(_,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Eu(){const y=(0,B.z$)();return on(y)||Di(y)}()&&function vi(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=Qo(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const C of Object.keys(this.listeners)){const I=this.storage.getItem(C),F=this.localCache[C];I!==F&&_(C,F,I)}}onStorageEvent(_,C=!1){if(!_.key)return void this.forAllChangedKeys((ce,je,rt)=>{this.notifyListeners(ce,rt)});const I=_.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ce=this.storage.getItem(I);if(_.newValue!==ce)null!==_.newValue?this.storage.setItem(I,_.newValue):this.storage.removeItem(I);else if(this.localCache[I]===_.newValue&&!C)return}const F=()=>{const ce=this.storage.getItem(I);!C&&this.localCache[I]===ce||this.notifyListeners(I,ce)},Y=this.storage.getItem(I);!function pl(){return(0,B.w1)()&&10===document.documentMode}()||Y===_.newValue||_.newValue===_.oldValue?F():setTimeout(F,10)}notifyListeners(_,C){this.localCache[_]=C;const I=this.listeners[_];if(I)for(const F of Array.from(I))F(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,C,I)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:C,newValue:I}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,C){var I=()=>super._set,F=this;return(0,l.Z)(function*(){yield I().call(F,_,C),F.localCache[_]=JSON.stringify(C)})()}_get(_){var C=()=>super._get,I=this;return(0,l.Z)(function*(){const F=yield C().call(I,_);return I.localCache[_]=JSON.stringify(F),F})()}_remove(_){var C=()=>super._remove,I=this;return(0,l.Z)(function*(){yield C().call(I,_),delete I.localCache[_]})()}}return y.type="LOCAL",y})(),ft=(()=>{class y extends Fo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,C){}_removeListener(_,C){}}return y.type="SESSION",y})();let Rn=(()=>{class y{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const C=this.receivers.find(F=>F.isListeningto(_));if(C)return C;const I=new y(_);return this.receivers.push(I),I}isListeningto(_){return this.eventTarget===_}handleEvent(_){var C=this;return(0,l.Z)(function*(){const I=_,{eventId:F,eventType:Y,data:ce}=I.data,je=C.handlersMap[Y];if(!(null==je?void 0:je.size))return;I.ports[0].postMessage({status:"ack",eventId:F,eventType:Y});const rt=Array.from(je).map(function(){var mt=(0,l.Z)(function*(Yn){return Yn(I.origin,ce)});return function(Yn){return mt.apply(this,arguments)}}()),wt=yield function Ui(y){return Promise.all(y.map(function(){var g=(0,l.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(C){return{fulfilled:!1,reason:C}}});return function(_){return g.apply(this,arguments)}}()))}(rt);I.ports[0].postMessage({status:"done",eventId:F,eventType:Y,response:wt})})()}_subscribe(_,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(C)}_unsubscribe(_,C){this.handlersMap[_]&&C&&this.handlersMap[_].delete(C),(!C||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Fa(y="",g=10){let _="";for(let C=0;C<g;C++)_+=Math.floor(10*Math.random());return y+_}class lh{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,C=50){var I=this;return(0,l.Z)(function*(){const F="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!F)throw new Error("connection_unavailable");let Y,ce;return new Promise((je,rt)=>{const wt=Fa("",20);F.port1.start();const mt=setTimeout(()=>{rt(new Error("unsupported_event"))},C);ce={messageChannel:F,onMessage(Yn){const Go=Yn;if(Go.data.eventId===wt)switch(Go.data.status){case"ack":clearTimeout(mt),Y=setTimeout(()=>{rt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Y),je(Go.data.response);break;default:clearTimeout(mt),clearTimeout(Y),rt(new Error("invalid_response"))}}},I.handlers.add(ce),F.port1.addEventListener("message",ce.onMessage),I.target.postMessage({eventType:g,eventId:wt,data:_},[F.port2])}).finally(()=>{ce&&I.removeMessageHandler(ce)})})()}}function On(){return window}function mo(){return void 0!==On().WorkerGlobalScope&&"function"==typeof On().importScripts}function Vr(){return(Vr=(0,l.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const Du="firebaseLocalStorageDb",ca="firebaseLocalStorage",Mn="fbase_key";class ss{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Na(y,g){return y.transaction([ca],g?"readwrite":"readonly").objectStore(ca)}function As(){const y=indexedDB.open(Du,1);return new Promise((g,_)=>{y.addEventListener("error",()=>{_(y.error)}),y.addEventListener("upgradeneeded",()=>{const C=y.result;try{C.createObjectStore(ca,{keyPath:Mn})}catch(I){_(I)}}),y.addEventListener("success",(0,l.Z)(function*(){const C=y.result;C.objectStoreNames.contains(ca)?g(C):(C.close(),yield function Jr(){const y=indexedDB.deleteDatabase(Du);return new ss(y).toPromise()}(),g(yield As()))}))})}function Tu(y,g,_){return No.apply(this,arguments)}function No(){return(No=(0,l.Z)(function*(y,g,_){const C=Na(y,!0).put({[Mn]:g,value:_});return new ss(C).toPromise()})).apply(this,arguments)}function Ml(){return(Ml=(0,l.Z)(function*(y,g){const _=Na(y,!1).get(g),C=yield new ss(_).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function Lo(y,g){const _=Na(y,!0).delete(g);return new ss(_).toPromise()}const zn=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,l.Z)(function*(){return _.db||(_.db=yield As()),_.db})()}_withRetries(_){var C=this;return(0,l.Z)(function*(){let I=0;for(;;)try{const F=yield C._openDb();return yield _(F)}catch(F){if(I++>3)throw F;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,l.Z)(function*(){return mo()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,l.Z)(function*(){_.receiver=Rn._getInstance(function ch(){return mo()?self:null}()),_.receiver._subscribe("keyChanged",function(){var C=(0,l.Z)(function*(I,F){return{keyProcessed:(yield _._poll()).includes(F.key)}});return function(I,F){return C.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var C=(0,l.Z)(function*(I,F){return["keyChanged"]});return function(I,F){return C.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,l.Z)(function*(){var C,I;if(_.activeServiceWorker=yield function bc(){return Vr.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new lh(_.activeServiceWorker);const F=yield _.sender._send("ping",{},800);!F||(null===(C=F[0])||void 0===C?void 0:C.fulfilled)&&(null===(I=F[0])||void 0===I?void 0:I.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var C=this;return(0,l.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function pt(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:_},C.serviceWorkerReceiverAvailable?800:50)}catch(I){}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const _=yield As();return yield Tu(_,xu,"1"),yield Lo(_,xu),!0}catch(_){}return!1})()}_withPendingWrite(_){var C=this;return(0,l.Z)(function*(){C.pendingWrites++;try{yield _()}finally{C.pendingWrites--}})()}_set(_,C){var I=this;return(0,l.Z)(function*(){return I._withPendingWrite((0,l.Z)(function*(){return yield I._withRetries(F=>Tu(F,_,C)),I.localCache[_]=C,I.notifyServiceWorker(_)}))})()}_get(_){var C=this;return(0,l.Z)(function*(){const I=yield C._withRetries(F=>function La(y,g){return Ml.apply(this,arguments)}(F,_));return C.localCache[_]=I,I})()}_remove(_){var C=this;return(0,l.Z)(function*(){return C._withPendingWrite((0,l.Z)(function*(){return yield C._withRetries(I=>Lo(I,_)),delete C.localCache[_],C.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,l.Z)(function*(){const C=yield _._withRetries(Y=>{const ce=Na(Y,!1).getAll();return new ss(ce).toPromise()});if(!C)return[];if(0!==_.pendingWrites)return[];const I=[],F=new Set;for(const{fbase_key:Y,value:ce}of C)F.add(Y),JSON.stringify(_.localCache[Y])!==JSON.stringify(ce)&&(_.notifyListeners(Y,ce),I.push(Y));for(const Y of Object.keys(_.localCache))_.localCache[Y]&&!F.has(Y)&&(_.notifyListeners(Y,null),I.push(Y));return I})()}notifyListeners(_,C){this.localCache[_]=C;const I=this.listeners[_];if(I)for(const F of Array.from(I))F(C)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function di(y,g){return Zt(y,"POST","/v2/accounts/mfaSignIn:start",cn(y,g))}function un(){return(un=(0,l.Z)(function*(y){return(yield Zt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function fr(y){return new Promise((g,_)=>{const C=document.createElement("script");C.setAttribute("src",y),C.onload=g,C.onerror=I=>{const F=Me("internal-error");F.customData=I,_(F)},C.type="text/javascript",C.charset="UTF-8",function Si(){var y,g;return null!==(g=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==g?g:document}().appendChild(C)})}function Cc(y){return`__${y}${Math.floor(1e6*Math.random())}`}const hi=1e12;class yi{constructor(g){this.auth=g,this.counter=hi,this._widgets=new Map}render(g,_){const C=this.counter;return this._widgets.set(C,new gr(g,this.auth.name,_||{})),this.counter++,C}reset(g){var _;const C=g||hi;null===(_=this._widgets.get(C))||void 0===_||_.delete(),this._widgets.delete(C)}getResponse(g){var _;return(null===(_=this._widgets.get(g||hi))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,l.Z)(function*(){var C;return null===(C=_._widgets.get(g||hi))||void 0===C||C.execute(),""})()}}class gr{constructor(g,_,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const I="string"==typeof g?document.getElementById(g):g;se(I,"argument-error",{appName:_}),this.container=I,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function _o(y){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<y;C++)g.push(_.charAt(Math.floor(Math.random()*_.length)));return g.join("")}(50);const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch(C){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(C){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ba=Cc("rcb"),dp=new Cn(3e4,6e4);class hp{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!On().grecaptcha}load(g,_=""){return se(function By(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(_),g,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(On().grecaptcha):new Promise((C,I)=>{const F=On().setTimeout(()=>{I(Me(g,"network-request-failed"))},dp.get());On()[Ba]=()=>{On().clearTimeout(F),delete On()[Ba];const ce=On().grecaptcha;if(!ce)return void I(Me(g,"internal-error"));const je=ce.render;ce.render=(rt,wt)=>{const mt=je(rt,wt);return this.counter++,mt},this.hostLanguage=_,C(ce)},fr(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:Ba,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(F),I(Me(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!On().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Va{load(g){return(0,l.Z)(function*(){return new yi(g)})()}clearedOneInstance(){}}const ti="recaptcha",Ou={theme:"light",type:"image"};class Rs{constructor(g,_=Object.assign({},Ou),C){this.parameters=_,this.type=ti,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ve(C),this.isInvisible="invisible"===this.parameters.size,se("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const I="string"==typeof g?document.getElementById(g):g;se(I,this.auth,"argument-error"),this.container=I,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Va:new hp,this.validateStartingState()}verify(){var g=this;return(0,l.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),C=g.getAssertedRecaptcha();return C.getResponse(_)||new Promise(F=>{const Y=ce=>{!ce||(g.tokenChangeListeners.delete(Y),F(ce))};g.tokenChangeListeners.add(Y),g.isInvisible&&C.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){se(!this.parameters.sitekey,this.auth,"argument-error"),se(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),se("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(C=>C(_)),"function"==typeof g)g(_);else if("string"==typeof g){const C=On()[g];"function"==typeof C&&C(_)}}}assertNotDestroyed(){se(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,l.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const C=document.createElement("div");_.appendChild(C),_=C}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,l.Z)(function*(){se(ln()&&!mo(),g.auth,"internal-error"),yield function dh(){let y=null;return new Promise(g=>{"complete"!==document.readyState?(y=()=>g(),window.addEventListener("load",y)):g()}).catch(g=>{throw y&&window.removeEventListener("load",y),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function uh(y){return un.apply(this,arguments)}(g.auth);se(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return se(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class vo{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=Ta._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function Zn(){return(Zn=(0,l.Z)(function*(y,g,_){const C=Ve(y),I=yield Hi(C,g,(0,B.m9)(_));return new vo(I,F=>ei(C,F))})).apply(this,arguments)}function Ua(){return(Ua=(0,l.Z)(function*(y,g,_){const C=(0,B.m9)(y);yield xs(!1,C,"phone");const I=yield Hi(C.auth,g,(0,B.m9)(_));return new vo(I,F=>po(C,F))})).apply(this,arguments)}function Au(){return(Au=(0,l.Z)(function*(y,g,_){const C=(0,B.m9)(y),I=yield Hi(C.auth,g,(0,B.m9)(_));return new vo(I,F=>Es(C,F))})).apply(this,arguments)}function Hi(y,g,_){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,l.Z)(function*(y,g,_){var C;const I=yield _.verify();try{let F;if(se("string"==typeof I,y,"argument-error"),se(_.type===ti,y,"argument-error"),F="string"==typeof g?{phoneNumber:g}:g,"session"in F){const Y=F.session;if("phoneNumber"in F)return se("enroll"===Y.type,y,"internal-error"),(yield ui(y,{idToken:Y.credential,phoneEnrollmentInfo:{phoneNumber:F.phoneNumber,recaptchaToken:I}})).phoneSessionInfo.sessionInfo;{se("signin"===Y.type,y,"internal-error");const ce=(null===(C=F.multiFactorHint)||void 0===C?void 0:C.uid)||F.multiFactorUid;return se(ce,y,"missing-multi-factor-info"),(yield di(y,{mfaPendingCredential:Y.credential,mfaEnrollmentId:ce,phoneSignInInfo:{recaptchaToken:I}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Y}=yield km(y,{phoneNumber:F.phoneNumber,recaptchaToken:I});return Y}}finally{_._reset()}})).apply(this,arguments)}function Fs(){return(Fs=(0,l.Z)(function*(y,g){yield In((0,B.m9)(y),g)})).apply(this,arguments)}let yo=(()=>{class y{constructor(_){this.providerId=y.PROVIDER_ID,this.auth=Ve(_)}verifyPhoneNumber(_,C){return Hi(this.auth,_,(0,B.m9)(C))}static credential(_,C){return Ta._fromVerification(_,C)}static credentialFromResult(_){return y.credentialFromTaggedObject(_)}static credentialFromError(_){return y.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:C,temporaryProof:I}=_;return C&&I?Ta._fromTokenResponse(C,I):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Vo(y,g){return g?le(g):(se(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class El extends pn{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return ci(g,this._buildIdpRequest())}_linkToIdToken(g,_){return ci(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return ci(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function wc(y){return oa(y.auth,new El(y),y.bypassAuthState)}function Ht(y){const{auth:g,user:_}=y;return se(_,g,"internal-error"),Xd(_,new El(y),y.bypassAuthState)}function hh(y){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,l.Z)(function*(y){const{auth:g,user:_}=y;return se(_,g,"internal-error"),In(_,new El(y),y.bypassAuthState)})).apply(this,arguments)}class mr{constructor(g,_,C,I,F=!1){this.auth=g,this.resolver=C,this.user=I,this.bypassAuthState=F,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,l.Z)(function*(C,I){g.pendingPromise={resolve:C,reject:I};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(F){g.reject(F)}});return function(C,I){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,l.Z)(function*(){const{urlResponse:C,sessionId:I,postBody:F,tenantId:Y,error:ce,type:je}=g;if(ce)return void _.reject(ce);const rt={auth:_.auth,requestUri:C,sessionId:I,tenantId:Y||void 0,postBody:F||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(je)(rt))}catch(wt){_.reject(wt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return wc;case"linkViaPopup":case"linkViaRedirect":return hh;case"reauthViaPopup":case"reauthViaRedirect":return Ht;default:Ie(this.auth,"internal-error")}}resolve(g){ae(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){ae(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Mc=new Cn(2e3,1e4);function fh(){return(fh=(0,l.Z)(function*(y,g,_){const C=Ve(y);Ze(y,g,ts);const I=Vo(C,_);return new Uo(C,"signInViaPopup",g,I).executeNotNull()})).apply(this,arguments)}function Hr(){return(Hr=(0,l.Z)(function*(y,g,_){const C=(0,B.m9)(y);Ze(C.auth,g,ts);const I=Vo(C.auth,_);return new Uo(C.auth,"reauthViaPopup",g,I,C).executeNotNull()})).apply(this,arguments)}function xc(){return(xc=(0,l.Z)(function*(y,g,_){const C=(0,B.m9)(y);Ze(C.auth,g,ts);const I=Vo(C.auth,_);return new Uo(C.auth,"linkViaPopup",g,I,C).executeNotNull()})).apply(this,arguments)}let Uo=(()=>{class y extends mr{constructor(_,C,I,F,Y){super(_,C,F,Y),this.provider=I,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var _=this;return(0,l.Z)(function*(){const C=yield _.execute();return se(C,_.auth,"internal-error"),C})()}onExecution(){var _=this;return(0,l.Z)(function*(){ae(1===_.filter.length,"Popup operations only handle one event");const C=Fa();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],C),_.authWindow.associatedEvent=C,_.resolver._originValidation(_.auth).catch(I=>{_.reject(I)}),_.resolver._isIframeWebStorageSupported(_.auth,I=>{I||_.reject(Me(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const _=()=>{var C,I;this.pollId=(null===(I=null===(C=this.authWindow)||void 0===C?void 0:C.window)||void 0===I?void 0:I.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Me(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,Mc.get())};_()}}return y.currentPopupAction=null,y})();const xn=new Map;class eo extends mr{constructor(g,_,C=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,C),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,l.Z)(function*(){let C=xn.get(_.auth._key());if(!C){try{const F=(yield function Ru(y,g){return Fu.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;C=()=>Promise.resolve(F)}catch(I){C=()=>Promise.reject(I)}xn.set(_.auth._key(),C)}return _.bypassAuthState||xn.set(_.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,C=this;return(0,l.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(C,g);if("unknown"!==g.type){if(g.eventId){const I=yield C.auth._redirectUserForId(g.eventId);if(I)return C.user=I,_().call(C,g);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function Fu(){return(Fu=(0,l.Z)(function*(y,g){const _=S(g),C=D(y);if(!(yield C._isAvailable()))return!1;const I="true"===(yield C._get(_));return yield C._remove(_),I})).apply(this,arguments)}function Ls(y,g){return ja.apply(this,arguments)}function ja(){return(ja=(0,l.Z)(function*(y,g){return D(y)._set(S(g),"true")})).apply(this,arguments)}function D(y){return le(y._redirectPersistence)}function S(y){return fe("pendingRedirect",y.config.apiKey,y.name)}function K(){return(K=(0,l.Z)(function*(y,g,_){const C=Ve(y);Ze(y,g,ts);const I=Vo(C,_);return yield Ls(I,C),I._openRedirect(C,g,"signInViaRedirect")})).apply(this,arguments)}function Ke(){return(Ke=(0,l.Z)(function*(y,g,_){const C=(0,B.m9)(y);Ze(C.auth,g,ts);const I=Vo(C.auth,_);yield Ls(I,C.auth);const F=yield Bs(C);return I._openRedirect(C.auth,g,"reauthViaRedirect",F)})).apply(this,arguments)}function Jt(){return(Jt=(0,l.Z)(function*(y,g,_){const C=(0,B.m9)(y);Ze(C.auth,g,ts);const I=Vo(C.auth,_);yield xs(!1,C,g.providerId),yield Ls(I,C.auth);const F=yield Bs(C);return I._openRedirect(C.auth,g,"linkViaRedirect",F)})).apply(this,arguments)}function fi(){return(fi=(0,l.Z)(function*(y,g){return yield Ve(y)._initializationPromise,ni(y,g,!1)})).apply(this,arguments)}function ni(y,g){return as.apply(this,arguments)}function as(){return(as=(0,l.Z)(function*(y,g,_=!1){const C=Ve(y),I=Vo(C,g),Y=yield new eo(C,I,_).execute();return Y&&!_&&(delete Y.user._redirectEventId,yield C._persistUserIfCurrent(Y.user),yield C._setRedirectUser(null,g)),Y})).apply(this,arguments)}function Bs(y){return to.apply(this,arguments)}function to(){return(to=(0,l.Z)(function*(y){const g=Fa(`${y.uid}:::`);return y._redirectEventId=g,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),g})).apply(this,arguments)}class Vs{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(g,C)&&(_=!0,this.sendToConsumer(g,C),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function pp(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Lu(y);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var C;if(g.error&&!Lu(g)){const I=(null===(C=g.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";_.onError(Me(this.auth,I))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const C=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&C}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ho(g))}saveEventToCache(g){this.cachedEventUids.add(Ho(g)),this.lastProcessedEventTime=Date.now()}}function Ho(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(g=>g).join("-")}function Lu({type:y,error:g}){return"unknown"===y&&"auth/no-auth-event"===(null==g?void 0:g.code)}function Bu(y){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,l.Z)(function*(y,g={}){return Zt(y,"GET","/v1/projects",g)})).apply(this,arguments)}const Um=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vy=/^https?/;function za(){return(za=(0,l.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:g}=yield Bu(y);for(const _ of g)try{if(Vu(_))return}catch(C){}Ie(y,"unauthorized-domain")})).apply(this,arguments)}function Vu(y){const g=At(),{protocol:_,hostname:C}=new URL(g);if(y.startsWith("chrome-extension://")){const Y=new URL(y);return""===Y.hostname&&""===C?"chrome-extension:"===_&&y.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&Y.hostname===C}if(!Vy.test(_))return!1;if(Um.test(y))return C===y;const I=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+I+"|"+I+")$","i").test(C)}const Uy=new Cn(3e4,6e4);function Hy(){const y=On().___jsl;if(null==y?void 0:y.H)for(const g of Object.keys(y.H))if(y.H[g].r=y.H[g].r||[],y.H[g].L=y.H[g].L||[],y.H[g].r=[...y.H[g].L],y.CP)for(let _=0;_<y.CP.length;_++)y.CP[_]=null}let Uu=null;function jm(y){return Uu=Uu||function Hm(y){return new Promise((g,_)=>{var C,I,F;function Y(){Hy(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Hy(),_(Me(y,"network-request-failed"))},timeout:Uy.get()})}if(null===(I=null===(C=On().gapi)||void 0===C?void 0:C.iframes)||void 0===I?void 0:I.Iframe)g(gapi.iframes.getContext());else{if(!(null===(F=On().gapi)||void 0===F?void 0:F.load)){const ce=Cc("iframefcb");return On()[ce]=()=>{gapi.load?Y():_(Me(y,"network-request-failed"))},fr(`https://apis.google.com/js/api.js?onload=${ce}`).catch(je=>_(je))}Y()}}).catch(g=>{throw Uu=null,g})}(y),Uu}const gp=new Cn(5e3,15e3),Hu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Sc(y){const g=y.config;se(g.authDomain,y,"auth-domain-config-required");const _=g.emulator?wn(g,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,C={apiKey:g.apiKey,appName:y.name,v:de.SDK_VERSION},I=mh.get(y.config.apiHost);I&&(C.eid=I);const F=y._getFrameworks();return F.length&&(C.fw=F.join(",")),`${_}?${(0,B.xO)(C).slice(1)}`}function _h(){return _h=(0,l.Z)(function*(y){const g=yield jm(y),_=On().gapi;return se(_,y,"internal-error"),g.open({where:document.body,url:Sc(y),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Hu,dontclear:!0},C=>new Promise(function(){var I=(0,l.Z)(function*(F,Y){yield C.restyle({setHideOnLeave:!1});const ce=Me(y,"network-request-failed"),je=On().setTimeout(()=>{Y(ce)},gp.get());function rt(){On().clearTimeout(je),F(C)}C.ping(rt).then(rt,()=>{Y(ce)})});return function(F,Y){return I.apply(this,arguments)}}()))}),_h.apply(this,arguments)}const uM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ju{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function _p(y,g,_,C,I,F){se(y.config.authDomain,y,"auth-domain-config-required"),se(y.config.apiKey,y,"invalid-api-key");const Y={apiKey:y.config.apiKey,appName:y.name,authType:_,redirectUrl:C,v:de.SDK_VERSION,eventId:I};if(g instanceof ts){g.setDefaultLanguage(y.languageCode),Y.providerId=g.providerId||"",(0,B.xb)(g.getCustomParameters())||(Y.customParameters=JSON.stringify(g.getCustomParameters()));for(const[je,rt]of Object.entries(F||{}))Y[je]=rt}if(g instanceof Nr){const je=g.getScopes().filter(rt=>""!==rt);je.length>0&&(Y.scopes=je.join(","))}y.tenantId&&(Y.tid=y.tenantId);const ce=Y;for(const je of Object.keys(ce))void 0===ce[je]&&delete ce[je];return`${function Gy({config:y}){return y.emulator?wn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,B.xO)(ce).slice(1)}`}const no="webStorageSupport";class bh extends class zm{constructor(g){this.factorId=g}_process(g,_,C){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,C);case"signin":return this._finalizeSignIn(g,_.credential);default:return X("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new bh(g)}_finalizeEnroll(g,_,C){return function oh(y,g){return Zt(y,"POST","/v2/accounts/mfaEnrollment:finalize",cn(y,g))}(g,{idToken:_,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function xl(y,g){return Zt(y,"POST","/v2/accounts/mfaSignIn:finalize",cn(y,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let $y=(()=>{class y{constructor(){}static assertion(_){return bh._fromCredential(_)}}return y.FACTOR_ID="phone",y})();var Ch="@firebase/auth",Gm="0.19.11";class $m{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,l.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(C=>{var I;g((null===(I=C)||void 0===I?void 0:I.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);!_||(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Tl(){return window}function Ga(){return(Ga=(0,l.Z)(function*(y,g,_){var C;const{BuildInfo:I}=Tl();ae(g.sessionId,"AuthEvent did not contain a session ID");const F=yield dM(g.sessionId),Y={};return Di()?Y.ibi=I.packageName:Gn()?Y.apn=I.packageName:Ie(y,"operation-not-supported-in-this-environment"),I.displayName&&(Y.appDisplayName=I.displayName),Y.sessionId=F,_p(y,_,g.type,void 0,null!==(C=g.eventId)&&void 0!==C?C:void 0,Y)})).apply(this,arguments)}function jo(){return(jo=(0,l.Z)(function*(y){const{BuildInfo:g}=Tl(),_={};Di()?_.iosBundleId=g.packageName:Gn()?_.androidPackageName=g.packageName:Ie(y,"operation-not-supported-in-this-environment"),yield Bu(y,_)})).apply(this,arguments)}function Tc(){return(Tc=(0,l.Z)(function*(y,g,_){const{cordova:C}=Tl();let I=()=>{};try{yield new Promise((F,Y)=>{let ce=null;function je(){var mt;F();const Yn=null===(mt=C.plugins.browsertab)||void 0===mt?void 0:mt.close;"function"==typeof Yn&&Yn(),"function"==typeof(null==_?void 0:_.close)&&_.close()}function rt(){ce||(ce=window.setTimeout(()=>{Y(Me(y,"redirect-cancelled-by-user"))},2e3))}function wt(){"visible"===(null==document?void 0:document.visibilityState)&&rt()}g.addPassiveListener(je),document.addEventListener("resume",rt,!1),Gn()&&document.addEventListener("visibilitychange",wt,!1),I=()=>{g.removePassiveListener(je),document.removeEventListener("resume",rt,!1),document.removeEventListener("visibilitychange",wt,!1),ce&&window.clearTimeout(ce)}})}finally{I()}})).apply(this,arguments)}function dM(y){return $a.apply(this,arguments)}function $a(){return($a=(0,l.Z)(function*(y){const g=hM(y),_=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(_)).map(I=>I.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function hM(y){if(ae(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const g=new ArrayBuffer(y.length),_=new Uint8Array(g);for(let C=0;C<y.length;C++)_[C]=y.charCodeAt(C);return _}!function qm(y){(0,de._registerComponent)(new J.wA("auth",(g,{options:_})=>{const C=g.getProvider("app").getImmediate(),I=g.getProvider("heartbeat"),{apiKey:F,authDomain:Y}=C.options;return((ce,je)=>{se(F&&!F.includes(":"),"invalid-api-key",{appName:ce.name}),se(!(null==Y?void 0:Y.includes(":")),"argument-error",{appName:ce.name});const rt={apiKey:F,authDomain:Y,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gl(y)},wt=new Yr(ce,je,rt);return function ue(y,g){const _=(null==g?void 0:g.persistence)||[],C=(Array.isArray(_)?_:[_]).map(le);(null==g?void 0:g.errorMap)&&y._updateErrorMap(g.errorMap),y._initializeWithPersistence(C,null==g?void 0:g.popupRedirectResolver)}(wt,_),wt})(C,I)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,C)=>{g.getProvider("auth-internal").initialize()})),(0,de._registerComponent)(new J.wA("auth-internal",g=>{const _=Ve(g.getProvider("auth").getImmediate());return new $m(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,de.registerVersion)(Ch,Gm,function qy(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,de.registerVersion)(Ch,Gm,"esm2017")}("Browser");class Cp extends Vs{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(g)),super.onEvent(g)}initialized(){var g=this;return(0,l.Z)(function*(){yield g.initPromise})()}}function qu(y){return Mh.apply(this,arguments)}function Mh(){return(Mh=(0,l.Z)(function*(y){const g=yield xp()._get(xh(y));return g&&(yield xp()._remove(xh(y))),g})).apply(this,arguments)}function Mp(){const y=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<20;_++){const C=Math.floor(Math.random()*g.length);y.push(g.charAt(C))}return y.join("")}function xp(){return le(qn)}function xh(y){return fe("authEvent",y.config.apiKey,y.name)}function Zu(y){if(!(null==y?void 0:y.includes("?")))return{};const[g,..._]=y.split("?");return(0,B.zd)(_.join("?"))}function Dp(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Me("no-auth-event")}}function Sh(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function Ku(y=(0,B.z$)()){return!("file:"!==Sh()&&"ionic:"!==Sh()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ti(){try{const y=self.localStorage,g=Fa();if(y)return y.setItem(g,"1"),y.removeItem(g),!function Oc(y=(0,B.z$)()){return function Ky(){return(0,B.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Th(y=(0,B.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,B.hl)()}catch(y){return kc()&&(0,B.hl)()}return!1}function kc(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ih(){return(function Yy(){return"http:"===Sh()||"https:"===Sh()}()||(0,B.ru)()||Ku())&&!function Km(){return(0,B.b$)()||(0,B.UG)()}()&&Ti()&&!kc()}function Sp(){return Ku()&&"undefined"!=typeof document}function Il(){return(Il=(0,l.Z)(function*(){return!!Sp()&&new Promise(y=>{const g=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),y(!0)})})})).apply(this,arguments)}const jr={LOCAL:"local",NONE:"none",SESSION:"session"},Qu=se,Oh="persistence";function Ah(y){return Ip.apply(this,arguments)}function Ip(){return(Ip=(0,l.Z)(function*(y){yield y._initializationPromise;const g=Qm(),_=fe(Oh,y.config.apiKey,y.name);g&&g.setItem(_,y._getPersistence())})).apply(this,arguments)}function Qm(){var y;try{return(null===(y=function Tp(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(g){return null}}const Ju=se;class Hs{constructor(){this.browserResolver=le(class Us{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ft,this._completeRedirectFn=ni}_openPopup(g,_,C,I){var F=this;return(0,l.Z)(function*(){var Y;ae(null===(Y=F.eventManagers[g._key()])||void 0===Y?void 0:Y.manager,"_initialize() not called before _openPopup()");const ce=_p(g,_,C,At(),I);return function ha(y,g,_,C=500,I=600){const F=Math.max((window.screen.availHeight-I)/2,0).toString(),Y=Math.max((window.screen.availWidth-C)/2,0).toString();let ce="";const je=Object.assign(Object.assign({},uM),{width:C.toString(),height:I.toString(),top:F,left:Y}),rt=(0,B.z$)().toLowerCase();_&&(ce=Yi(rt)?"_blank":_),Dt(rt)&&(g=g||"http://localhost",je.scrollbars="yes");const wt=Object.entries(je).reduce((Yn,[Go,Ol])=>`${Yn}${Go}=${Ol},`,"");if(function Jl(y=(0,B.z$)()){var g;return Di(y)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(rt)&&"_self"!==ce)return function jy(y,g){const _=document.createElement("a");_.href=y,_.target=g;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(C)}(g||"",ce),new ju(null);const mt=window.open(g||"",ce,wt);se(mt,y,"popup-blocked");try{mt.focus()}catch(Yn){}return new ju(mt)}(g,ce,Fa())})()}_openRedirect(g,_,C,I){var F=this;return(0,l.Z)(function*(){return yield F._originValidation(g),function up(y){On().location.href=y}(_p(g,_,C,At(),I)),new Promise(()=>{})})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:I,promise:F}=this.eventManagers[_];return I?Promise.resolve(I):(ae(F,"If manager is not set, promise should be"),F)}const C=this.initAndGetManager(g);return this.eventManagers[_]={promise:C},C.catch(()=>{delete this.eventManagers[_]}),C}initAndGetManager(g){var _=this;return(0,l.Z)(function*(){const C=yield function Dl(y){return _h.apply(this,arguments)}(g),I=new Vs(g);return C.register("authEvent",F=>(se(null==F?void 0:F.authEvent,g,"invalid-auth-event"),{status:I.onEvent(F.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:I},_.iframes[g._key()]=C,I})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(no,{type:no},I=>{var F;const Y=null===(F=null==I?void 0:I[0])||void 0===F?void 0:F[no];void 0!==Y&&_(!!Y),Ie(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function gh(y){return za.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return Qo()||on()||Di()}}),this.cordovaResolver=le(class zo{constructor(){this._redirectPersistence=ft,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ni}_initialize(g){var _=this;return(0,l.Z)(function*(){const C=g._key();let I=_.eventManagers.get(C);return I||(I=new Cp(g),_.eventManagers.set(C,I),_.attachCallbackListeners(g,I)),I})()}_openPopup(g){Ie(g,"operation-not-supported-in-this-environment")}_openRedirect(g,_,C,I){var F=this;return(0,l.Z)(function*(){!function fa(y){var g,_,C,I,F,Y,ce,je,rt,wt;const mt=Tl();se("function"==typeof(null===(g=null==mt?void 0:mt.universalLinks)||void 0===g?void 0:g.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),se(void 0!==(null===(_=null==mt?void 0:mt.BuildInfo)||void 0===_?void 0:_.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),se("function"==typeof(null===(F=null===(I=null===(C=null==mt?void 0:mt.cordova)||void 0===C?void 0:C.plugins)||void 0===I?void 0:I.browsertab)||void 0===F?void 0:F.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),se("function"==typeof(null===(je=null===(ce=null===(Y=null==mt?void 0:mt.cordova)||void 0===Y?void 0:Y.plugins)||void 0===ce?void 0:ce.browsertab)||void 0===je?void 0:je.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),se("function"==typeof(null===(wt=null===(rt=null==mt?void 0:mt.cordova)||void 0===rt?void 0:rt.InAppBrowser)||void 0===wt?void 0:wt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const Y=yield F._initialize(g);yield Y.initialized(),Y.resetRedirect(),function Nu(){xn.clear()}(),yield F._originValidation(g);const ce=function wp(y,g,_=null){return{type:g,eventId:_,urlResponse:null,sessionId:Mp(),postBody:null,tenantId:y.tenantId,error:Me(y,"no-auth-event")}}(g,C,I);yield function wh(y,g){return xp()._set(xh(y),g)}(g,ce);const je=yield function Wy(y,g,_){return Ga.apply(this,arguments)}(g,ce,_),rt=yield function $u(y){const{cordova:g}=Tl();return new Promise(_=>{g.plugins.browsertab.isAvailable(C=>{let I=null;C?g.plugins.browsertab.openUrl(y):I=g.InAppBrowser.open(y,function Js(y=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),_(I)})})}(je);return function Zm(y,g,_){return Tc.apply(this,arguments)}(g,Y,rt)})()}_isIframeWebStorageSupported(g,_){throw new Error("Method not implemented.")}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function yp(y){return jo.apply(this,arguments)}(g)),this.originValidationPromises[_]}attachCallbackListeners(g,_){const{universalLinks:C,handleOpenURL:I,BuildInfo:F}=Tl(),Y=setTimeout((0,l.Z)(function*(){yield qu(g),_.onEvent(Dp())}),500),ce=function(){var wt=(0,l.Z)(function*(mt){clearTimeout(Y);const Yn=yield qu(g);let Go=null;Yn&&(null==mt?void 0:mt.url)&&(Go=function Wu(y,g){var _,C;const I=function Eh(y){const g=Zu(y),_=g.link?decodeURIComponent(g.link):void 0,C=Zu(_).link,I=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return Zu(I).link||I||C||_||y}(g);if(I.includes("/__/auth/callback")){const F=Zu(I),Y=F.firebaseError?function Ep(y){try{return JSON.parse(y)}catch(g){return null}}(decodeURIComponent(F.firebaseError)):null,ce=null===(C=null===(_=null==Y?void 0:Y.code)||void 0===_?void 0:_.split("auth/"))||void 0===C?void 0:C[1],je=ce?Me(ce):null;return je?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:je,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:I,postBody:null}}return null}(Yn,mt.url)),_.onEvent(Go||Dp())});return function(Yn){return wt.apply(this,arguments)}}();void 0!==C&&"function"==typeof C.subscribe&&C.subscribe(null,ce);const je=I,rt=`${F.packageName.toLowerCase()}://`;Tl().handleOpenURL=function(){var wt=(0,l.Z)(function*(mt){if(mt.toLowerCase().startsWith(rt)&&ce({url:mt}),"function"==typeof je)try{je(mt)}catch(Yn){console.error(Yn)}});return function(mt){return wt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=ft,this._completeRedirectFn=ni}_initialize(g){var _=this;return(0,l.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,_,C,I){var F=this;return(0,l.Z)(function*(){return yield F.selectUnderlyingResolver(),F.assertedUnderlyingResolver._openPopup(g,_,C,I)})()}_openRedirect(g,_,C,I){var F=this;return(0,l.Z)(function*(){return yield F.selectUnderlyingResolver(),F.assertedUnderlyingResolver._openRedirect(g,_,C,I)})()}_isIframeWebStorageSupported(g,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,_)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return Sp()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ju(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,l.Z)(function*(){if(g.underlyingResolver)return;const _=yield function _r(){return Il.apply(this,arguments)}();g.underlyingResolver=_?g.cordovaResolver:g.browserResolver})()}}function Xm(y){return y.unwrap()}function Op(y){return Jm(y)}function Jm(y){const{_tokenResponse:g}=y instanceof B.ZR?y.customData:y;if(!g)return null;if(!(y instanceof B.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return yo.credentialFromResult(y);const _=g.providerId;if(!_||"password"===_)return null;let C;switch(_){case"google.com":C=_l;break;case"facebook.com":C=ia;break;case"github.com":C=Kd;break;case"twitter.com":C=oc;break;default:const{oauthIdToken:I,oauthAccessToken:F,oauthTokenSecret:Y,pendingToken:ce,nonce:je}=g;return F||Y||I||ce?ce?_.startsWith("saml.")?Nn._create(_,ce):es._fromParams({providerId:_,signInMethod:_,pendingToken:ce,idToken:I,accessToken:F}):new Ia(_).credential({idToken:I,accessToken:F,rawNonce:je}):null}return y instanceof B.ZR?C.credentialFromError(y):C.credentialFromResult(y)}function zi(y,g){return g.catch(_=>{throw _ instanceof B.ZR&&function Qy(y,g){var _;const C=null===(_=g.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===g.code)g.resolver=new Xy(y,function yc(y,g){var _;const C=(0,B.m9)(y),I=g;return se(g.customData.operationType,C,"argument-error"),se(null===(_=I.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,C,"argument-error"),wl._fromError(C,I)}(y,g));else if(C){const I=Jm(g),F=g;I&&(F.credential=I,F.tenantId=C.tenantId||void 0,F.email=C.email||void 0,F.phoneNumber=C.phoneNumber||void 0)}}(y,_),_}).then(_=>{const I=_.user;return{operationType:_.operationType,credential:Op(_),additionalUserInfo:Ji(_),user:pa.getOrCreate(I)}})}function kp(y,g){return Ap.apply(this,arguments)}function Ap(){return(Ap=(0,l.Z)(function*(y,g){const _=yield g;return{verificationId:_.verificationId,confirm:C=>zi(y,_.confirm(C))}})).apply(this,arguments)}class Xy{constructor(g,_){this.resolver=_,this.auth=function ed(y){return y.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return zi(Xm(this.auth),this.resolver.resolveSignIn(g))}}class pa{constructor(g){this._delegate=g,this.multiFactor=function sh(y){const g=(0,B.m9)(y);return Ra.has(g)||Ra.set(g,os._fromUser(g)),Ra.get(g)}(g)}static getOrCreate(g){return pa.USER_MAP.has(g)||pa.USER_MAP.set(g,new pa(g)),pa.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var _=this;return(0,l.Z)(function*(){return zi(_.auth,po(_._delegate,g))})()}linkWithPhoneNumber(g,_){var C=this;return(0,l.Z)(function*(){return kp(C.auth,function ku(y,g,_){return Ua.apply(this,arguments)}(C._delegate,g,_))})()}linkWithPopup(g){var _=this;return(0,l.Z)(function*(){return zi(_.auth,function ph(y,g,_){return xc.apply(this,arguments)}(_._delegate,g,Hs))})()}linkWithRedirect(g){var _=this;return(0,l.Z)(function*(){return yield Ah(Ve(_.auth)),function at(y,g,_){return function bt(y,g,_){return Jt.apply(this,arguments)}(y,g,_)}(_._delegate,g,Hs)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var _=this;return(0,l.Z)(function*(){return zi(_.auth,Es(_._delegate,g))})()}reauthenticateWithPhoneNumber(g,_){return kp(this.auth,function Bm(y,g,_){return Au.apply(this,arguments)}(this._delegate,g,_))}reauthenticateWithPopup(g){return zi(this.auth,function ua(y,g,_){return Hr.apply(this,arguments)}(this._delegate,g,Hs))}reauthenticateWithRedirect(g){var _=this;return(0,l.Z)(function*(){return yield Ah(Ve(_.auth)),function ie(y,g,_){return function ge(y,g,_){return Ke.apply(this,arguments)}(y,g,_)}(_._delegate,g,Hs)})()}sendEmailVerification(g){return function go(y,g){return mu.apply(this,arguments)}(this._delegate,g)}unlink(g){var _=this;return(0,l.Z)(function*(){return yield function vl(y,g){return cu.apply(this,arguments)}(_._delegate,g),_})()}updateEmail(g){return function yu(y,g){return bu((0,B.m9)(y),g,null)}(this._delegate,g)}updatePassword(g){return function eh(y,g){return bu((0,B.m9)(y),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function Pu(y,g){return Fs.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function Pa(y,g){return vu.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,_){return function _c(y,g,_){return vc.apply(this,arguments)}(this._delegate,g,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}pa.USER_MAP=new WeakMap;const td=se;let Ph=(()=>{class y{constructor(_,C){if(this.app=_,C.isInitialized())return this._delegate=C.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:I}=_.options;td(I,"invalid-api-key",{appName:_.name}),td(I,"invalid-api-key",{appName:_.name});const F="undefined"!=typeof window?Hs:void 0;this._delegate=C.initialize({options:{persistence:Jy(I,_.name),popupRedirectResolver:F}}),this._delegate._updateErrorMap(Be),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?pa.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,C){!function Tn(y,g,_){const C=Ve(y);se(C._canInitEmulator,C,"emulator-config-failed"),se(/^https?:\/\//.test(g),C,"invalid-emulator-scheme");const I=!!(null==_?void 0:_.disableWarnings),F=Li(g),{host:Y,port:ce}=function vs(y){const g=Li(y),_=/(\/\/)?([^?#/]+)/.exec(y.substr(g.length));if(!_)return{host:"",port:null};const C=_[2].split("@").pop()||"",I=/^(\[[^\]]+\])(:|$)/.exec(C);if(I){const F=I[1];return{host:F,port:li(C.substr(F.length+1))}}{const[F,Y]=C.split(":");return{host:F,port:li(Y)}}}(g);C.config.emulator={url:`${F}//${Y}${null===ce?"":`:${ce}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:Y,port:ce,protocol:F.replace(":",""),options:Object.freeze({disableWarnings:I})}),I||function Ro(){function y(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,_,C)}applyActionCode(_){return function du(y,g){return Se.apply(this,arguments)}(this._delegate,_)}checkActionCode(_){return zt(this._delegate,_)}confirmPasswordReset(_,C){return function pc(y,g,_){return uu.apply(this,arguments)}(this._delegate,_,C)}createUserWithEmailAndPassword(_,C){var I=this;return(0,l.Z)(function*(){return zi(I._delegate,function Aa(y,g,_){return Br.apply(this,arguments)}(I._delegate,_,C))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return function mc(y,g){return Is.apply(this,arguments)}(this._delegate,_)}isSignInWithEmailLink(_){return function gu(y,g){const _=na.parseLink(g);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}(0,_)}getRedirectResult(){var _=this;return(0,l.Z)(function*(){td(Ih(),_._delegate,"operation-not-supported-in-this-environment");const C=yield function Pt(y,g){return fi.apply(this,arguments)}(_._delegate,Hs);return C?zi(_._delegate,Promise.resolve(C)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function Dh(y,g){Ve(y)._logFramework(g)}(this._delegate,_)}onAuthStateChanged(_,C,I){const{next:F,error:Y,complete:ce}=e_(_,C,I);return this._delegate.onAuthStateChanged(F,Y,ce)}onIdTokenChanged(_,C,I){const{next:F,error:Y,complete:ce}=e_(_,C,I);return this._delegate.onIdTokenChanged(F,Y,ce)}sendSignInLinkToEmail(_,C){return function pu(y,g,_){return Jd.apply(this,arguments)}(this._delegate,_,C)}sendPasswordResetEmail(_,C){return function hc(y,g,_){return fc.apply(this,arguments)}(this._delegate,_,C||void 0)}setPersistence(_){var C=this;return(0,l.Z)(function*(){let I;switch(function kh(y,g){Qu(Object.values(jr).includes(g),y,"invalid-persistence-type"),(0,B.b$)()?Qu(g!==jr.SESSION,y,"unsupported-persistence-type"):(0,B.UG)()?Qu(g===jr.NONE,y,"unsupported-persistence-type"):kc()?Qu(g===jr.NONE||g===jr.LOCAL&&(0,B.hl)(),y,"unsupported-persistence-type"):Qu(g===jr.NONE||Ti(),y,"unsupported-persistence-type")}(C._delegate,_),_){case jr.SESSION:I=ft;break;case jr.LOCAL:I=(yield le(zn)._isAvailable())?zn:qn;break;case jr.NONE:I=W;break;default:return Ie("argument-error",{appName:C._delegate.name})}return C._delegate.setPersistence(I)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return zi(this._delegate,function ac(y){return Qd.apply(this,arguments)}(this._delegate))}signInWithCredential(_){return zi(this._delegate,ei(this._delegate,_))}signInWithCustomToken(_){return zi(this._delegate,function Ds(y,g){return Ss.apply(this,arguments)}(this._delegate,_))}signInWithEmailAndPassword(_,C){return zi(this._delegate,function fu(y,g,_){return ei((0,B.m9)(y),lu.credential(g,_))}(this._delegate,_,C))}signInWithEmailLink(_,C){return zi(this._delegate,function gc(y,g,_){return Ts.apply(this,arguments)}(this._delegate,_,C))}signInWithPhoneNumber(_,C){return kp(this._delegate,function fp(y,g,_){return Zn.apply(this,arguments)}(this._delegate,_,C))}signInWithPopup(_){var C=this;return(0,l.Z)(function*(){return td(Ih(),C._delegate,"operation-not-supported-in-this-environment"),zi(C._delegate,function Ha(y,g,_){return fh.apply(this,arguments)}(C._delegate,_,Hs))})()}signInWithRedirect(_){var C=this;return(0,l.Z)(function*(){return td(Ih(),C._delegate,"operation-not-supported-in-this-environment"),yield Ah(C._delegate),function P(y,g,_){return function H(y,g,_){return K.apply(this,arguments)}(y,g,_)}(C._delegate,_,Hs)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return function Ln(y,g){return ka.apply(this,arguments)}(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=jr,y})();function e_(y,g,_){let C=y;"function"!=typeof y&&({next:C,error:g,complete:_}=y);const I=C;return{next:Y=>I(Y&&pa.getOrCreate(Y)),error:g,complete:_}}function Jy(y,g){const _=function Xu(y,g){const _=Qm();if(!_)return[];const C=fe(Oh,y,g);switch(_.getItem(C)){case jr.NONE:return[W];case jr.LOCAL:return[zn,ft];case jr.SESSION:return[ft];default:return[]}}(y,g);if("undefined"!=typeof self&&!_.includes(zn)&&_.push(zn),"undefined"!=typeof window)for(const C of[qn,ft])_.includes(C)||_.push(C);return _.includes(W)||_.push(W),_}class Pp{constructor(){this.providerId="phone",this._delegate=new yo(Xm(ee.Z.auth()))}static credential(g,_){return yo.credential(g,_)}verifyPhoneNumber(g,_){return this._delegate.verifyPhoneNumber(g,_)}unwrap(){return this._delegate}}Pp.PHONE_SIGN_IN_METHOD=yo.PHONE_SIGN_IN_METHOD,Pp.PROVIDER_ID=yo.PROVIDER_ID;const eb=se;class t_{constructor(g,_,C=ee.Z.app()){var I;eb(null===(I=C.options)||void 0===I?void 0:I.apiKey,"invalid-api-key",{appName:C.name}),this._delegate=new Rs(g,_,C.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function fM(y){y.INTERNAL.registerComponent(new J.wA("auth-compat",g=>{const _=g.getProvider("app-compat").getImmediate(),C=g.getProvider("auth");return new Ph(_,C)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:lu,FacebookAuthProvider:ia,GithubAuthProvider:Kd,GoogleAuthProvider:_l,OAuthProvider:Ia,SAMLAuthProvider:Qr,PhoneAuthProvider:Pp,PhoneMultiFactorGenerator:$y,RecaptchaVerifier:t_,TwitterAuthProvider:oc,Auth:Ph,AuthCredential:pn,Error:B.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.11")}(ee.Z)},8306:(dt,Te,L)=>{L.d(Te,{y:()=>q});var l=L(930),ee=L(727),B=L(8822),de=L(4671);var J=L(2416),me=L(576),_e=L(2806);let q=(()=>{class ke{constructor(He){He&&(this._subscribe=He)}lift(He){const pe=new ke;return pe.source=this,pe.operator=He,pe}subscribe(He,pe,De){const it=function Ye(ke){return ke&&ke instanceof l.Lv||function ne(ke){return ke&&(0,me.m)(ke.next)&&(0,me.m)(ke.error)&&(0,me.m)(ke.complete)}(ke)&&(0,ee.Nn)(ke)}(He)?He:new l.Hp(He,pe,De);return(0,_e.x)(()=>{const{operator:Xe,source:Ie}=this;it.add(Xe?Xe.call(it,Ie):Ie?this._subscribe(it):this._trySubscribe(it))}),it}_trySubscribe(He){try{return this._subscribe(He)}catch(pe){He.error(pe)}}forEach(He,pe){return new(pe=$(pe))((De,it)=>{const Xe=new l.Hp({next:Ie=>{try{He(Ie)}catch(Me){it(Me),Xe.unsubscribe()}},error:it,complete:De});this.subscribe(Xe)})}_subscribe(He){var pe;return null===(pe=this.source)||void 0===pe?void 0:pe.subscribe(He)}[B.L](){return this}pipe(...He){return function be(ke){return 0===ke.length?de.y:1===ke.length?ke[0]:function(He){return ke.reduce((pe,De)=>De(pe),He)}}(He)(this)}toPromise(He){return new(He=$(He))((pe,De)=>{let it;this.subscribe(Xe=>it=Xe,Xe=>De(Xe),()=>pe(it))})}}return ke.create=Be=>new ke(Be),ke})();function $(ke){var Be;return null!==(Be=null!=ke?ke:J.v.Promise)&&void 0!==Be?Be:Promise}},7579:(dt,Te,L)=>{L.d(Te,{x:()=>J});var l=L(8306),ee=L(727);const de=(0,L(3888).d)(_e=>function(){_e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=L(8737),be=L(2806);let J=(()=>{class _e extends l.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const ne=new me(this,this);return ne.operator=$,ne}_throwIfClosed(){if(this.closed)throw new de}next($){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const ne=this.observers.slice();for(const Ye of ne)Ye.next($)}})}error($){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:ne}=this;for(;ne.length;)ne.shift().error($)}})}complete(){(0,be.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:ne,isStopped:Ye,observers:ke}=this;return ne||Ye?ee.Lc:(ke.push($),new ee.w0(()=>(0,oe.P)(ke,$)))}_checkFinalizedStatuses($){const{hasError:ne,thrownError:Ye,isStopped:ke}=this;ne?$.error(Ye):ke&&$.complete()}asObservable(){const $=new l.y;return $.source=this,$}}return _e.create=(q,$)=>new me(q,$),_e})();class me extends J{constructor(q,$){super(),this.destination=q,this.source=$}next(q){var $,ne;null===(ne=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===ne||ne.call($,q)}error(q){var $,ne;null===(ne=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===ne||ne.call($,q)}complete(){var q,$;null===($=null===(q=this.destination)||void 0===q?void 0:q.complete)||void 0===$||$.call(q)}_subscribe(q){var $,ne;return null!==(ne=null===($=this.source)||void 0===$?void 0:$.subscribe(q))&&void 0!==ne?ne:ee.Lc}}},930:(dt,Te,L)=>{L.d(Te,{Hp:()=>He,Lv:()=>ne});var l=L(576),ee=L(727),B=L(2416),de=L(7849),oe=L(5032);const be=_e("C",void 0,void 0);function _e(Ie,Me,xe){return{kind:Ie,value:Me,error:xe}}var q=L(3410),$=L(2806);class ne extends ee.w0{constructor(Me){super(),this.isStopped=!1,Me?(this.destination=Me,(0,ee.Nn)(Me)&&Me.add(this)):this.destination=Xe}static create(Me,xe,Ze){return new He(Me,xe,Ze)}next(Me){this.isStopped?it(function me(Ie){return _e("N",Ie,void 0)}(Me),this):this._next(Me)}error(Me){this.isStopped?it(function J(Ie){return _e("E",void 0,Ie)}(Me),this):(this.isStopped=!0,this._error(Me))}complete(){this.isStopped?it(be,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Me){this.destination.next(Me)}_error(Me){try{this.destination.error(Me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ye=Function.prototype.bind;function ke(Ie,Me){return Ye.call(Ie,Me)}class Be{constructor(Me){this.partialObserver=Me}next(Me){const{partialObserver:xe}=this;if(xe.next)try{xe.next(Me)}catch(Ze){pe(Ze)}}error(Me){const{partialObserver:xe}=this;if(xe.error)try{xe.error(Me)}catch(Ze){pe(Ze)}else pe(Me)}complete(){const{partialObserver:Me}=this;if(Me.complete)try{Me.complete()}catch(xe){pe(xe)}}}class He extends ne{constructor(Me,xe,Ze){let Ge;if(super(),(0,l.m)(Me)||!Me)Ge={next:null!=Me?Me:void 0,error:null!=xe?xe:void 0,complete:null!=Ze?Ze:void 0};else{let se;this&&B.v.useDeprecatedNextContext?(se=Object.create(Me),se.unsubscribe=()=>this.unsubscribe(),Ge={next:Me.next&&ke(Me.next,se),error:Me.error&&ke(Me.error,se),complete:Me.complete&&ke(Me.complete,se)}):Ge=Me}this.destination=new Be(Ge)}}function pe(Ie){B.v.useDeprecatedSynchronousErrorHandling?(0,$.O)(Ie):(0,de.h)(Ie)}function it(Ie,Me){const{onStoppedNotification:xe}=B.v;xe&&q.z.setTimeout(()=>xe(Ie,Me))}const Xe={closed:!0,next:oe.Z,error:function De(Ie){throw Ie},complete:oe.Z}},727:(dt,Te,L)=>{L.d(Te,{Lc:()=>be,w0:()=>oe,Nn:()=>J});var l=L(576);const B=(0,L(3888).d)(_e=>function($){_e(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((ne,Ye)=>`${Ye+1}) ${ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var de=L(8737);class oe{constructor(q){this.initialTeardown=q,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let q;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const ke of $)ke.remove(this);else $.remove(this);const{initialTeardown:ne}=this;if((0,l.m)(ne))try{ne()}catch(ke){q=ke instanceof B?ke.errors:[ke]}const{_teardowns:Ye}=this;if(Ye){this._teardowns=null;for(const ke of Ye)try{me(ke)}catch(Be){q=null!=q?q:[],Be instanceof B?q=[...q,...Be.errors]:q.push(Be)}}if(q)throw new B(q)}}add(q){var $;if(q&&q!==this)if(this.closed)me(q);else{if(q instanceof oe){if(q.closed||q._hasParent(this))return;q._addParent(this)}(this._teardowns=null!==($=this._teardowns)&&void 0!==$?$:[]).push(q)}}_hasParent(q){const{_parentage:$}=this;return $===q||Array.isArray($)&&$.includes(q)}_addParent(q){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(q),$):$?[$,q]:q}_removeParent(q){const{_parentage:$}=this;$===q?this._parentage=null:Array.isArray($)&&(0,de.P)($,q)}remove(q){const{_teardowns:$}=this;$&&(0,de.P)($,q),q instanceof oe&&q._removeParent(this)}}oe.EMPTY=(()=>{const _e=new oe;return _e.closed=!0,_e})();const be=oe.EMPTY;function J(_e){return _e instanceof oe||_e&&"closed"in _e&&(0,l.m)(_e.remove)&&(0,l.m)(_e.add)&&(0,l.m)(_e.unsubscribe)}function me(_e){(0,l.m)(_e)?_e():_e.unsubscribe()}},2416:(dt,Te,L)=>{L.d(Te,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(dt,Te,L)=>{L.d(Te,{E:()=>ee});const ee=new(L(8306).y)(oe=>oe.complete())},8996:(dt,Te,L)=>{L.d(Te,{D:()=>Me});var l=L(8421),ee=L(5363),B=L(9468),be=L(8306),me=L(2202),_e=L(576),q=L(9672);function ne(xe,Ze){if(!xe)throw new Error("Iterable cannot be null");return new be.y(Ge=>{(0,q.f)(Ge,Ze,()=>{const se=xe[Symbol.asyncIterator]();(0,q.f)(Ge,Ze,()=>{se.next().then(X=>{X.done?Ge.complete():Ge.next(X.value)})},0,!0)})})}var Ye=L(3670),ke=L(8239),Be=L(1144),He=L(6495),pe=L(2206),De=L(4532),it=L(3260);function Me(xe,Ze){return Ze?function Ie(xe,Ze){if(null!=xe){if((0,Ye.c)(xe))return function de(xe,Ze){return(0,l.Xf)(xe).pipe((0,B.R)(Ze),(0,ee.Q)(Ze))}(xe,Ze);if((0,Be.z)(xe))return function J(xe,Ze){return new be.y(Ge=>{let se=0;return Ze.schedule(function(){se===xe.length?Ge.complete():(Ge.next(xe[se++]),Ge.closed||this.schedule())})})}(xe,Ze);if((0,ke.t)(xe))return function oe(xe,Ze){return(0,l.Xf)(xe).pipe((0,B.R)(Ze),(0,ee.Q)(Ze))}(xe,Ze);if((0,pe.D)(xe))return ne(xe,Ze);if((0,He.T)(xe))return function $(xe,Ze){return new be.y(Ge=>{let se;return(0,q.f)(Ge,Ze,()=>{se=xe[me.h](),(0,q.f)(Ge,Ze,()=>{let X,ae;try{({value:X,done:ae}=se.next())}catch(ye){return void Ge.error(ye)}ae?Ge.complete():Ge.next(X)},0,!0)}),()=>(0,_e.m)(null==se?void 0:se.return)&&se.return()})}(xe,Ze);if((0,it.L)(xe))return function Xe(xe,Ze){return ne((0,it.Q)(xe),Ze)}(xe,Ze)}throw(0,De.z)(xe)}(xe,Ze):(0,l.Xf)(xe)}},8421:(dt,Te,L)=>{L.d(Te,{Xf:()=>Ye});var l=L(655),ee=L(1144),B=L(8239),de=L(8306),oe=L(3670),be=L(2206),J=L(4532),me=L(6495),_e=L(3260),q=L(576),$=L(7849),ne=L(8822);function Ye(Ie){if(Ie instanceof de.y)return Ie;if(null!=Ie){if((0,oe.c)(Ie))return function ke(Ie){return new de.y(Me=>{const xe=Ie[ne.L]();if((0,q.m)(xe.subscribe))return xe.subscribe(Me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ie);if((0,ee.z)(Ie))return function Be(Ie){return new de.y(Me=>{for(let xe=0;xe<Ie.length&&!Me.closed;xe++)Me.next(Ie[xe]);Me.complete()})}(Ie);if((0,B.t)(Ie))return function He(Ie){return new de.y(Me=>{Ie.then(xe=>{Me.closed||(Me.next(xe),Me.complete())},xe=>Me.error(xe)).then(null,$.h)})}(Ie);if((0,be.D)(Ie))return De(Ie);if((0,me.T)(Ie))return function pe(Ie){return new de.y(Me=>{for(const xe of Ie)if(Me.next(xe),Me.closed)return;Me.complete()})}(Ie);if((0,_e.L)(Ie))return function it(Ie){return De((0,_e.Q)(Ie))}(Ie)}throw(0,J.z)(Ie)}function De(Ie){return new de.y(Me=>{(function Xe(Ie,Me){var xe,Ze,Ge,se;return(0,l.mG)(this,void 0,void 0,function*(){try{for(xe=(0,l.KL)(Ie);!(Ze=yield xe.next()).done;)if(Me.next(Ze.value),Me.closed)return}catch(X){Ge={error:X}}finally{try{Ze&&!Ze.done&&(se=xe.return)&&(yield se.call(xe))}finally{if(Ge)throw Ge.error}}Me.complete()})})(Ie,Me).catch(xe=>Me.error(xe))})}},6451:(dt,Te,L)=>{L.d(Te,{T:()=>be});var l=L(8189),ee=L(8421),B=L(515),de=L(3269),oe=L(8996);function be(...J){const me=(0,de.yG)(J),_e=(0,de._6)(J,1/0),q=J;return q.length?1===q.length?(0,ee.Xf)(q[0]):(0,l.J)(_e)((0,oe.D)(q,me)):B.E}},5403:(dt,Te,L)=>{L.d(Te,{x:()=>ee});var l=L(930);function ee(de,oe,be,J,me){return new B(de,oe,be,J,me)}class B extends l.Lv{constructor(oe,be,J,me,_e,q){super(oe),this.onFinalize=_e,this.shouldUnsubscribe=q,this._next=be?function($){try{be($)}catch(ne){oe.error(ne)}}:super._next,this._error=me?function($){try{me($)}catch(ne){oe.error(ne)}finally{this.unsubscribe()}}:super._error,this._complete=J?function(){try{J()}catch($){oe.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var oe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:be}=this;super.unsubscribe(),!be&&(null===(oe=this.onFinalize)||void 0===oe||oe.call(this))}}}},4004:(dt,Te,L)=>{L.d(Te,{U:()=>B});var l=L(4482),ee=L(5403);function B(de,oe){return(0,l.e)((be,J)=>{let me=0;be.subscribe((0,ee.x)(J,_e=>{J.next(de.call(oe,_e,me++))}))})}},8189:(dt,Te,L)=>{L.d(Te,{J:()=>B});var l=L(5577),ee=L(4671);function B(de=1/0){return(0,l.z)(ee.y,de)}},5577:(dt,Te,L)=>{L.d(Te,{z:()=>me});var l=L(4004),ee=L(8421),B=L(4482),de=L(9672),oe=L(5403),J=L(576);function me(_e,q,$=1/0){return(0,J.m)(q)?me((ne,Ye)=>(0,l.U)((ke,Be)=>q(ne,ke,Ye,Be))((0,ee.Xf)(_e(ne,Ye))),$):("number"==typeof q&&($=q),(0,B.e)((ne,Ye)=>function be(_e,q,$,ne,Ye,ke,Be,He){const pe=[];let De=0,it=0,Xe=!1;const Ie=()=>{Xe&&!pe.length&&!De&&q.complete()},Me=Ze=>De<ne?xe(Ze):pe.push(Ze),xe=Ze=>{ke&&q.next(Ze),De++;let Ge=!1;(0,ee.Xf)($(Ze,it++)).subscribe((0,oe.x)(q,se=>{null==Ye||Ye(se),ke?Me(se):q.next(se)},()=>{Ge=!0},void 0,()=>{if(Ge)try{for(De--;pe.length&&De<ne;){const se=pe.shift();Be?(0,de.f)(q,Be,()=>xe(se)):xe(se)}Ie()}catch(se){q.error(se)}}))};return _e.subscribe((0,oe.x)(q,Me,()=>{Xe=!0,Ie()})),()=>{null==He||He()}}(ne,Ye,_e,$)))}},5363:(dt,Te,L)=>{L.d(Te,{Q:()=>de});var l=L(9672),ee=L(4482),B=L(5403);function de(oe,be=0){return(0,ee.e)((J,me)=>{J.subscribe((0,B.x)(me,_e=>(0,l.f)(me,oe,()=>me.next(_e),be),()=>(0,l.f)(me,oe,()=>me.complete(),be),_e=>(0,l.f)(me,oe,()=>me.error(_e),be)))})}},3099:(dt,Te,L)=>{L.d(Te,{B:()=>be});var l=L(8996),ee=L(5698),B=L(7579),de=L(930),oe=L(4482);function be(me={}){const{connector:_e=(()=>new B.x),resetOnError:q=!0,resetOnComplete:$=!0,resetOnRefCountZero:ne=!0}=me;return Ye=>{let ke=null,Be=null,He=null,pe=0,De=!1,it=!1;const Xe=()=>{null==Be||Be.unsubscribe(),Be=null},Ie=()=>{Xe(),ke=He=null,De=it=!1},Me=()=>{const xe=ke;Ie(),null==xe||xe.unsubscribe()};return(0,oe.e)((xe,Ze)=>{pe++,!it&&!De&&Xe();const Ge=He=null!=He?He:_e();Ze.add(()=>{pe--,0===pe&&!it&&!De&&(Be=J(Me,ne))}),Ge.subscribe(Ze),ke||(ke=new de.Hp({next:se=>Ge.next(se),error:se=>{it=!0,Xe(),Be=J(Ie,q,se),Ge.error(se)},complete:()=>{De=!0,Xe(),Be=J(Ie,$),Ge.complete()}}),(0,l.D)(xe).subscribe(ke))})(Ye)}}function J(me,_e,...q){return!0===_e?(me(),null):!1===_e?null:_e(...q).pipe((0,ee.q)(1)).subscribe(()=>me())}},9468:(dt,Te,L)=>{L.d(Te,{R:()=>ee});var l=L(4482);function ee(B,de=0){return(0,l.e)((oe,be)=>{be.add(B.schedule(()=>oe.subscribe(be),de))})}},5698:(dt,Te,L)=>{L.d(Te,{q:()=>de});var l=L(515),ee=L(4482),B=L(5403);function de(oe){return oe<=0?()=>l.E:(0,ee.e)((be,J)=>{let me=0;be.subscribe((0,B.x)(J,_e=>{++me<=oe&&(J.next(_e),oe<=me&&J.complete())}))})}},8505:(dt,Te,L)=>{L.d(Te,{b:()=>oe});var l=L(576),ee=L(4482),B=L(5403),de=L(4671);function oe(be,J,me){const _e=(0,l.m)(be)||J||me?{next:be,error:J,complete:me}:be;return _e?(0,ee.e)((q,$)=>{var ne;null===(ne=_e.subscribe)||void 0===ne||ne.call(_e);let Ye=!0;q.subscribe((0,B.x)($,ke=>{var Be;null===(Be=_e.next)||void 0===Be||Be.call(_e,ke),$.next(ke)},()=>{var ke;Ye=!1,null===(ke=_e.complete)||void 0===ke||ke.call(_e),$.complete()},ke=>{var Be;Ye=!1,null===(Be=_e.error)||void 0===Be||Be.call(_e,ke),$.error(ke)},()=>{var ke,Be;Ye&&(null===(ke=_e.unsubscribe)||void 0===ke||ke.call(_e)),null===(Be=_e.finalize)||void 0===Be||Be.call(_e)}))}):de.y}},4408:(dt,Te,L)=>{L.d(Te,{o:()=>oe});var l=L(727);class ee extends l.w0{constructor(J,me){super()}schedule(J,me=0){return this}}const B={setInterval(...be){const{delegate:J}=B;return((null==J?void 0:J.setInterval)||setInterval)(...be)},clearInterval(be){const{delegate:J}=B;return((null==J?void 0:J.clearInterval)||clearInterval)(be)},delegate:void 0};var de=L(8737);class oe extends ee{constructor(J,me){super(J,me),this.scheduler=J,this.work=me,this.pending=!1}schedule(J,me=0){if(this.closed)return this;this.state=J;const _e=this.id,q=this.scheduler;return null!=_e&&(this.id=this.recycleAsyncId(q,_e,me)),this.pending=!0,this.delay=me,this.id=this.id||this.requestAsyncId(q,this.id,me),this}requestAsyncId(J,me,_e=0){return B.setInterval(J.flush.bind(J,this),_e)}recycleAsyncId(J,me,_e=0){if(null!=_e&&this.delay===_e&&!1===this.pending)return me;B.clearInterval(me)}execute(J,me){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const _e=this._execute(J,me);if(_e)return _e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(J,me){let q,_e=!1;try{this.work(J)}catch($){_e=!0,q=$||new Error("Scheduled action threw falsy error")}if(_e)return this.unsubscribe(),q}unsubscribe(){if(!this.closed){const{id:J,scheduler:me}=this,{actions:_e}=me;this.work=this.state=this.scheduler=null,this.pending=!1,(0,de.P)(_e,this),null!=J&&(this.id=this.recycleAsyncId(me,J,null)),this.delay=null,super.unsubscribe()}}}},7565:(dt,Te,L)=>{L.d(Te,{v:()=>B});var l=L(6063);class ee{constructor(oe,be=ee.now){this.schedulerActionCtor=oe,this.now=be}schedule(oe,be=0,J){return new this.schedulerActionCtor(this,oe).schedule(J,be)}}ee.now=l.l.now;class B extends ee{constructor(oe,be=ee.now){super(oe,be),this.actions=[],this._active=!1,this._scheduled=void 0}flush(oe){const{actions:be}=this;if(this._active)return void be.push(oe);let J;this._active=!0;do{if(J=oe.execute(oe.state,oe.delay))break}while(oe=be.shift());if(this._active=!1,J){for(;oe=be.shift();)oe.unsubscribe();throw J}}}},4986:(dt,Te,L)=>{L.d(Te,{z:()=>B,P:()=>de});var l=L(4408);const B=new(L(7565).v)(l.o),de=B},6063:(dt,Te,L)=>{L.d(Te,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(dt,Te,L)=>{L.d(Te,{z:()=>l});const l={setTimeout(...ee){const{delegate:B}=l;return((null==B?void 0:B.setTimeout)||setTimeout)(...ee)},clearTimeout(ee){const{delegate:B}=l;return((null==B?void 0:B.clearTimeout)||clearTimeout)(ee)},delegate:void 0}},2202:(dt,Te,L)=>{L.d(Te,{h:()=>ee});const ee=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(dt,Te,L)=>{L.d(Te,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(dt,Te,L)=>{L.d(Te,{jO:()=>de,yG:()=>oe,_6:()=>be});var l=L(576),ee=L(3532);function B(J){return J[J.length-1]}function de(J){return(0,l.m)(B(J))?J.pop():void 0}function oe(J){return(0,ee.K)(B(J))?J.pop():void 0}function be(J,me){return"number"==typeof B(J)?J.pop():me}},8737:(dt,Te,L)=>{function l(ee,B){if(ee){const de=ee.indexOf(B);0<=de&&ee.splice(de,1)}}L.d(Te,{P:()=>l})},3888:(dt,Te,L)=>{function l(ee){const de=ee(oe=>{Error.call(oe),oe.stack=(new Error).stack});return de.prototype=Object.create(Error.prototype),de.prototype.constructor=de,de}L.d(Te,{d:()=>l})},2806:(dt,Te,L)=>{L.d(Te,{x:()=>B,O:()=>de});var l=L(2416);let ee=null;function B(oe){if(l.v.useDeprecatedSynchronousErrorHandling){const be=!ee;if(be&&(ee={errorThrown:!1,error:null}),oe(),be){const{errorThrown:J,error:me}=ee;if(ee=null,J)throw me}}else oe()}function de(oe){l.v.useDeprecatedSynchronousErrorHandling&&ee&&(ee.errorThrown=!0,ee.error=oe)}},9672:(dt,Te,L)=>{function l(ee,B,de,oe=0,be=!1){const J=B.schedule(function(){de(),be?ee.add(this.schedule(null,oe)):this.unsubscribe()},oe);if(ee.add(J),!be)return J}L.d(Te,{f:()=>l})},4671:(dt,Te,L)=>{function l(ee){return ee}L.d(Te,{y:()=>l})},1144:(dt,Te,L)=>{L.d(Te,{z:()=>l});const l=ee=>ee&&"number"==typeof ee.length&&"function"!=typeof ee},2206:(dt,Te,L)=>{L.d(Te,{D:()=>ee});var l=L(576);function ee(B){return Symbol.asyncIterator&&(0,l.m)(null==B?void 0:B[Symbol.asyncIterator])}},576:(dt,Te,L)=>{function l(ee){return"function"==typeof ee}L.d(Te,{m:()=>l})},3670:(dt,Te,L)=>{L.d(Te,{c:()=>B});var l=L(8822),ee=L(576);function B(de){return(0,ee.m)(de[l.L])}},6495:(dt,Te,L)=>{L.d(Te,{T:()=>B});var l=L(2202),ee=L(576);function B(de){return(0,ee.m)(null==de?void 0:de[l.h])}},8239:(dt,Te,L)=>{L.d(Te,{t:()=>ee});var l=L(576);function ee(B){return(0,l.m)(null==B?void 0:B.then)}},3260:(dt,Te,L)=>{L.d(Te,{Q:()=>B,L:()=>de});var l=L(655),ee=L(576);function B(oe){return(0,l.FC)(this,arguments,function*(){const J=oe.getReader();try{for(;;){const{value:me,done:_e}=yield(0,l.qq)(J.read());if(_e)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(me)}}finally{J.releaseLock()}})}function de(oe){return(0,ee.m)(null==oe?void 0:oe.getReader)}},3532:(dt,Te,L)=>{L.d(Te,{K:()=>ee});var l=L(576);function ee(B){return B&&(0,l.m)(B.schedule)}},4482:(dt,Te,L)=>{L.d(Te,{A:()=>ee,e:()=>B});var l=L(576);function ee(de){return(0,l.m)(null==de?void 0:de.lift)}function B(de){return oe=>{if(ee(oe))return oe.lift(function(be){try{return de(be,this)}catch(J){this.error(J)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(dt,Te,L)=>{function l(){}L.d(Te,{Z:()=>l})},7849:(dt,Te,L)=>{L.d(Te,{h:()=>B});var l=L(2416),ee=L(3410);function B(de){ee.z.setTimeout(()=>{const{onUnhandledError:oe}=l.v;if(!oe)throw de;oe(de)})}},4532:(dt,Te,L)=>{function l(ee){return new TypeError(`You provided ${null!==ee&&"object"==typeof ee?"an invalid object":`'${ee}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(Te,{z:()=>l})},655:(dt,Te,L)=>{function de(X,ae){var ye={};for(var le in X)Object.prototype.hasOwnProperty.call(X,le)&&ae.indexOf(le)<0&&(ye[le]=X[le]);if(null!=X&&"function"==typeof Object.getOwnPropertySymbols){var Fe=0;for(le=Object.getOwnPropertySymbols(X);Fe<le.length;Fe++)ae.indexOf(le[Fe])<0&&Object.prototype.propertyIsEnumerable.call(X,le[Fe])&&(ye[le[Fe]]=X[le[Fe]])}return ye}function me(X,ae,ye,le){return new(ye||(ye=Promise))(function(ue,At){function ln(Et){try{ht(le.next(Et))}catch(Cn){At(Cn)}}function Xn(Et){try{ht(le.throw(Et))}catch(Cn){At(Cn)}}function ht(Et){Et.done?ue(Et.value):function Fe(ue){return ue instanceof ye?ue:new ye(function(At){At(ue)})}(Et.value).then(ln,Xn)}ht((le=le.apply(X,ae||[])).next())})}function pe(X){return this instanceof pe?(this.v=X,this):new pe(X)}function De(X,ae,ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Fe,le=ye.apply(X,ae||[]),ue=[];return Fe={},At("next"),At("throw"),At("return"),Fe[Symbol.asyncIterator]=function(){return this},Fe;function At(wn){le[wn]&&(Fe[wn]=function(fo){return new Promise(function(fn,Oo){ue.push([wn,fo,fn,Oo])>1||ln(wn,fo)})})}function ln(wn,fo){try{!function Xn(wn){wn.value instanceof pe?Promise.resolve(wn.value.v).then(ht,Et):Cn(ue[0][2],wn)}(le[wn](fo))}catch(fn){Cn(ue[0][3],fn)}}function ht(wn){ln("next",wn)}function Et(wn){ln("throw",wn)}function Cn(wn,fo){wn(fo),ue.shift(),ue.length&&ln(ue[0][0],ue[0][1])}}function Xe(X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ye,ae=X[Symbol.asyncIterator];return ae?ae.call(X):(X=function ne(X){var ae="function"==typeof Symbol&&Symbol.iterator,ye=ae&&X[ae],le=0;if(ye)return ye.call(X);if(X&&"number"==typeof X.length)return{next:function(){return X&&le>=X.length&&(X=void 0),{value:X&&X[le++],done:!X}}};throw new TypeError(ae?"Object is not iterable.":"Symbol.iterator is not defined.")}(X),ye={},le("next"),le("throw"),le("return"),ye[Symbol.asyncIterator]=function(){return this},ye);function le(ue){ye[ue]=X[ue]&&function(At){return new Promise(function(ln,Xn){!function Fe(ue,At,ln,Xn){Promise.resolve(Xn).then(function(ht){ue({value:ht,done:ln})},At)}(ln,Xn,(At=X[ue](At)).done,At.value)})}}}L.d(Te,{_T:()=>de,mG:()=>me,qq:()=>pe,FC:()=>De,KL:()=>Xe})},5e3:(dt,Te,L)=>{L.d(Te,{deG:()=>hp,tb:()=>TD,AFp:()=>bf,ip1:()=>Sv,CZH:()=>Ja,hGG:()=>YD,z2F:()=>wf,sBO:()=>$i,Sil:()=>CC,_Vd:()=>df,EJc:()=>yC,SBq:()=>hd,qLn:()=>zi,vpe:()=>Qa,tBr:()=>to,XFs:()=>Ct,OlP:()=>Wn,zs3:()=>js,ZZ4:()=>ki,aQg:()=>ri,soG:()=>Og,YKP:()=>yg,h0i:()=>ff,PXZ:()=>Rv,R0b:()=>Wo,FiY:()=>ji,Lbi:()=>SD,g9A:()=>DD,n_E:()=>Cg,Qsj:()=>jE,FYo:()=>fd,JOm:()=>ce,q3G:()=>ii,tp0:()=>Ho,Rgc:()=>pf,dDg:()=>kv,q4F:()=>gg,GfV:()=>Z0,s_b:()=>Ul,ifc:()=>Yt,eFA:()=>IC,G48:()=>Wc,Gpc:()=>$,f3M:()=>Jt,X6Q:()=>Mf,_c5:()=>zl,VLi:()=>AD,c2e:()=>vC,zSh:()=>Nb,wAp:()=>Tt,vHH:()=>Be,EiD:()=>Zu,mCW:()=>Ga,qzn:()=>Us,JVY:()=>zm,pB0:()=>Gm,eBb:()=>$y,L6k:()=>bh,LAX:()=>Ch,cg1:()=>I0,kL8:()=>O0,yhl:()=>Gu,dqk:()=>Kt,sIi:()=>Vc,CqO:()=>U_,QGY:()=>n0,F4k:()=>r0,RDi:()=>ns,AaK:()=>me,z3N:()=>no,qOj:()=>Bc,TTD:()=>ia,_Bn:()=>G0,xp6:()=>ub,uIk:()=>$b,ekj:()=>m0,Suo:()=>aC,Xpm:()=>jt,lG2:()=>on,Yz7:()=>fn,cJS:()=>cn,oAB:()=>te,Yjl:()=>Yi,Y36:()=>eg,_UZ:()=>B_,GkF:()=>t0,BQk:()=>tg,ynx:()=>V_,qZA:()=>L_,TgZ:()=>N_,EpF:()=>Qx,n5z:()=>Si,Ikx:()=>Q_,LFG:()=>at,$8M:()=>Cc,$Z:()=>Kx,NdJ:()=>H_,CRH:()=>sD,kcU:()=>Ny,O4$:()=>rh,oxw:()=>eE,ALo:()=>hv,lcZ:()=>eD,xi3:()=>fv,Hsn:()=>tE,F$t:()=>s0,Q6J:()=>ls,DdM:()=>Q0,VKq:()=>uv,iGM:()=>Sg,MAs:()=>Kb,CHM:()=>hu,LSH:()=>Ic,Udp:()=>g0,WFA:()=>o0,d8E:()=>og,YNc:()=>Ax,_uU:()=>b0,Oqu:()=>C0,hij:()=>q_,lnq:()=>cs,Gf:()=>mf});var l=L(7579),ee=L(727),B=L(8306),de=L(6451),oe=L(3099);function be(s){for(let a in s)if(s[a]===be)return a;throw Error("Could not find renamed property on target object.")}function J(s,a){for(const u in a)a.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=a[u])}function me(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(me).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const u=a.indexOf("\n");return-1===u?a:a.substring(0,u)}function _e(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const q=be({__forward_ref__:be});function $(s){return s.__forward_ref__=$,s.toString=function(){return me(this())},s}function ne(s){return Ye(s)?s():s}function Ye(s){return"function"==typeof s&&s.hasOwnProperty(q)&&s.__forward_ref__===$}class Be extends Error{constructor(a,u){super(function He(s,a){return`NG0${Math.abs(s)}${a?": "+a:""}`}(a,u)),this.code=a}}function pe(s){return"string"==typeof s?s:null==s?"":String(s)}function De(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():pe(s)}function Me(s,a){const u=a?` in ${a}`:"";throw new Be(-201,`No provider for ${De(s)} found${u}`)}function ht(s,a){null==s&&function Et(s,a,u,h){throw new Error(`ASSERTION ERROR: ${s}`+(null==h?"":` [Expected=> ${u} ${h} ${a} <=Actual]`))}(a,s,null,"!=")}function fn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function cn(s){return{providers:s.providers||[],imports:s.imports||[]}}function Zt(s){return Ri(s,ko)||Ri(s,Yo)}function Ri(s,a){return s.hasOwnProperty(a)?s[a]:null}function cr(s){return s&&(s.hasOwnProperty(ur)||s.hasOwnProperty(Ao))?s[ur]:null}const ko=be({\u0275prov:be}),ur=be({\u0275inj:be}),Yo=be({ngInjectableDef:be}),Ao=be({ngInjectorDef:be});var Ct=(()=>((Ct=Ct||{})[Ct.Default=0]="Default",Ct[Ct.Host=1]="Host",Ct[Ct.Self=2]="Self",Ct[Ct.SkipSelf=4]="SkipSelf",Ct[Ct.Optional=8]="Optional",Ct))();let Pr;function _i(s){const a=Pr;return Pr=s,a}function Zr(s,a,u){const h=Zt(s);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:u&Ct.Optional?null:void 0!==a?a:void Me(me(s),"Injector")}function An(s){return{toString:s}.toString()}var Ei=(()=>((Ei=Ei||{})[Ei.OnPush=0]="OnPush",Ei[Ei.Default=1]="Default",Ei))(),Yt=(()=>{return(s=Yt||(Yt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Yt;var s})();const ct="undefined"!=typeof globalThis&&globalThis,It="undefined"!=typeof window&&window,Fi="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Kt=ct||"undefined"!=typeof global&&global||It||Fi,Ni={},_t=[],Zi=be({\u0275cmp:be}),Gt=be({\u0275dir:be}),Je=be({\u0275pipe:be}),Oe=be({\u0275mod:be}),tt=be({\u0275fac:be}),vt=be({__NG_ELEMENT_ID__:be});let Wt=0;function jt(s){return An(()=>{const u={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Ei.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||_t,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Yt.Emulated,id:"c",styles:s.styles||_t,_:null,setInput:null,schemas:s.schemas||null,tView:null},f=s.directives,m=s.features,b=s.pipes;return h.id+=Wt++,h.inputs=Dt(s.inputs,u),h.outputs=Dt(s.outputs),m&&m.forEach(w=>w(h)),h.directiveDefs=f?()=>("function"==typeof f?f():f).map(j):null,h.pipeDefs=b?()=>("function"==typeof b?b():b).map(W):null,h})}function j(s){return Xt(s)||function Gn(s){return s[Gt]||null}(s)}function W(s){return function Vt(s){return s[Je]||null}(s)}const fe={};function te(s){return An(()=>{const a={type:s.type,bootstrap:s.bootstrap||_t,declarations:s.declarations||_t,imports:s.imports||_t,exports:s.exports||_t,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(fe[s.id]=s.type),a})}function Dt(s,a){if(null==s)return Ni;const u={};for(const h in s)if(s.hasOwnProperty(h)){let f=s[h],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),u[f]=h,a&&(a[f]=m)}return u}const on=jt;function Yi(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function Xt(s){return s[Zi]||null}function Sn(s,a){const u=s[Oe]||null;if(!u&&!0===a)throw new Error(`Type ${me(s)} does not have '\u0275mod' property.`);return u}function Kr(s){return Array.isArray(s)&&"object"==typeof s[1]}function Rr(s){return Array.isArray(s)&&!0===s[1]}function Gd(s){return 0!=(8&s.flags)}function Cs(s){return 2==(2&s.flags)}function nc(s){return 1==(1&s.flags)}function Fr(s){return null!==s.template}function $d(s){return 0!=(512&s[2])}function Nr(s,a){return s.hasOwnProperty(tt)?s[tt]:null}class Ia{constructor(a,u,h){this.previousValue=a,this.currentValue=u,this.firstChange=h}isFirstChange(){return this.firstChange}}function ia(){return _l}function _l(s){return s.type.prototype.ngOnChanges&&(s.setInput=Fm),Kd}function Kd(){const s=Ms(this),a=null==s?void 0:s.current;if(a){const u=s.previous;if(u===Ni)s.previous=a;else for(let h in a)u[h]=a[h];s.current=null,this.ngOnChanges(a)}}function Fm(s,a,u,h){const f=Ms(s)||function Qr(s,a){return s[Nn]=a}(s,{previous:Ni,current:null}),m=f.current||(f.current={}),b=f.previous,w=this.declaredInputs[u],x=b[w];m[w]=new Ia(x&&x.currentValue,a,b===Ni),s[h]=a}ia.ngInherit=!0;const Nn="__ngSimpleChanges__";function Ms(s){return s[Nn]||null}let cc;function ns(s){cc=s}function In(s){return!!s.listen}const Oa={createRenderer:(s,a)=>function vl(){return void 0!==cc?cc:"undefined"!=typeof document?document:void 0}()};function _n(s){for(;Array.isArray(s);)s=s[0];return s}function oa(s,a){return _n(a[s])}function Qi(s,a){return _n(a[s.index])}function yl(s,a){return s.data[a]}function po(s,a){return s[a]}function Xi(s,a){const u=a[s];return Kr(u)?u:u[0]}function Es(s){return 4==(4&s[2])}function is(s){return 128==(128&s[2])}function Lr(s,a){return null==a?null:s[a]}function Ds(s){s[18]=0}function Ss(s,a){s[5]+=a;let u=s,h=s[3];for(;null!==h&&(1===a&&1===u[5]||-1===a&&0===u[5]);)h[5]+=a,u=h,h=h[3]}const yt={lFrame:aa(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function pc(){return yt.bindingsEnabled}function Se(){return yt.lFrame.lView}function zt(){return yt.lFrame.tView}function hu(s){return yt.lFrame.contextLView=s,s[8]}function Ln(){let s=ka();for(;null!==s&&64===s.type;)s=s.parent;return s}function ka(){return yt.lFrame.currentTNode}function Br(s,a){const u=yt.lFrame;u.currentTNode=s,u.isParent=a}function fu(){return yt.lFrame.isParent}function pu(){yt.lFrame.isParent=!1}function gc(){return yt.isInCheckNoChangesMode}function Ts(s){yt.isInCheckNoChangesMode=s}function Vi(){const s=yt.lFrame;let a=s.bindingRootIndex;return-1===a&&(a=s.bindingRootIndex=s.tView.bindingStartIndex),a}function Is(){return yt.lFrame.bindingIndex++}function go(s){const a=yt.lFrame,u=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,u}function vc(s,a){const u=yt.lFrame;u.bindingIndex=u.bindingRootIndex=s,Cl(a)}function Cl(s){yt.lFrame.currentDirectiveIndex=s}function Pa(s){const a=yt.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}function vu(){return yt.lFrame.currentQueryIndex}function yu(s){yt.lFrame.currentQueryIndex=s}function eh(s){const a=s[1];return 2===a.type?a.declTNode:1===a.type?s[6]:null}function bu(s,a,u){if(u&Ct.SkipSelf){let f=a,m=s;for(;!(f=f.parent,null!==f||u&Ct.Host||(f=eh(m),null===f||(m=m[15],10&f.type))););if(null===f)return!1;a=f,s=m}const h=yt.lFrame=th();return h.currentTNode=a,h.lView=s,!0}function sa(s){const a=th(),u=s[1];yt.lFrame=a,a.currentTNode=u.firstChild,a.lView=s,a.tView=u,a.contextLView=s,a.bindingIndex=u.bindingStartIndex,a.inI18n=!1}function th(){const s=yt.lFrame,a=null===s?null:s.child;return null===a?aa(s):a}function aa(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function nh(){const s=yt.lFrame;return yt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const ih=nh;function la(){const s=nh();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Ji(){return yt.lFrame.selectedIndex}function ks(s){yt.lFrame.selectedIndex=s}function $n(){const s=yt.lFrame;return yl(s.tView,s.selectedIndex)}function rh(){yt.lFrame.currentNamespace="svg"}function Ny(){!function wu(){yt.lFrame.currentNamespace=null}()}function rs(s,a){for(let u=a.directiveStart,h=a.directiveEnd;u<h;u++){const m=s.data[u].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:w,ngAfterViewInit:x,ngAfterViewChecked:T,ngOnDestroy:k}=m;b&&(s.contentHooks||(s.contentHooks=[])).push(-u,b),w&&((s.contentHooks||(s.contentHooks=[])).push(u,w),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(u,w)),x&&(s.viewHooks||(s.viewHooks=[])).push(-u,x),T&&((s.viewHooks||(s.viewHooks=[])).push(u,T),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(u,T)),null!=k&&(s.destroyHooks||(s.destroyHooks=[])).push(u,k)}}function wl(s,a,u){oh(s,a,3,u)}function yc(s,a,u,h){(3&s[2])===u&&oh(s,a,u,h)}function ui(s,a){let u=s[2];(3&u)===a&&(u&=2047,u+=1,s[2]=u)}function oh(s,a,u,h){const m=null!=h?h:-1,b=a.length-1;let w=0;for(let x=void 0!==h?65535&s[18]:0;x<b;x++)if("number"==typeof a[x+1]){if(w=a[x],null!=h&&w>=h)break}else a[x]<0&&(s[18]+=65536),(w<m||-1==m)&&(Nm(s,u,a,x),s[18]=(4294901760&s[18])+x+2),x++}function Nm(s,a,u,h){const f=u[h]<0,m=u[h+1],w=s[f?-u[h]:u[h]];if(f){if(s[2]>>11<s[18]>>16&&(3&s[2])===a){s[2]+=2048;try{m.call(w)}finally{}}}else try{m.call(w)}finally{}}class Ra{constructor(a,u,h){this.factory=a,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=h}}function et(s,a,u){const h=In(s);let f=0;for(;f<u.length;){const m=u[f];if("number"==typeof m){if(0!==m)break;f++;const b=u[f++],w=u[f++],x=u[f++];h?s.setAttribute(a,w,x,b):a.setAttributeNS(b,w,x)}else{const b=m,w=u[++f];Ui(b)?h&&s.setProperty(a,b,w):h?s.setAttribute(a,b,w):a.setAttribute(b,w),f++}}return f}function ft(s){return 3===s||4===s||6===s}function Ui(s){return 64===s.charCodeAt(0)}function Rn(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let u=-1;for(let h=0;h<a.length;h++){const f=a[h];"number"==typeof f?u=f:0===u||Fa(s,u,f,null,-1===u||2===u?a[++h]:null)}}return s}function Fa(s,a,u,h,f){let m=0,b=s.length;if(-1===a)b=-1;else for(;m<s.length;){const w=s[m++];if("number"==typeof w){if(w===a){b=-1;break}if(w>a){b=m-1;break}}}for(;m<s.length;){const w=s[m];if("number"==typeof w)break;if(w===u){if(null===h)return void(null!==f&&(s[m+1]=f));if(h===s[m+1])return void(s[m+2]=f)}m++,null!==h&&m++,null!==f&&m++}-1!==b&&(s.splice(b,0,a),m=b+1),s.splice(m++,0,u),null!==h&&s.splice(m++,0,h),null!==f&&s.splice(m++,0,f)}function lh(s){return-1!==s}function On(s){return 32767&s}function mo(s,a){let u=function up(s){return s>>16}(s),h=a;for(;u>0;)h=h[15],u--;return h}let bc=!0;function Vr(s){const a=bc;return bc=s,a}let Su=0;function Mn(s,a){const u=Na(s,a);if(-1!==u)return u;const h=a[1];h.firstCreatePass&&(s.injectorIndex=a.length,ss(h.data,s),ss(a,null),ss(h.blueprint,null));const f=Jr(s,a),m=s.injectorIndex;if(lh(f)){const b=On(f),w=mo(f,a),x=w[1].data;for(let T=0;T<8;T++)a[m+T]=w[b+T]|x[b+T]}return a[m+8]=f,m}function ss(s,a){s.push(0,0,0,0,0,0,0,0,a)}function Na(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function Jr(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,h=null,f=a;for(;null!==f;){const m=f[1],b=m.type;if(h=2===b?m.declTNode:1===b?f[6]:null,null===h)return-1;if(u++,f=f[15],-1!==h.injectorIndex)return h.injectorIndex|u<<16}return-1}function As(s,a,u){!function ca(s,a,u){let h;"string"==typeof u?h=u.charCodeAt(0)||0:u.hasOwnProperty(vt)&&(h=u[vt]),null==h&&(h=u[vt]=Su++);const f=255&h;a.data[s+(f>>5)]|=1<<f}(s,a,u)}function No(s,a,u){if(u&Ct.Optional)return s;Me(a,"NodeInjector")}function La(s,a,u,h){if(u&Ct.Optional&&void 0===h&&(h=null),0==(u&(Ct.Self|Ct.Host))){const f=s[9],m=_i(void 0);try{return f?f.get(a,h,u&Ct.Optional):Zr(a,h,u&Ct.Optional)}finally{_i(m)}}return No(h,a,u)}function Ml(s,a,u,h=Ct.Default,f){if(null!==s){const m=function di(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(vt)?s[vt]:void 0;return"number"==typeof a?a>=0?255&a:Bo:a}(u);if("function"==typeof m){if(!bu(a,s,h))return h&Ct.Host?No(f,u,h):La(a,u,h,f);try{const b=m(h);if(null!=b||h&Ct.Optional)return b;Me(u)}finally{ih()}}else if("number"==typeof m){let b=null,w=Na(s,a),x=-1,T=h&Ct.Host?a[16][6]:null;for((-1===w||h&Ct.SkipSelf)&&(x=-1===w?Jr(s,a):a[w+8],-1!==x&&uh(h,!1)?(b=a[1],w=On(x),a=mo(x,a)):w=-1);-1!==w;){const k=a[1];if(xl(m,w,k.data)){const U=Iu(w,a,u,b,h,T);if(U!==Lo)return U}x=a[w+8],-1!==x&&uh(h,a[1].data[w+8]===T)&&xl(m,w,a)?(b=k,w=On(x),a=mo(x,a)):w=-1}}}return La(a,u,h,f)}const Lo={};function Bo(){return new un(Ln(),Se())}function Iu(s,a,u,h,f,m){const b=a[1],w=b.data[s+8],k=Ps(w,b,u,null==h?Cs(w)&&bc:h!=b&&0!=(3&w.type),f&Ct.Host&&m===w);return null!==k?zn(a,b,k,w):Lo}function Ps(s,a,u,h,f){const m=s.providerIndexes,b=a.data,w=1048575&m,x=s.directiveStart,k=m>>20,z=f?w+k:s.directiveEnd;for(let Q=h?w:w+k;Q<z;Q++){const we=b[Q];if(Q<x&&u===we||Q>=x&&we.type===u)return Q}if(f){const Q=b[x];if(Q&&Fr(Q)&&Q.type===u)return x}return null}function zn(s,a,u,h){let f=s[u];const m=a.data;if(function sh(s){return s instanceof Ra}(f)){const b=f;b.resolving&&function it(s,a){const u=a?`. Dependency path: ${a.join(" > ")} > ${s}`:"";throw new Be(-200,`Circular dependency in DI detected for ${s}${u}`)}(De(m[u]));const w=Vr(b.canSeeViewProviders);b.resolving=!0;const x=b.injectImpl?_i(b.injectImpl):null;bu(s,h,Ct.Default);try{f=s[u]=b.factory(void 0,m,s,h),a.firstCreatePass&&u>=h.directiveStart&&function Mu(s,a,u){const{ngOnChanges:h,ngOnInit:f,ngDoCheck:m}=a.type.prototype;if(h){const b=_l(a);(u.preOrderHooks||(u.preOrderHooks=[])).push(s,b),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,b)}f&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-s,f),m&&((u.preOrderHooks||(u.preOrderHooks=[])).push(s,m),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,m))}(u,m[u],a)}finally{null!==x&&_i(x),Vr(w),b.resolving=!1,ih()}}return f}function xl(s,a,u){return!!(u[a+(s>>5)]&1<<s)}function uh(s,a){return!(s&Ct.Self||s&Ct.Host&&a)}class un{constructor(a,u){this._tNode=a,this._lView=u}get(a,u,h){return Ml(this._tNode,this._lView,a,h,u)}}function Si(s){return An(()=>{const a=s.prototype.constructor,u=a[tt]||fr(a),h=Object.prototype;let f=Object.getPrototypeOf(s.prototype).constructor;for(;f&&f!==h;){const m=f[tt]||fr(f);if(m&&m!==u)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function fr(s){return Ye(s)?()=>{const a=fr(ne(s));return a&&a()}:Nr(s)}function Cc(s){return function Tu(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const u=s.attrs;if(u){const h=u.length;let f=0;for(;f<h;){const m=u[f];if(ft(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<h&&"string"==typeof u[f];)f++;else{if(m===a)return u[f+1];f+=2}}}return null}(Ln(),s)}const Fn="__parameters__";function _o(s,a,u){return An(()=>{const h=function gr(s){return function(...u){if(s){const h=s(...u);for(const f in h)this[f]=h[f]}}}(a);function f(...m){if(this instanceof f)return h.apply(this,m),this;const b=new f(...m);return w.annotation=b,w;function w(x,T,k){const U=x.hasOwnProperty(Fn)?x[Fn]:Object.defineProperty(x,Fn,{value:[]})[Fn];for(;U.length<=k;)U.push(null);return(U[k]=U[k]||[]).push(b),x}}return u&&(f.prototype=Object.create(u.prototype)),f.prototype.ngMetadataName=s,f.annotationCls=f,f})}class Wn{constructor(a,u){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=fn({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const hp=new Wn("AnalyzeForEntryComponents");function Hi(s,a){void 0===a&&(a=s);for(let u=0;u<s.length;u++){let h=s[u];Array.isArray(h)?(a===s&&(a=s.slice(0,u)),Hi(h,a)):a!==s&&a.push(h)}return a}function Ur(s,a){s.forEach(u=>Array.isArray(u)?Ur(u,a):a(u))}function Pu(s,a,u){a>=s.length?s.push(u):s.splice(a,0,u)}function Fs(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function yo(s,a){const u=[];for(let h=0;h<s;h++)u.push(a);return u}function mr(s,a,u){let h=Ha(s,a);return h>=0?s[1|h]=u:(h=~h,function wc(s,a,u,h){let f=s.length;if(f==a)s.push(u,h);else if(1===f)s.push(h,s[0]),s[0]=u;else{for(f--,s.push(s[f-1],s[f]);f>a;)s[f]=s[f-2],f--;s[a]=u,s[a+1]=h}}(s,h,a,u)),h}function Mc(s,a){const u=Ha(s,a);if(u>=0)return s[1|u]}function Ha(s,a){return function ua(s,a,u){let h=0,f=s.length>>u;for(;f!==h;){const m=h+(f-h>>1),b=s[m<<u];if(a===b)return m<<u;b>a?f=m:h=m+1}return~(f<<u)}(s,a,1)}const Ls={},ja="__NG_DI_FLAG__",Nu="ngTempTokenPath",S=/\n/gm,H="__source",K=be({provide:String,useValue:be});let ie;function ge(s){const a=ie;return ie=s,a}function Ke(s,a=Ct.Default){if(void 0===ie)throw new Be(203,"");return null===ie?Zr(s,void 0,a):ie.get(s,a&Ct.Optional?null:void 0,a)}function at(s,a=Ct.Default){return(function xi(){return Pr}()||Ke)(ne(s),a)}const Jt=at;function Pt(s){const a=[];for(let u=0;u<s.length;u++){const h=ne(s[u]);if(Array.isArray(h)){if(0===h.length)throw new Be(900,"");let f,m=Ct.Default;for(let b=0;b<h.length;b++){const w=h[b],x=ni(w);"number"==typeof x?-1===x?f=w.token:m|=x:f=w}a.push(at(f,m))}else a.push(at(h))}return a}function fi(s,a){return s[ja]=a,s.prototype[ja]=a,s}function ni(s){return s[ja]}const to=fi(_o("Inject",s=>({token:s})),-1),ji=fi(_o("Optional"),8),Ho=fi(_o("SkipSelf"),4);let Hu;function Sc(s){var a;return(null===(a=function mh(){if(void 0===Hu&&(Hu=null,Kt.trustedTypes))try{Hu=Kt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Hu}())||void 0===a?void 0:a.createHTML(s))||s}class ha{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class jy extends ha{getTypeName(){return"HTML"}}class zu extends ha{getTypeName(){return"Style"}}class zy extends ha{getTypeName(){return"Script"}}class _p extends ha{getTypeName(){return"URL"}}class Gy extends ha{getTypeName(){return"ResourceURL"}}function no(s){return s instanceof ha?s.changingThisBreaksApplicationSecurity:s}function Us(s,a){const u=Gu(s);if(null!=u&&u!==a){if("ResourceURL"===u&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===a}function Gu(s){return s instanceof ha&&s.getTypeName()||null}function zm(s){return new jy(s)}function bh(s){return new zu(s)}function $y(s){return new zy(s)}function Ch(s){return new _p(s)}function Gm(s){return new Gy(s)}class qy{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const u=(new window.DOMParser).parseFromString(Sc(a),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(a):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class qm{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const h=this.inertDocument.createElement("body");u.appendChild(h)}}getInertBodyElement(a){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Sc(a),u;const h=this.inertDocument.createElement("body");return h.innerHTML=Sc(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(a){const u=a.attributes;for(let f=u.length-1;0<f;f--){const b=u.item(f).name;("xmlns:ns1"===b||0===b.indexOf("ns1:"))&&a.removeAttribute(b)}let h=a.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const Tl=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Wy=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ga(s){return(s=String(s)).match(Tl)||s.match(Wy)?s:"unsafe:"+s}function jo(s){const a={};for(const u of s.split(","))a[u]=!0;return a}function $u(...s){const a={};for(const u of s)for(const h in u)u.hasOwnProperty(h)&&(a[h]=!0);return a}const Zm=jo("area,br,col,hr,img,wbr"),Tc=jo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),fa=jo("rp,rt"),bp=$u(Zm,$u(Tc,jo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),$u(fa,jo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$u(fa,Tc)),Cp=jo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),wp=jo("srcset"),Mh=$u(Cp,wp,jo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),jo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Wu=jo("script,style,template");class Mp{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let u=a.firstChild,h=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?h=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,h&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let f=this.checkClobberedElement(u,u.nextSibling);if(f){u=f;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(a){const u=a.nodeName.toLowerCase();if(!bp.hasOwnProperty(u))return this.sanitizedSomething=!0,!Wu.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const h=a.attributes;for(let f=0;f<h.length;f++){const m=h.item(f),b=m.name,w=b.toLowerCase();if(!Mh.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let x=m.value;Cp[w]&&(x=Ga(x)),wp[w]&&(s=x,x=(s=String(s)).split(",").map(a=>Ga(a.trim())).join(", ")),this.buf.push(" ",b,'="',Ep(x),'"')}var s;return this.buf.push(">"),!0}endElement(a){const u=a.nodeName.toLowerCase();bp.hasOwnProperty(u)&&!Zm.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(a){this.buf.push(Ep(a))}checkClobberedElement(a,u){if(u&&(a.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return u}}const xp=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,xh=/([^\#-~ |!])/g;function Ep(s){return s.replace(/&/g,"&amp;").replace(xp,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(xh,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Eh;function Zu(s,a){let u=null;try{Eh=Eh||function $m(s){const a=new qm(s);return function vp(){try{return!!(new window.DOMParser).parseFromString(Sc(""),"text/html")}catch(s){return!1}}()?new qy(a):a}(s);let h=a?String(a):"";u=Eh.getInertBodyElement(h);let f=5,m=h;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,h=m,m=u.innerHTML,u=Eh.getInertBodyElement(h)}while(h!==m);return Sc((new Mp).sanitizeChildren(Yu(u)||u))}finally{if(u){const h=Yu(u)||u;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function Yu(s){return"content"in s&&function zo(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var ii=(()=>((ii=ii||{})[ii.NONE=0]="NONE",ii[ii.HTML=1]="HTML",ii[ii.STYLE=2]="STYLE",ii[ii.SCRIPT=3]="SCRIPT",ii[ii.URL=4]="URL",ii[ii.RESOURCE_URL=5]="RESOURCE_URL",ii))();function Ic(s){const a=function Oc(){const s=Se();return s&&s[12]}();return a?a.sanitize(ii.URL,s)||"":Us(s,"URL")?no(s):Ga(pe(s))}const Sp="__ngContext__";function _r(s,a){s[Sp]=a}function Tp(s){const a=function Il(s){return s[Sp]||null}(s);return a?Array.isArray(a)?a:a.lView:null}function Op(s){return s.ngOriginalError}function Jm(s,...a){s.error(...a)}class zi{constructor(){this._console=console}handleError(a){const u=this._findOriginalError(a),h=function Qy(s){return s&&s.ngErrorLogger||Jm}(a);h(this._console,"ERROR",a),u&&h(this._console,"ORIGINAL ERROR",u)}_findOriginalError(a){let u=a&&Op(a);for(;u&&Op(u);)u=Op(u);return u||null}}const t_=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Kt))();function _(s){return s instanceof Function?s():s}var ce=(()=>((ce=ce||{})[ce.Important=1]="Important",ce[ce.DashCase=2]="DashCase",ce))();function rt(s,a){return undefined(s,a)}function Yn(s){const a=s[3];return Rr(a)?a[3]:a}function nd(s){return Rp(s[13])}function id(s){return Rp(s[4])}function Rp(s){for(;null!==s&&!Rr(s);)s=s[4];return s}function qa(s,a,u,h,f){if(null!=h){let m,b=!1;Rr(h)?m=h:Kr(h)&&(b=!0,h=h[0]);const w=_n(h);0===s&&null!==u?null==f?vM(a,u,w):Rc(a,u,w,f||null,!0):1===s&&null!==u?Rc(a,u,w,f||null,!0):2===s?function EM(s,a,u){const h=o_(s,a);h&&function bM(s,a,u,h){In(s)?s.removeChild(a,u,h):a.removeChild(u)}(s,h,a,u)}(a,w,b):3===s&&a.destroyNode(w),null!=m&&function od(s,a,u,h,f){const m=u[7];m!==_n(u)&&qa(a,s,h,m,f);for(let w=10;w<u.length;w++){const x=u[w];Bp(x[1],x,s,a,h,m)}}(a,s,m,u,f)}}function er(s,a,u){if(In(s))return s.createElement(a,u);{const h=null!==u?function lc(s){const a=s.toLowerCase();return"svg"===a?"http://www.w3.org/2000/svg":"math"===a?"http://www.w3.org/1998/MathML/":null}(u):null;return null===h?s.createElement(a):s.createElementNS(h,a)}}function gM(s,a){const u=s[9],h=u.indexOf(a),f=a[3];1024&a[2]&&(a[2]&=-1025,Ss(f,-1)),u.splice(h,1)}function i_(s,a){if(s.length<=10)return;const u=10+a,h=s[u];if(h){const f=h[17];null!==f&&f!==s&&gM(f,h),a>0&&(s[u-1][4]=h[4]);const m=Fs(s,10+a);!function nb(s,a){Bp(s,a,a[11],2,null,null),a[0]=null,a[6]=null}(h[1],h);const b=m[19];null!==b&&b.detachView(m[1]),h[3]=null,h[4]=null,h[2]&=-129}return h}function mM(s,a){if(!(256&a[2])){const u=a[11];In(u)&&u.destroyNode&&Bp(s,a,u,3,null,null),function Rh(s){let a=s[13];if(!a)return r_(s[1],s);for(;a;){let u=null;if(Kr(a))u=a[13];else{const h=a[10];h&&(u=h)}if(!u){for(;a&&!a[4]&&a!==s;)Kr(a)&&r_(a[1],a),a=a[3];null===a&&(a=s),Kr(a)&&r_(a[1],a),u=a&&a[4]}a=u}}(a)}}function r_(s,a){if(!(256&a[2])){a[2]&=-129,a[2]|=256,function ib(s,a){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let h=0;h<u.length;h+=2){const f=a[u[h]];if(!(f instanceof Ra)){const m=u[h+1];if(Array.isArray(m))for(let b=0;b<m.length;b+=2){const w=f[m[b]],x=m[b+1];try{x.call(w)}finally{}}else try{m.call(f)}finally{}}}}(s,a),function _M(s,a){const u=s.cleanup,h=a[7];let f=-1;if(null!==u)for(let m=0;m<u.length-1;m+=2)if("string"==typeof u[m]){const b=u[m+1],w="function"==typeof b?b(a):_n(a[b]),x=h[f=u[m+2]],T=u[m+3];"boolean"==typeof T?w.removeEventListener(u[m],x,T):T>=0?h[f=T]():h[f=-T].unsubscribe(),m+=2}else{const b=h[f=u[m+1]];u[m].call(b)}if(null!==h){for(let m=f+1;m<h.length;m++)h[m]();a[7]=null}}(s,a),1===a[1].type&&In(a[11])&&a[11].destroy();const u=a[17];if(null!==u&&Rr(a[3])){u!==a[3]&&gM(u,a);const h=a[19];null!==h&&h.detachView(s)}}}function uI(s,a,u){return function Pc(s,a,u){let h=a;for(;null!==h&&40&h.type;)h=(a=h).parent;if(null===h)return u[0];if(2&h.flags){const f=s.data[h.directiveStart].encapsulation;if(f===Yt.None||f===Yt.Emulated)return null}return Qi(h,u)}(s,a.parent,u)}function Rc(s,a,u,h,f){In(s)?s.insertBefore(a,u,h,f):a.insertBefore(u,h,f)}function vM(s,a,u){In(s)?s.appendChild(a,u):a.appendChild(u)}function yM(s,a,u,h,f){null!==h?Rc(s,a,u,h,f):vM(s,a,u)}function o_(s,a){return In(s)?s.parentNode(a):a.parentNode}function CM(s,a,u){return wM(s,a,u)}let wM=function rb(s,a,u){return 40&s.type?Qi(s,u):null};function Nh(s,a,u,h){const f=uI(s,h,a),m=a[11],w=CM(h.parent||a[6],h,a);if(null!=f)if(Array.isArray(u))for(let x=0;x<u.length;x++)yM(m,f,u[x],w,!1);else yM(m,f,u,w,!1)}function s_(s,a){if(null!==a){const u=a.type;if(3&u)return Qi(a,s);if(4&u)return a_(-1,s[a.index]);if(8&u){const h=a.child;if(null!==h)return s_(s,h);{const f=s[a.index];return Rr(f)?a_(-1,f):_n(f)}}if(32&u)return rt(a,s)()||_n(s[a.index]);{const h=xM(s,a);return null!==h?Array.isArray(h)?h[0]:s_(Yn(s[16]),h):s_(s,a.next)}}return null}function xM(s,a){return null!==a?s[16][6].projection[a.projection]:null}function a_(s,a){const u=10+s+1;if(u<a.length){const h=a[u],f=h[1].firstChild;if(null!==f)return s_(h,f)}return a[7]}function DM(s,a,u,h,f,m,b){for(;null!=u;){const w=h[u.index],x=u.type;if(b&&0===a&&(w&&_r(_n(w),h),u.flags|=4),64!=(64&u.flags))if(8&x)DM(s,a,u.child,h,f,m,!1),qa(a,s,f,w,m);else if(32&x){const T=rt(u,h);let k;for(;k=T();)qa(a,s,f,k,m);qa(a,s,f,w,m)}else 16&x?sb(s,a,h,u,f,m):qa(a,s,f,w,m);u=b?u.projectionNext:u.next}}function Bp(s,a,u,h,f,m){DM(u,h,s.firstChild,a,f,m,!1)}function sb(s,a,u,h,f,m){const b=u[16],x=b[6].projection[h.projection];if(Array.isArray(x))for(let T=0;T<x.length;T++)qa(a,s,f,x[T],m);else DM(s,a,x,b[3],f,m,!0)}function TM(s,a,u){In(s)?s.setAttribute(a,"style",u):a.style.cssText=u}function l_(s,a,u){In(s)?""===u?s.removeAttribute(a,"class"):s.setAttribute(a,"class",u):a.className=u}function IM(s,a,u){let h=s.length;for(;;){const f=s.indexOf(a,u);if(-1===f)return f;if(0===f||s.charCodeAt(f-1)<=32){const m=a.length;if(f+m===h||s.charCodeAt(f+m)<=32)return f}u=f+1}}const OM="ng-template";function ab(s,a,u){let h=0;for(;h<s.length;){let f=s[h++];if(u&&"class"===f){if(f=s[h],-1!==IM(f.toLowerCase(),a,0))return!0}else if(1===f){for(;h<s.length&&"string"==typeof(f=s[h++]);)if(f.toLowerCase()===a)return!0;return!1}}return!1}function kl(s){return 4===s.type&&s.value!==OM}function kM(s,a,u){return a===(4!==s.type||u?s.value:OM)}function tr(s,a,u){let h=4;const f=s.attrs||[],m=function PM(s){for(let a=0;a<s.length;a++)if(ft(s[a]))return a;return s.length}(f);let b=!1;for(let w=0;w<a.length;w++){const x=a[w];if("number"!=typeof x){if(!b)if(4&h){if(h=2|1&h,""!==x&&!kM(s,x,u)||""===x&&1===a.length){if(yr(h))return!1;b=!0}}else{const T=8&h?x:a[++w];if(8&h&&null!==s.attrs){if(!ab(s.attrs,T,u)){if(yr(h))return!1;b=!0}continue}const U=hI(8&h?"class":x,f,kl(s),u);if(-1===U){if(yr(h))return!1;b=!0;continue}if(""!==T){let z;z=U>m?"":f[U+1].toLowerCase();const Q=8&h?z:null;if(Q&&-1!==IM(Q,T,0)||2&h&&T!==z){if(yr(h))return!1;b=!0}}}}else{if(!b&&!yr(h)&&!yr(x))return!1;if(b&&yr(x))continue;b=!1,h=x|1&h}}return yr(h)||b}function yr(s){return 0==(1&s)}function hI(s,a,u,h){if(null===a)return-1;let f=0;if(h||!u){let m=!1;for(;f<a.length;){const b=a[f];if(b===s)return f;if(3===b||6===b)m=!0;else{if(1===b||2===b){let w=a[++f];for(;"string"==typeof w;)w=a[++f];continue}if(4===b)break;if(0===b){f+=4;continue}}f+=m?1:2}return-1}return function RM(s,a){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const h=s[u];if("number"==typeof h)return-1;if(h===a)return u;u++}return-1}(a,s)}function lb(s,a,u=!1){for(let h=0;h<a.length;h++)if(tr(s,a[h],u))return!0;return!1}function FM(s,a){e:for(let u=0;u<a.length;u++){const h=a[u];if(s.length===h.length){for(let f=0;f<s.length;f++)if(s[f]!==h[f])continue e;return!0}}return!1}function cb(s,a){return s?":not("+a.trim()+")":a}function NM(s){let a=s[0],u=1,h=2,f="",m=!1;for(;u<s.length;){let b=s[u];if("string"==typeof b)if(2&h){const w=s[++u];f+="["+b+(w.length>0?'="'+w+'"':"")+"]"}else 8&h?f+="."+b:4&h&&(f+=" "+b);else""!==f&&!yr(b)&&(a+=cb(m,f),f=""),h=b,m=m||!yr(h);u++}return""!==f&&(a+=cb(m,f)),a}const Rt={};function ub(s){db(zt(),Se(),Ji()+s,gc())}function db(s,a,u,h){if(!h)if(3==(3&a[2])){const m=s.preOrderCheckHooks;null!==m&&wl(a,m,u)}else{const m=s.preOrderHooks;null!==m&&yc(a,m,0,u)}ks(u)}function Vp(s,a){return s<<17|a<<2}function ga(s){return s>>17&32767}function Up(s){return 2|s}function Wa(s){return(131068&s)>>2}function Hp(s,a){return-131069&s|a<<2}function c_(s){return 1|s}function g_(s,a){const u=s.contentQueries;if(null!==u)for(let h=0;h<u.length;h+=2){const f=u[h],m=u[h+1];if(-1!==m){const b=s.data[m];yu(f),b.contentQueries(2,a[m],m)}}}function sd(s,a,u,h,f,m,b,w,x,T){const k=a.blueprint.slice();return k[0]=f,k[2]=140|h,Ds(k),k[3]=k[15]=s,k[8]=u,k[10]=b||s&&s[10],k[11]=w||s&&s[11],k[12]=x||s&&s[12]||null,k[9]=T||s&&s[9]||null,k[6]=m,k[16]=2==a.type?s[16]:k,k}function Nc(s,a,u,h,f){let m=s.data[a];if(null===m)m=function ZM(s,a,u,h,f){const m=ka(),b=fu(),x=s.data[a]=function XM(s,a,u,h,f,m){return{type:u,index:h,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?m:m&&m.parent,u,a,h,f);return null===s.firstChild&&(s.firstChild=x),null!==m&&(b?null==m.child&&null!==x.parent&&(m.child=x):null===m.next&&(m.next=x)),x}(s,a,u,h,f),function mu(){return yt.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=u,m.value=h,m.attrs=f;const b=function Aa(){const s=yt.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}();m.injectorIndex=null===b?-1:b.injectorIndex}return Br(m,!0),m}function Lc(s,a,u,h){if(0===u)return-1;const f=a.length;for(let m=0;m<u;m++)a.push(h),s.blueprint.push(h),s.data.push(null);return f}function Al(s,a,u){sa(a);try{const h=s.viewQuery;null!==h&&Ab(1,h,u);const f=s.template;null!==f&&Uh(s,a,f,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&g_(s,a),s.staticViewQueries&&Ab(2,s.viewQuery,u);const m=s.components;null!==m&&function WM(s,a){for(let u=0;u<a.length;u++)Tb(s,a[u])}(a,m)}catch(h){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),h}finally{a[2]&=-5,la()}}function Pl(s,a,u,h){const f=a[2];if(256==(256&f))return;sa(a);const m=gc();try{Ds(a),function mc(s){return yt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&Uh(s,a,u,2,h);const b=3==(3&f);if(!m)if(b){const T=s.preOrderCheckHooks;null!==T&&wl(a,T,null)}else{const T=s.preOrderHooks;null!==T&&yc(a,T,0,null),ui(a,0)}if(function kI(s){for(let a=nd(s);null!==a;a=id(a)){if(!a[2])continue;const u=a[9];for(let h=0;h<u.length;h++){const f=u[h],m=f[3];0==(1024&f[2])&&Ss(m,1),f[2]|=1024}}}(a),function cx(s){for(let a=nd(s);null!==a;a=id(a))for(let u=10;u<a.length;u++){const h=a[u],f=h[1];is(h)&&Pl(f,h,f.template,h[8])}}(a),null!==s.contentQueries&&g_(s,a),!m)if(b){const T=s.contentCheckHooks;null!==T&&wl(a,T)}else{const T=s.contentHooks;null!==T&&yc(a,T,1),ui(a,1)}!function CI(s,a){const u=s.hostBindingOpCodes;if(null!==u)try{for(let h=0;h<u.length;h++){const f=u[h];if(f<0)ks(~f);else{const m=f,b=u[++h],w=u[++h];vc(b,m),w(2,a[m])}}}finally{ks(-1)}}(s,a);const w=s.components;null!==w&&function wI(s,a){for(let u=0;u<a.length;u++)w_(s,a[u])}(a,w);const x=s.viewQuery;if(null!==x&&Ab(2,x,h),!m)if(b){const T=s.viewCheckHooks;null!==T&&wl(a,T)}else{const T=s.viewHooks;null!==T&&yc(a,T,2),ui(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),m||(a[2]&=-73),1024&a[2]&&(a[2]&=-1025,Ss(a[3],-1))}finally{la()}}function Vh(s,a,u,h){const f=a[10],m=!gc(),b=Es(a);try{m&&!b&&f.begin&&f.begin(),b&&Al(s,a,h),Pl(s,a,u,h)}finally{m&&!b&&f.end&&f.end()}}function Uh(s,a,u,h,f){const m=Ji(),b=2&h;try{ks(-1),b&&a.length>20&&db(s,a,20,gc()),u(h,f)}finally{ks(m)}}function YM(s,a,u){if(Gd(a)){const f=a.directiveEnd;for(let m=a.directiveStart;m<f;m++){const b=s.data[m];b.contentQueries&&b.contentQueries(1,u[m],m)}}}function Gp(s,a,u){!pc()||(function tx(s,a,u,h){const f=u.directiveStart,m=u.directiveEnd;s.firstCreatePass||Mn(u,a),_r(h,a);const b=u.initialInputs;for(let w=f;w<m;w++){const x=s.data[w],T=Fr(x);T&&ox(a,u,x);const k=zn(a,s,w,u);_r(k,a),null!==b&&OI(0,w-f,k,x,0,b),T&&(Xi(u.index,a)[8]=k)}}(s,a,u,Qi(u,a)),128==(128&u.flags)&&function SI(s,a,u){const h=u.directiveStart,f=u.directiveEnd,b=u.index,w=function _u(){return yt.lFrame.currentDirectiveIndex}();try{ks(b);for(let x=h;x<f;x++){const T=s.data[x],k=a[x];Cl(x),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&Eb(T,k)}}finally{ks(-1),Cl(w)}}(s,a,u))}function m_(s,a,u=Qi){const h=a.localNames;if(null!==h){let f=a.index+1;for(let m=0;m<h.length;m+=2){const b=h[m+1],w=-1===b?u(a,s):s[b];s[f++]=w}}}function __(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=$p(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):a}function $p(s,a,u,h,f,m,b,w,x,T){const k=20+h,U=k+f,z=function v_(s,a){const u=[];for(let h=0;h<a;h++)u.push(h<s?null:Rt);return u}(k,U),Q="function"==typeof T?T():T;return z[1]={type:s,blueprint:z,template:u,queries:null,viewQuery:w,declTNode:a,data:z.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:U,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:x,consts:Q,incompleteFirstPass:!1}}function Cb(s,a,u,h){const f=dx(a);null===u?f.push(h):(f.push(u),s.firstCreatePass&&FI(s).push(h,f.length-1))}function wb(s,a,u){for(let h in s)if(s.hasOwnProperty(h)){const f=s[h];(u=null===u?{}:u).hasOwnProperty(h)?u[h].push(a,f):u[h]=[a,f]}return u}function bo(s,a,u,h,f,m,b,w){const x=Qi(a,u);let k,T=a.inputs;!w&&null!=T&&(k=T[h])?(Pb(s,u,k,h,f),Cs(a)&&function MI(s,a){const u=Xi(a,s);16&u[2]||(u[2]|=64)}(u,a.index)):3&a.type&&(h=function JM(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(h),f=null!=b?b(f,a.value||"",h):f,In(m)?m.setProperty(x,h,f):Ui(h)||(x.setProperty?x.setProperty(h,f):x[h]=f))}function ex(s,a,u,h){let f=!1;if(pc()){const m=function nx(s,a,u){const h=s.directiveRegistry;let f=null;if(h)for(let m=0;m<h.length;m++){const b=h[m];lb(u,b.selectors,!1)&&(f||(f=[]),As(Mn(u,a),s,b.type),Fr(b)?(Db(s,u),f.unshift(b)):f.push(b))}return f}(s,a,u),b=null===h?null:{"":-1};if(null!==m){f=!0,rx(u,s.data.length,m.length);for(let k=0;k<m.length;k++){const U=m[k];U.providersResolver&&U.providersResolver(U)}let w=!1,x=!1,T=Lc(s,a,m.length,null);for(let k=0;k<m.length;k++){const U=m[k];u.mergedAttrs=Rn(u.mergedAttrs,U.hostAttrs),II(s,u,a,T,U),ix(T,U,b),null!==U.contentQueries&&(u.flags|=8),(null!==U.hostBindings||null!==U.hostAttrs||0!==U.hostVars)&&(u.flags|=128);const z=U.type.prototype;!w&&(z.ngOnChanges||z.ngOnInit||z.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(u.index),w=!0),!x&&(z.ngOnChanges||z.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(u.index),x=!0),T++}!function Mb(s,a){const h=a.directiveEnd,f=s.data,m=a.attrs,b=[];let w=null,x=null;for(let T=a.directiveStart;T<h;T++){const k=f[T],U=k.inputs,z=null===m||kl(a)?null:sx(U,m);b.push(z),w=wb(U,T,w),x=wb(k.outputs,T,x)}null!==w&&(w.hasOwnProperty("class")&&(a.flags|=16),w.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=b,a.inputs=w,a.outputs=x}(s,u)}b&&function TI(s,a,u){if(a){const h=s.localNames=[];for(let f=0;f<a.length;f+=2){const m=u[a[f+1]];if(null==m)throw new Be(-301,!1);h.push(a[f],m)}}}(u,h,b)}return u.mergedAttrs=Rn(u.mergedAttrs,u.attrs),f}function EI(s,a,u,h,f,m){const b=m.hostBindings;if(b){let w=s.hostBindingOpCodes;null===w&&(w=s.hostBindingOpCodes=[]);const x=~a.index;(function DI(s){let a=s.length;for(;a>0;){const u=s[--a];if("number"==typeof u&&u<0)return u}return 0})(w)!=x&&w.push(x),w.push(h,f,b)}}function Eb(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function Db(s,a){a.flags|=2,(s.components||(s.components=[])).push(a.index)}function ix(s,a,u){if(u){if(a.exportAs)for(let h=0;h<a.exportAs.length;h++)u[a.exportAs[h]]=s;Fr(a)&&(u[""]=s)}}function rx(s,a,u){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+u,s.providerIndexes=a}function II(s,a,u,h,f){s.data[h]=f;const m=f.factory||(f.factory=Nr(f.type)),b=new Ra(m,Fr(f),null);s.blueprint[h]=b,u[h]=b,EI(s,a,0,h,Lc(s,u,f.hostVars,Rt),f)}function ox(s,a,u){const h=Qi(a,s),f=__(u),m=s[10],b=Hh(s,sd(s,f,null,u.onPush?64:16,h,a,m,m.createRenderer(h,u),null,null));s[a.index]=b}function Za(s,a,u,h,f,m){const b=Qi(s,a);!function C_(s,a,u,h,f,m,b){if(null==m)In(s)?s.removeAttribute(a,f,u):a.removeAttribute(f);else{const w=null==b?pe(m):b(m,h||"",f);In(s)?s.setAttribute(a,f,w,u):u?a.setAttributeNS(u,f,w):a.setAttribute(f,w)}}(a[11],b,m,s.value,u,h,f)}function OI(s,a,u,h,f,m){const b=m[a];if(null!==b){const w=h.setInput;for(let x=0;x<b.length;){const T=b[x++],k=b[x++],U=b[x++];null!==w?h.setInput(u,U,T,k):u[k]=U}}}function sx(s,a){let u=null,h=0;for(;h<a.length;){const f=a[h];if(0!==f)if(5!==f){if("number"==typeof f)break;s.hasOwnProperty(f)&&(null===u&&(u=[]),u.push(f,s[f],a[h+1])),h+=2}else h+=2;else h+=4}return u}function lx(s,a,u,h){return new Array(s,!0,!1,a,null,0,h,u,null,null)}function w_(s,a){const u=Xi(a,s);if(is(u)){const h=u[1];80&u[2]?Pl(h,u,h.template,u[8]):u[5]>0&&Sb(u)}}function Sb(s){for(let h=nd(s);null!==h;h=id(h))for(let f=10;f<h.length;f++){const m=h[f];if(1024&m[2]){const b=m[1];Pl(b,m,b.template,m[8])}else m[5]>0&&Sb(m)}const u=s[1].components;if(null!==u)for(let h=0;h<u.length;h++){const f=Xi(u[h],s);is(f)&&f[5]>0&&Sb(f)}}function Tb(s,a){const u=Xi(a,s),h=u[1];(function AI(s,a){for(let u=a.length;u<s.blueprint.length;u++)a.push(s.blueprint[u])})(h,u),Al(h,u,u[8])}function Hh(s,a){return s[13]?s[14][4]=a:s[13]=a,s[14]=a,a}function M_(s){for(;s;){s[2]|=64;const a=Yn(s);if($d(s)&&!a)return s;s=a}return null}function Ib(s,a,u){const h=a[10];h.begin&&h.begin();try{Pl(s,a,s.template,u)}catch(f){throw hx(a,f),f}finally{h.end&&h.end()}}function Ob(s){!function x_(s){for(let a=0;a<s.components.length;a++){const u=s.components[a],h=Tp(u),f=h[1];Vh(f,h,f.template,u)}}(s[8])}function Ab(s,a,u){yu(0),a(s,u)}const ux=(()=>Promise.resolve(null))();function dx(s){return s[7]||(s[7]=[])}function FI(s){return s.cleanup||(s.cleanup=[])}function E_(s,a,u){return(null===s||Fr(s))&&(u=function Xd(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(u[a.index])),u[11]}function hx(s,a){const u=s[9],h=u?u.get(zi,null):null;h&&h.handleError(a)}function Pb(s,a,u,h,f){for(let m=0;m<u.length;){const b=u[m++],w=u[m++],x=a[b],T=s.data[b];null!==T.setInput?T.setInput(x,f,h,w):x[w]=f}}function Rl(s,a,u){const h=oa(a,s);!function Fp(s,a,u){In(s)?s.setValue(a,u):a.textContent=u}(s[11],h,u)}function qp(s,a,u){let h=u?s.styles:null,f=u?s.classes:null,m=0;if(null!==a)for(let b=0;b<a.length;b++){const w=a[b];"number"==typeof w?m=w:1==m?f=_e(f,w):2==m&&(h=_e(h,w+": "+a[++b]+";"))}u?s.styles=h:s.stylesWithoutHost=h,u?s.classes=f:s.classesWithoutHost=f}const Rb=new Wn("INJECTOR",-1);class Fb{get(a,u=Ls){if(u===Ls){const h=new Error(`NullInjectorError: No provider for ${me(a)}!`);throw h.name="NullInjectorError",h}return u}}const Nb=new Wn("Set Injector scope."),Wp={},Lb={};let jh;function fx(){return void 0===jh&&(jh=new Fb),jh}function Bb(s,a=null,u=null,h){const f=px(s,a,u,h);return f._resolveInjectorDefTypes(),f}function px(s,a=null,u=null,h){return new gx(s,u,a||fx(),h)}class gx{constructor(a,u,h,f=null){this.parent=h,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];u&&Ur(u,w=>this.processProvider(w,a,u)),Ur([a],w=>this.processInjectorType(w,[],m)),this.records.set(Rb,Zp(void 0,this));const b=this.records.get(Nb);this.scope=null!=b?b.value:null,this.source=f||("object"==typeof a?null:me(a))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(a=>a.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(a,u=Ls,h=Ct.Default){this.assertNotDestroyed();const f=ge(this),m=_i(void 0);try{if(!(h&Ct.SkipSelf)){let w=this.records.get(a);if(void 0===w){const x=function GF(s){return"function"==typeof s||"object"==typeof s&&s instanceof Wn}(a)&&Zt(a);w=x&&this.injectableDefInScope(x)?Zp(Vb(a),Wp):null,this.records.set(a,w)}if(null!=w)return this.hydrate(a,w)}return(h&Ct.Self?fx():this.parent).get(a,u=h&Ct.Optional&&u===Ls?null:u)}catch(b){if("NullInjectorError"===b.name){if((b[Nu]=b[Nu]||[]).unshift(me(a)),f)throw b;return function as(s,a,u,h){const f=s[Nu];throw a[H]&&f.unshift(a[H]),s.message=function Bs(s,a,u,h=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let f=me(a);if(Array.isArray(a))f=a.map(me).join(" -> ");else if("object"==typeof a){let m=[];for(let b in a)if(a.hasOwnProperty(b)){let w=a[b];m.push(b+":"+("string"==typeof w?JSON.stringify(w):me(w)))}f=`{${m.join(", ")}}`}return`${u}${h?"("+h+")":""}[${f}]: ${s.replace(S,"\n  ")}`}("\n"+s.message,f,u,h),s.ngTokenPath=f,s[Nu]=null,s}(b,a,"R3InjectorError",this.source)}throw b}finally{_i(m),ge(f)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(a=>this.get(a))}toString(){const a=[];return this.records.forEach((h,f)=>a.push(me(f))),`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Be(205,!1)}processInjectorType(a,u,h){if(!(a=ne(a)))return!1;let f=cr(a);const m=null==f&&a.ngModule||void 0,b=void 0===m?a:m,w=-1!==h.indexOf(b);if(void 0!==m&&(f=cr(m)),null==f)return!1;if(null!=f.imports&&!w){let k;h.push(b);try{Ur(f.imports,U=>{this.processInjectorType(U,u,h)&&(void 0===k&&(k=[]),k.push(U))})}finally{}if(void 0!==k)for(let U=0;U<k.length;U++){const{ngModule:z,providers:Q}=k[U];Ur(Q,we=>this.processProvider(we,z,Q||_t))}}this.injectorDefTypes.add(b);const x=Nr(b)||(()=>new b);this.records.set(b,Zp(x,Wp));const T=f.providers;if(null!=T&&!w){const k=a;Ur(T,U=>this.processProvider(U,k,T))}return void 0!==m&&void 0!==a.providers}processProvider(a,u,h){let f=zh(a=ne(a))?a:ne(a&&a.provide);const m=function BI(s,a,u){return VI(s)?Zp(void 0,s.useValue):Zp(Ub(s),Wp)}(a);if(zh(a)||!0!==a.multi)this.records.get(f);else{let b=this.records.get(f);b||(b=Zp(void 0,Wp,!0),b.factory=()=>Pt(b.multi),this.records.set(f,b)),f=a,b.multi.push(a)}this.records.set(f,m)}hydrate(a,u){return u.value===Wp&&(u.value=Lb,u.value=u.factory()),"object"==typeof u.value&&u.value&&function zF(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(u.value)&&this.onDestroy.add(u.value),u.value}injectableDefInScope(a){if(!a.providedIn)return!1;const u=ne(a.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function Vb(s){const a=Zt(s),u=null!==a?a.factory:Nr(s);if(null!==u)return u;if(s instanceof Wn)throw new Be(204,!1);if(s instanceof Function)return function mx(s){const a=s.length;if(a>0)throw yo(a,"?"),new Be(204,!1);const u=function Ar(s){const a=s&&(s[ko]||s[Yo]);if(a){const u=function ms(s){if(s.hasOwnProperty("name"))return s.name;const a=(""+s).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),a}return null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new Be(204,!1)}function Ub(s,a,u){let h;if(zh(s)){const f=ne(s);return Nr(f)||Vb(f)}if(VI(s))h=()=>ne(s.useValue);else if(function _x(s){return!(!s||!s.useFactory)}(s))h=()=>s.useFactory(...Pt(s.deps||[]));else if(function HF(s){return!(!s||!s.useExisting)}(s))h=()=>at(ne(s.useExisting));else{const f=ne(s&&(s.useClass||s.provide));if(!function jF(s){return!!s.deps}(s))return Nr(f)||Vb(f);h=()=>new f(...Pt(s.deps))}return h}function Zp(s,a,u=!1){return{factory:s,value:a,multi:u?[]:void 0}}function VI(s){return null!==s&&"object"==typeof s&&K in s}function zh(s){return"function"==typeof s}let js=(()=>{class s{static create(u,h){var f;if(Array.isArray(u))return Bb({name:""},h,u,"");{const m=null!==(f=u.name)&&void 0!==f?f:"";return Bb({name:m},u.parent,u.providers,m)}}}return s.THROW_IF_NOT_FOUND=Ls,s.NULL=new Fb,s.\u0275prov=fn({token:s,providedIn:"any",factory:()=>at(Rb)}),s.__NG_ELEMENT_ID__=-1,s})();function xx(s,a){rs(Tp(s)[1],Ln())}function Bc(s){let a=function Ex(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const h=[s];for(;a;){let f;if(Fr(s))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Be(903,"");f=a.\u0275dir}if(f){if(u){h.push(f);const b=s;b.inputs=S_(s.inputs),b.declaredInputs=S_(s.declaredInputs),b.outputs=S_(s.outputs);const w=f.hostBindings;w&&io(s,w);const x=f.viewQuery,T=f.contentQueries;if(x&&Kp(s,x),T&&Qp(s,T),J(s.inputs,f.inputs),J(s.declaredInputs,f.declaredInputs),J(s.outputs,f.outputs),Fr(f)&&f.data.animation){const k=s.data;k.animation=(k.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let b=0;b<m.length;b++){const w=m[b];w&&w.ngInherit&&w(s),w===Bc&&(u=!1)}}a=Object.getPrototypeOf(a)}!function Dx(s){let a=0,u=null;for(let h=s.length-1;h>=0;h--){const f=s[h];f.hostVars=a+=f.hostVars,f.hostAttrs=Rn(f.hostAttrs,u=Rn(u,f.hostAttrs))}}(h)}function S_(s){return s===Ni?{}:s===_t?[]:s}function Kp(s,a){const u=s.viewQuery;s.viewQuery=u?(h,f)=>{a(h,f),u(h,f)}:a}function Qp(s,a){const u=s.contentQueries;s.contentQueries=u?(h,f,m)=>{a(h,f,m),u(h,f,m)}:a}function io(s,a){const u=s.hostBindings;s.hostBindings=u?(h,f)=>{a(h,f),u(h,f)}:a}let T_=null;function Gh(){if(!T_){const s=Kt.Symbol;if(s&&s.iterator)T_=s.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<a.length;++u){const h=a[u];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(T_=h)}}}return T_}function Vc(s){return!!Xp(s)&&(Array.isArray(s)||!(s instanceof Map)&&Gh()in s)}function Xp(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function br(s,a,u){return s[a]=u}function pi(s,a,u){return!Object.is(s[a],u)&&(s[a]=u,!0)}function cd(s,a,u,h){const f=pi(s,a,u);return pi(s,a+1,h)||f}function $b(s,a,u,h){const f=Se();return pi(f,Is(),a)&&(zt(),Za($n(),f,s,a,u,h)),$b}function Yh(s,a,u,h,f,m,b,w){const T=function ud(s,a,u,h,f){const m=cd(s,a,u,h);return pi(s,a+2,f)||m}(s,function Xr(){return yt.lFrame.bindingIndex}(),u,f,b);return go(3),T?a+pe(u)+h+pe(f)+m+pe(b)+w:Rt}function Ax(s,a,u,h,f,m,b,w){const x=Se(),T=zt(),k=s+20,U=T.firstCreatePass?function Yb(s,a,u,h,f,m,b,w,x){const T=a.consts,k=Nc(a,s,4,b||null,Lr(T,w));ex(a,u,k,Lr(T,x)),rs(a,k);const U=k.tViews=$p(2,k,h,f,m,a.directiveRegistry,a.pipeRegistry,null,a.schemas,T);return null!==a.queries&&(a.queries.template(a,k),U.queries=a.queries.embeddedTView(k)),k}(k,T,x,a,u,h,f,m,b):T.data[k];Br(U,!1);const z=x[11].createComment("");Nh(T,x,z,U),_r(z,x),Hh(x,x[k]=lx(z,x,z,U)),nc(U)&&Gp(T,x,U),null!=b&&m_(x,U,w)}function Kb(s){return po(function gu(){return yt.lFrame.contextLView}(),20+s)}function eg(s,a=Ct.Default){const u=Se();return null===u?at(s,a):Ml(Ln(),u,ne(s),a)}function Kx(){throw new Error("invalid")}function ls(s,a,u){const h=Se();return pi(h,Is(),a)&&bo(zt(),$n(),h,s,a,h[11],u,!1),ls}function e0(s,a,u,h,f){const b=f?"class":"style";Pb(s,u,a.inputs[b],b,h)}function N_(s,a,u,h){const f=Se(),m=zt(),b=20+s,w=f[11],x=f[b]=er(w,a,function Ly(){return yt.lFrame.currentNamespace}()),T=m.firstCreatePass?function nO(s,a,u,h,f,m,b){const w=a.consts,T=Nc(a,s,2,f,Lr(w,m));return ex(a,u,T,Lr(w,b)),null!==T.attrs&&qp(T,T.attrs,!1),null!==T.mergedAttrs&&qp(T,T.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,T),T}(b,m,f,0,a,u,h):m.data[b];Br(T,!0);const k=T.mergedAttrs;null!==k&&et(w,x,k);const U=T.classes;null!==U&&l_(w,x,U);const z=T.styles;return null!==z&&TM(w,x,z),64!=(64&T.flags)&&Nh(m,f,x,T),0===function bl(){return yt.lFrame.elementDepthCount}()&&_r(x,f),function hc(){yt.lFrame.elementDepthCount++}(),nc(T)&&(Gp(m,f,T),YM(m,T,f)),null!==h&&m_(f,T),N_}function L_(){let s=Ln();fu()?pu():(s=s.parent,Br(s,!1));const a=s;!function fc(){yt.lFrame.elementDepthCount--}();const u=zt();return u.firstCreatePass&&(rs(u,s),Gd(s)&&u.queries.elementEnd(s)),null!=a.classesWithoutHost&&function ah(s){return 0!=(16&s.flags)}(a)&&e0(u,a,Se(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function Lm(s){return 0!=(32&s.flags)}(a)&&e0(u,a,Se(),a.stylesWithoutHost,!1),L_}function B_(s,a,u,h){return N_(s,a,u,h),L_(),B_}function V_(s,a,u){const h=Se(),f=zt(),m=s+20,b=f.firstCreatePass?function iO(s,a,u,h,f){const m=a.consts,b=Lr(m,h),w=Nc(a,s,8,"ng-container",b);return null!==b&&qp(w,b,!0),ex(a,u,w,Lr(m,f)),null!==a.queries&&a.queries.elementStart(a,w),w}(m,f,h,a,u):f.data[m];Br(b,!0);const w=h[m]=h[11].createComment("");return Nh(f,h,w,b),_r(w,h),nc(b)&&(Gp(f,h,b),YM(f,b,h)),null!=u&&m_(h,b),V_}function tg(){let s=Ln();const a=zt();return fu()?pu():(s=s.parent,Br(s,!1)),a.firstCreatePass&&(rs(a,s),Gd(s)&&a.queries.elementEnd(s)),tg}function t0(s,a,u){return V_(s,a,u),tg(),t0}function Qx(){return Se()}function n0(s){return!!s&&"function"==typeof s.then}function r0(s){return!!s&&"function"==typeof s.subscribe}const U_=r0;function H_(s,a,u,h){const f=Se(),m=zt(),b=Ln();return Xx(m,f,f[11],b,s,a,!!u,h),H_}function o0(s,a){const u=Ln(),h=Se(),f=zt();return Xx(f,h,E_(Pa(f.data),u,h),u,s,a,!1),o0}function Xx(s,a,u,h,f,m,b,w){const x=nc(h),k=s.firstCreatePass&&FI(s),U=a[8],z=dx(a);let Q=!0;if(3&h.type||w){const qe=Qi(h,a),st=w?w(qe):qe,Ee=z.length,Mt=w?tn=>w(_n(tn[h.index])):h.index;if(In(u)){let tn=null;if(!w&&x&&(tn=function rO(s,a,u,h){const f=s.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const b=f[m];if(b===u&&f[m+1]===h){const w=a[7],x=f[m+2];return w.length>x?w[x]:null}"string"==typeof b&&(m+=2)}return null}(s,a,f,h.index)),null!==tn)(tn.__ngLastListenerFn__||tn).__ngNextListenerFn__=m,tn.__ngLastListenerFn__=m,Q=!1;else{m=j_(h,a,U,m,!1);const En=u.listen(st,f,m);z.push(m,En),k&&k.push(f,Mt,Ee,Ee+1)}}else m=j_(h,a,U,m,!0),st.addEventListener(f,m,b),z.push(m),k&&k.push(f,Mt,Ee,b)}else m=j_(h,a,U,m,!1);const we=h.outputs;let Ne;if(Q&&null!==we&&(Ne=we[f])){const qe=Ne.length;if(qe)for(let st=0;st<qe;st+=2){const or=a[Ne[st]][Ne[st+1]].subscribe(m),Od=z.length;z.push(m,or),k&&k.push(f,h.index,Od,-(Od+1))}}}function Jx(s,a,u,h){try{return!1!==u(h)}catch(f){return hx(s,f),!1}}function j_(s,a,u,h,f){return function m(b){if(b===Function)return h;const w=2&s.flags?Xi(s.index,a):a;0==(32&a[2])&&M_(w);let x=Jx(a,0,h,b),T=m.__ngNextListenerFn__;for(;T;)x=Jx(a,0,T,b)&&x,T=T.__ngNextListenerFn__;return f&&!1===x&&(b.preventDefault(),b.returnValue=!1),x}}function eE(s=1){return function Os(s){return(yt.lFrame.contextLView=function Cu(s,a){for(;s>0;)a=a[15],s--;return a}(s,yt.lFrame.contextLView))[8]}(s)}function oO(s,a){let u=null;const h=function AM(s){const a=s.attrs;if(null!=a){const u=a.indexOf(5);if(0==(1&u))return a[u+1]}return null}(s);for(let f=0;f<a.length;f++){const m=a[f];if("*"!==m){if(null===h?lb(s,m,!0):FM(h,m))return f}else u=f}return u}function s0(s){const a=Se()[16][6];if(!a.projection){const h=a.projection=yo(s?s.length:1,null),f=h.slice();let m=a.child;for(;null!==m;){const b=s?oO(m,s):0;null!==b&&(f[b]?f[b].projectionNext=m:h[b]=m,f[b]=m),m=m.next}}}function tE(s,a=0,u){const h=Se(),f=zt(),m=Nc(f,20+s,16,null,u||null);null===m.projection&&(m.projection=a),pu(),64!=(64&m.flags)&&function SM(s,a,u){sb(a[11],0,a,u,uI(s,u,a),CM(u.parent||a[6],u,a))}(f,h,m)}function iE(s,a,u,h,f){const m=s[u+1],b=null===a;let w=h?ga(m):Wa(m),x=!1;for(;0!==w&&(!1===x||b);){const k=s[w+1];dO(s[w],a)&&(x=!0,s[w+1]=h?c_(k):Up(k)),w=h?ga(k):Wa(k)}x&&(s[u+1]=h?Up(m):c_(m))}function dO(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&Ha(s,a)>=0}function g0(s,a,u){return $o(s,a,u,!1),g0}function m0(s,a){return $o(s,a,null,!0),m0}function $o(s,a,u,h){const f=Se(),m=zt(),b=go(2);m.firstUpdatePass&&function aE(s,a,u,h){const f=s.data;if(null===f[u+1]){const m=f[Ji()],b=function _O(s,a){return a>=s.expandoStartIndex}(s,u);(function $s(s,a){return 0!=(s.flags&(a?16:32))})(m,h)&&null===a&&!b&&(a=!1),a=function _0(s,a,u,h){const f=Pa(s);let m=h?a.residualClasses:a.residualStyles;if(null===f)0===(h?a.classBindings:a.styleBindings)&&(u=$_(u=v0(null,s,a,u,h),a.attrs,h),m=null);else{const b=a.directiveStylingLast;if(-1===b||s[b]!==f)if(u=v0(f,s,a,u,h),null===m){let x=function eN(s,a,u){const h=u?a.classBindings:a.styleBindings;if(0!==Wa(h))return s[ga(h)]}(s,a,h);void 0!==x&&Array.isArray(x)&&(x=v0(null,s,a,x[1],h),x=$_(x,a.attrs,h),function tN(s,a,u,h){s[ga(u?a.classBindings:a.styleBindings)]=h}(s,a,h,x))}else m=function vO(s,a,u){let h;const f=a.directiveEnd;for(let m=1+a.directiveStylingLast;m<f;m++)h=$_(h,s[m].hostAttrs,u);return $_(h,a.attrs,u)}(s,a,h)}return void 0!==m&&(h?a.residualClasses=m:a.residualStyles=m),u}(f,m,a,h),function cO(s,a,u,h,f,m){let b=m?a.classBindings:a.styleBindings,w=ga(b),x=Wa(b);s[h]=u;let k,T=!1;if(Array.isArray(u)){const U=u;k=U[1],(null===k||Ha(U,k)>0)&&(T=!0)}else k=u;if(f)if(0!==x){const z=ga(s[w+1]);s[h+1]=Vp(z,w),0!==z&&(s[z+1]=Hp(s[z+1],h)),s[w+1]=function VM(s,a){return 131071&s|a<<17}(s[w+1],h)}else s[h+1]=Vp(w,0),0!==w&&(s[w+1]=Hp(s[w+1],h)),w=h;else s[h+1]=Vp(x,0),0===w?w=h:s[x+1]=Hp(s[x+1],h),x=h;T&&(s[h+1]=Up(s[h+1])),iE(s,k,h,!0),iE(s,k,h,!1),function uO(s,a,u,h,f){const m=f?s.residualClasses:s.residualStyles;null!=m&&"string"==typeof a&&Ha(m,a)>=0&&(u[h+1]=c_(u[h+1]))}(a,k,s,h,m),b=Vp(w,x),m?a.classBindings=b:a.styleBindings=b}(f,m,a,u,b,h)}}(m,s,b,h),a!==Rt&&pi(f,b,a)&&function bO(s,a,u,h,f,m,b,w){if(!(3&a.type))return;const x=s.data,T=x[w+1];y0(function pb(s){return 1==(1&s)}(T)?CO(x,a,u,f,Wa(T),b):void 0)||(y0(m)||function fb(s){return 2==(2&s)}(T)&&(m=CO(x,null,u,f,w,b)),function vr(s,a,u,h,f){const m=In(s);if(a)f?m?s.addClass(u,h):u.classList.add(h):m?s.removeClass(u,h):u.classList.remove(h);else{let b=-1===h.indexOf("-")?void 0:ce.DashCase;if(null==f)m?s.removeStyle(u,h,b):u.style.removeProperty(h);else{const w="string"==typeof f&&f.endsWith("!important");w&&(f=f.slice(0,-10),b|=ce.Important),m?s.setStyle(u,h,f,b):u.style.setProperty(h,f,w?"important":"")}}}(h,b,oa(Ji(),u),f,m))}(m,m.data[Ji()],f,f[11],s,f[b+1]=function rN(s,a){return null==s||("string"==typeof a?s+=a:"object"==typeof s&&(s=me(no(s)))),s}(a,u),h,b)}function v0(s,a,u,h,f){let m=null;const b=u.directiveEnd;let w=u.directiveStylingLast;for(-1===w?w=u.directiveStart:w++;w<b&&(m=a[w],h=$_(h,m.hostAttrs,f),m!==s);)w++;return null!==s&&(u.directiveStylingLast=w),h}function $_(s,a,u){const h=u?1:2;let f=-1;if(null!==a)for(let m=0;m<a.length;m++){const b=a[m];"number"==typeof b?f=b:f===h&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),mr(s,b,!!u||a[++m]))}return void 0===s?null:s}function CO(s,a,u,h,f,m){const b=null===a;let w;for(;f>0;){const x=s[f],T=Array.isArray(x),k=T?x[1]:x,U=null===k;let z=u[f+1];z===Rt&&(z=U?_t:void 0);let Q=U?Mc(z,h):k===h?z:void 0;if(T&&!y0(Q)&&(Q=Mc(x,h)),y0(Q)&&(w=Q,b))return w;const we=s[f+1];f=b?ga(we):Wa(we)}if(null!==a){let x=m?a.residualClasses:a.residualStyles;null!=x&&(w=Mc(x,h))}return w}function y0(s){return void 0!==s}function b0(s,a=""){const u=Se(),h=zt(),f=s+20,m=h.firstCreatePass?Nc(h,f,1,a,null):h.data[f],b=u[f]=function rd(s,a){return In(s)?s.createText(a):s.createTextNode(a)}(u[11],a);Nh(h,u,b,m),Br(m,!1)}function C0(s){return q_("",s,""),C0}function q_(s,a,u){const h=Se(),f=function Wh(s,a,u,h){return pi(s,Is(),u)?a+pe(u)+h:Rt}(h,s,a,u);return f!==Rt&&Rl(h,Ji(),f),q_}function cs(s,a,u,h,f,m,b){const w=Se(),x=Yh(w,s,a,u,h,f,m,b);return x!==Rt&&Rl(w,Ji(),x),cs}function Q_(s,a,u){const h=Se();return pi(h,Is(),a)&&bo(zt(),$n(),h,s,a,h[11],u,!0),Q_}function og(s,a,u){const h=Se();if(pi(h,Is(),a)){const m=zt(),b=$n();bo(m,b,h,s,a,E_(Pa(m.data),b,h),u,!0)}return og}const Hc=void 0;var AO=["en",[["a","p"],["AM","PM"],Hc],[["AM","PM"],Hc,Hc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Hc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Hc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Hc,"{1} 'at' {0}",Hc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function sg(s){const u=Math.floor(Math.abs(s)),h=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===h?1:5}];let jc={};function I0(s){const a=function RO(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=k0(a);if(u)return u;const h=a.split("-")[0];if(u=k0(h),u)return u;if("en"===h)return AO;throw new Error(`Missing locale data for the locale "${s}".`)}function O0(s){return I0(s)[Tt.PluralCase]}function k0(s){return s in jc||(jc[s]=Kt.ng&&Kt.ng.common&&Kt.ng.common.locales&&Kt.ng.common.locales[s]),jc[s]}var Tt=(()=>((Tt=Tt||{})[Tt.LocaleId=0]="LocaleId",Tt[Tt.DayPeriodsFormat=1]="DayPeriodsFormat",Tt[Tt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Tt[Tt.DaysFormat=3]="DaysFormat",Tt[Tt.DaysStandalone=4]="DaysStandalone",Tt[Tt.MonthsFormat=5]="MonthsFormat",Tt[Tt.MonthsStandalone=6]="MonthsStandalone",Tt[Tt.Eras=7]="Eras",Tt[Tt.FirstDayOfWeek=8]="FirstDayOfWeek",Tt[Tt.WeekendRange=9]="WeekendRange",Tt[Tt.DateFormat=10]="DateFormat",Tt[Tt.TimeFormat=11]="TimeFormat",Tt[Tt.DateTimeFormat=12]="DateTimeFormat",Tt[Tt.NumberSymbols=13]="NumberSymbols",Tt[Tt.NumberFormats=14]="NumberFormats",Tt[Tt.CurrencyCode=15]="CurrencyCode",Tt[Tt.CurrencySymbol=16]="CurrencySymbol",Tt[Tt.CurrencyName=17]="CurrencyName",Tt[Tt.Currencies=18]="Currencies",Tt[Tt.Directionality=19]="Directionality",Tt[Tt.PluralCase=20]="PluralCase",Tt[Tt.ExtraData=21]="ExtraData",Tt))();const rf="en-US";let lg=rf;function H0(s,a,u,h,f){if(s=ne(s),Array.isArray(s))for(let m=0;m<s.length;m++)H0(s[m],a,u,h,f);else{const m=zt(),b=Se();let w=zh(s)?s:ne(s.provide),x=Ub(s);const T=Ln(),k=1048575&T.providerIndexes,U=T.directiveStart,z=T.providerIndexes>>20;if(zh(s)||!s.multi){const Q=new Ra(x,f,eg),we=rv(w,a,f?k:k+z,U);-1===we?(As(Mn(T,b),m,w),j0(m,s,a.length),a.push(w),T.directiveStart++,T.directiveEnd++,f&&(T.providerIndexes+=1048576),u.push(Q),b.push(Q)):(u[we]=Q,b[we]=Q)}else{const Q=rv(w,a,k+z,U),we=rv(w,a,k,k+z),Ne=Q>=0&&u[Q],qe=we>=0&&u[we];if(f&&!qe||!f&&!Ne){As(Mn(T,b),m,w);const st=function ov(s,a,u,h,f){const m=new Ra(s,u,eg);return m.multi=[],m.index=a,m.componentProviders=0,z0(m,f,h&&!u),m}(f?UE:sk,u.length,f,h,x);!f&&qe&&(u[we].providerFactory=st),j0(m,s,a.length,0),a.push(w),T.directiveStart++,T.directiveEnd++,f&&(T.providerIndexes+=1048576),u.push(st),b.push(st)}else j0(m,s,Q>-1?Q:we,z0(u[f?we:Q],x,!f&&h));!f&&h&&qe&&u[we].componentProviders++}}}function j0(s,a,u,h){const f=zh(a),m=function UI(s){return!!s.useClass}(a);if(f||m){const x=(m?ne(a.useClass):a).prototype.ngOnDestroy;if(x){const T=s.destroyHooks||(s.destroyHooks=[]);if(!f&&a.multi){const k=T.indexOf(u);-1===k?T.push(u,[h,x]):T[k+1].push(h,x)}else T.push(u,x)}}}function z0(s,a,u){return u&&s.componentProviders++,s.multi.push(a)-1}function rv(s,a,u,h){for(let f=u;f<h;f++)if(a[f]===s)return f;return-1}function sk(s,a,u,h){return pg(this.multi,[])}function UE(s,a,u,h){const f=this.multi;let m;if(this.providerFactory){const b=this.providerFactory.componentProviders,w=zn(u,u[1],this.providerFactory.index,h);m=w.slice(0,b),pg(f,m);for(let x=b;x<w.length;x++)m.push(w[x])}else m=[],pg(f,m);return m}function pg(s,a){for(let u=0;u<s.length;u++)a.push((0,s[u])());return a}function G0(s,a=[]){return u=>{u.providersResolver=(h,f)=>function zc(s,a,u){const h=zt();if(h.firstCreatePass){const f=Fr(s);H0(u,h.data,h.blueprint,f,!0),H0(a,h.data,h.blueprint,f,!1)}}(h,f?f(s):s,a)}}class sv{}class q0{resolveComponentFactory(a){throw function Eo(s){const a=Error(`No component factory found for ${me(s)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=s,a}(a)}}let df=(()=>{class s{}return s.NULL=new q0,s})();function HE(){return dd(Ln(),Se())}function dd(s,a){return new hd(Qi(s,a))}let hd=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=HE,s})();function lk(s){return s instanceof hd?s.nativeElement:s}class fd{}let jE=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function zE(){const s=Se(),u=Xi(Ln().index,s);return function W0(s){return s[11]}(Kr(u)?u:s)}(),s})(),ck=(()=>{class s{}return s.\u0275prov=fn({token:s,providedIn:"root",factory:()=>null}),s})();class Z0{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const gg=new Z0("13.2.4"),mg={};function hf(s,a,u,h,f=!1){for(;null!==u;){const m=a[u.index];if(null!==m&&h.push(_n(m)),Rr(m))for(let w=10;w<m.length;w++){const x=m[w],T=x[1].firstChild;null!==T&&hf(x[1],x,T,h)}const b=u.type;if(8&b)hf(s,a,u.child,h);else if(32&b){const w=rt(u,a);let x;for(;x=w();)h.push(x)}else if(16&b){const w=xM(a,u);if(Array.isArray(w))h.push(...w);else{const x=Yn(a[16]);hf(x[1],x,w,h,!0)}}u=f?u.projectionNext:u.next}return h}class pd{constructor(a,u){this._lView=a,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,u=a[1];return hf(u,a,u.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(Rr(a)){const u=a[8],h=u?u.indexOf(this):-1;h>-1&&(i_(a,h),Fs(u,h))}this._attachedToViewContainer=!1}mM(this._lView[1],this._lView)}onDestroy(a){Cb(this._lView[1],this._lView,null,a)}markForCheck(){M_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ib(this._lView[1],this._lView,this.context)}checkNoChanges(){!function RI(s,a,u){Ts(!0);try{Ib(s,a,u)}finally{Ts(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Be(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Lp(s,a){Bp(s,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Be(902,"");this._appRef=a}}class uk extends pd{constructor(a){super(a),this._view=a}detectChanges(){Ob(this._view)}checkNoChanges(){!function kb(s){Ts(!0);try{Ob(s)}finally{Ts(!1)}}(this._view)}get context(){return null}}class GE extends df{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const u=Xt(a);return new Mr(u,this.ngModule)}}function av(s){const a=[];for(let u in s)s.hasOwnProperty(u)&&a.push({propName:s[u],templateName:u});return a}const dk=new Wn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>t_});class Mr extends sv{constructor(a,u){super(),this.componentDef=a,this.ngModule=u,this.componentType=a.type,this.selector=function LM(s){return s.map(NM).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return av(this.componentDef.inputs)}get outputs(){return av(this.componentDef.outputs)}create(a,u,h,f){const m=(f=f||this.ngModule)?function hk(s,a){return{get:(u,h,f)=>{const m=s.get(u,mg,f);return m!==mg||h===mg?m:a.get(u,h,f)}}}(a,f.injector):a,b=m.get(fd,Oa),w=m.get(ck,null),x=b.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",k=h?function QM(s,a,u){if(In(s))return s.selectRootElement(a,u===Yt.ShadowDom);let h="string"==typeof a?s.querySelector(a):a;return h.textContent="",h}(x,h,this.componentDef.encapsulation):er(b.createRenderer(null,this.componentDef),T,function $E(s){const a=s.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(T)),U=this.componentDef.onPush?576:528,z=function Mx(s,a){return{components:[],scheduler:s||t_,clean:ux,playerHandler:a||null,flags:0}}(),Q=$p(0,null,null,1,0,null,null,null,null,null),we=sd(null,Q,z,U,null,null,b,x,w,m);let Ne,qe;sa(we);try{const st=function Cx(s,a,u,h,f,m){const b=u[1];u[20]=s;const x=Nc(b,20,2,"#host",null),T=x.mergedAttrs=a.hostAttrs;null!==T&&(qp(x,T,!0),null!==s&&(et(f,s,T),null!==x.classes&&l_(f,s,x.classes),null!==x.styles&&TM(f,s,x.styles)));const k=h.createRenderer(s,a),U=sd(u,__(a),null,a.onPush?64:16,u[20],x,h,k,m||null,null);return b.firstCreatePass&&(As(Mn(x,u),b,a.type),Db(b,x),rx(x,u.length,1)),Hh(u,U),u[20]=U}(k,this.componentDef,we,b,x);if(k)if(h)et(x,k,["ng-version",gg.full]);else{const{attrs:Ee,classes:Mt}=function BM(s){const a=[],u=[];let h=1,f=2;for(;h<s.length;){let m=s[h];if("string"==typeof m)2===f?""!==m&&a.push(m,s[++h]):8===f&&u.push(m);else{if(!yr(f))break;f=m}h++}return{attrs:a,classes:u}}(this.componentDef.selectors[0]);Ee&&et(x,k,Ee),Mt&&Mt.length>0&&l_(x,k,Mt.join(" "))}if(qe=yl(Q,20),void 0!==u){const Ee=qe.projection=[];for(let Mt=0;Mt<this.ngContentSelectors.length;Mt++){const tn=u[Mt];Ee.push(null!=tn?Array.from(tn):null)}}Ne=function wx(s,a,u,h,f){const m=u[1],b=function VF(s,a,u){const h=Ln();s.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),II(s,h,a,Lc(s,a,1,null),u));const f=zn(a,s,h.directiveStart,h);_r(f,a);const m=Qi(h,a);return m&&_r(m,a),f}(m,u,a);if(h.components.push(b),s[8]=b,f&&f.forEach(x=>x(b,a)),a.contentQueries){const x=Ln();a.contentQueries(1,b,x.directiveStart)}const w=Ln();return!m.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(ks(w.index),EI(u[1],w,0,w.directiveStart,w.directiveEnd,a),Eb(a,b)),b}(st,this.componentDef,we,z,[xx]),Al(Q,we,null)}finally{la()}return new vg(this.componentType,Ne,dd(qe,we),we,qe)}}class vg extends class xo{}{constructor(a,u,h,f,m){super(),this.location=h,this._rootLView=f,this._tNode=m,this.instance=u,this.hostView=this.changeDetectorRef=new uk(f),this.componentType=a}get injector(){return new un(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}class ff{}class yg{}const Vl=new Map;class ZE extends ff{constructor(a,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new GE(this);const h=Sn(a);this._bootstrapComponents=_(h.bootstrap),this._r3Injector=px(a,u,[{provide:ff,useValue:this},{provide:df,useValue:this.componentFactoryResolver}],me(a)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(a)}get(a,u=js.THROW_IF_NOT_FOUND,h=Ct.Default){return a===js||a===ff||a===Rb?this:this._r3Injector.get(a,u,h)}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class cv extends yg{constructor(a){super(),this.moduleType=a,null!==Sn(a)&&function Y0(s){const a=new Set;!function u(h){const f=Sn(h,!0),m=f.id;null!==m&&(function lv(s,a,u){if(a&&a!==u)throw new Error(`Duplicate module registered for ${s} - ${me(a)} vs ${me(a.name)}`)}(m,Vl.get(m),h),Vl.set(m,h));const b=_(f.imports);for(const w of b)a.has(w)||(a.add(w),u(w))}(s)}(a)}create(a){return new ZE(this.moduleType,a)}}function Q0(s,a,u){const h=Vi()+s,f=Se();return f[h]===Rt?br(f,h,u?a.call(u):a()):function $h(s,a){return s[a]}(f,h)}function uv(s,a,u,h){return KE(Se(),Vi(),s,a,u,h)}function gd(s,a){const u=s[a];return u===Rt?void 0:u}function KE(s,a,u,h,f,m){const b=a+u;return pi(s,b,f)?br(s,b+1,m?h.call(m,f):h(f)):gd(s,b+1)}function hv(s,a){const u=zt();let h;const f=s+20;u.firstCreatePass?(h=function nC(s,a){if(a)for(let u=a.length-1;u>=0;u--){const h=a[u];if(s===h.name)return h}}(a,u.pipeRegistry),u.data[f]=h,h.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(f,h.onDestroy)):h=u.data[f];const m=h.factory||(h.factory=Nr(h.type)),b=_i(eg);try{const w=Vr(!1),x=m();return Vr(w),function KI(s,a,u,h){u>=s.data.length&&(s.data[u]=null,s.blueprint[u]=null),a[u]=h}(u,Se(),f,x),x}finally{_i(b)}}function eD(s,a,u){const h=s+20,f=Se(),m=po(f,h);return md(f,h)?KE(f,Vi(),a,m.transform,u,m):m.transform(u)}function fv(s,a,u,h){const f=s+20,m=Se(),b=po(m,f);return md(m,f)?function QE(s,a,u,h,f,m,b){const w=a+u;return cd(s,w,f,m)?br(s,w+2,b?h.call(b,f,m):h(f,m)):gd(s,w+2)}(m,Vi(),a,b.transform,u,h,b):b.transform(u,h)}function md(s,a){return s[1].data[a].pure}function gv(s){return a=>{setTimeout(s,void 0,a)}}const Qa=class iC extends l.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,u,h){var f,m,b;let w=a,x=u||(()=>null),T=h;if(a&&"object"==typeof a){const U=a;w=null===(f=U.next)||void 0===f?void 0:f.bind(U),x=null===(m=U.error)||void 0===m?void 0:m.bind(U),T=null===(b=U.complete)||void 0===b?void 0:b.bind(U)}this.__isAsync&&(x=gv(x),w&&(w=gv(w)),T&&(T=gv(T)));const k=super.subscribe({next:w,error:x,complete:T});return a instanceof ee.w0&&a.add(k),k}};function bg(){return this._results[Gh()]()}class Cg{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Gh(),h=Cg.prototype;h[u]||(h[u]=bg)}get changes(){return this._changes||(this._changes=new Qa)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,u){return this._results.reduce(a,u)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,u){const h=this;h.dirty=!1;const f=Hi(a);(this._changesDetected=!function Au(s,a,u){if(s.length!==a.length)return!1;for(let h=0;h<s.length;h++){let f=s[h],m=a[h];if(u&&(f=u(f),m=u(m)),m!==f)return!1}return!0}(h._results,f,u))&&(h._results=f,h.length=f.length,h.last=f[this.length-1],h.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let pf=(()=>{class s{}return s.__NG_ELEMENT_ID__=_k,s})();const nD=pf,mv=class extends nD{constructor(a,u,h){super(),this._declarationLView=a,this._declarationTContainer=u,this.elementRef=h}createEmbeddedView(a){const u=this._declarationTContainer.tViews,h=sd(this._declarationLView,u,a,16,null,u.declTNode,null,null,null,null);h[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(h[19]=m.createEmbeddedView(u)),Al(u,h,a),new pd(h)}};function _k(){return _v(Ln(),Se())}function _v(s,a){return 4&s.type?new mv(a,s,dd(s,a)):null}let Ul=(()=>{class s{}return s.__NG_ELEMENT_ID__=vk,s})();function vk(){return oC(Ln(),Se())}const yk=Ul,Gc=class extends yk{constructor(a,u,h){super(),this._lContainer=a,this._hostTNode=u,this._hostLView=h}get element(){return dd(this._hostTNode,this._hostLView)}get injector(){return new un(this._hostTNode,this._hostLView)}get parentInjector(){const a=Jr(this._hostTNode,this._hostLView);if(lh(a)){const u=mo(a,this._hostLView),h=On(a);return new un(u[1].data[h+8],u)}return new un(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const u=rC(this._lContainer);return null!==u&&u[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,u,h){const f=a.createEmbeddedView(u||{});return this.insert(f,h),f}createComponent(a,u,h,f,m){const b=a&&!function Ua(s){return"function"==typeof s}(a);let w;if(b)w=u;else{const U=u||{};w=U.index,h=U.injector,f=U.projectableNodes,m=U.ngModuleRef}const x=b?a:new Mr(Xt(a)),T=h||this.parentInjector;if(!m&&null==x.ngModule){const z=(b?T:this.parentInjector).get(ff,null);z&&(m=z)}const k=x.create(T,f,void 0,m);return this.insert(k.hostView,w),k}insert(a,u){const h=a._lView,f=h[1];if(function uc(s){return Rr(s[3])}(h)){const k=this.indexOf(a);if(-1!==k)this.detach(k);else{const U=h[3],z=new Gc(U,U[6],U[3]);z.detach(z.indexOf(a))}}const m=this._adjustIndex(u),b=this._lContainer;!function Fh(s,a,u,h){const f=10+h,m=u.length;h>0&&(u[f-1][4]=a),h<m-10?(a[4]=u[f],Pu(u,10+h,a)):(u.push(a),a[4]=null),a[3]=u;const b=a[17];null!==b&&u!==b&&function pM(s,a){const u=s[9];a[16]!==a[3][3][16]&&(s[2]=!0),null===u?s[9]=[a]:u.push(a)}(b,a);const w=a[19];null!==w&&w.insertView(s),a[2]|=128}(f,h,b,m);const w=a_(m,b),x=h[11],T=o_(x,b[7]);return null!==T&&function Ac(s,a,u,h,f,m){h[0]=f,h[6]=a,Bp(s,h,u,1,f,m)}(f,b[6],x,h,T,w),a.attachToViewContainerRef(),Pu(gf(b),m,a),a}move(a,u){return this.insert(a,u)}indexOf(a){const u=rC(this._lContainer);return null!==u?u.indexOf(a):-1}remove(a){const u=this._adjustIndex(a,-1),h=i_(this._lContainer,u);h&&(Fs(gf(this._lContainer),u),mM(h[1],h))}detach(a){const u=this._adjustIndex(a,-1),h=i_(this._lContainer,u);return h&&null!=Fs(gf(this._lContainer),u)?new pd(h):null}_adjustIndex(a,u=0){return null==a?this.length+u:a}};function rC(s){return s[8]}function gf(s){return s[8]||(s[8]=[])}function oC(s,a){let u;const h=a[s.index];if(Rr(h))u=h;else{let f;if(8&s.type)f=_n(h);else{const m=a[11];f=m.createComment("");const b=Qi(s,a);Rc(m,o_(m,b),f,function dI(s,a){return In(s)?s.nextSibling(a):a.nextSibling}(m,b),!1)}a[s.index]=u=lx(h,a,f,s),Hh(a,u)}return new Gc(u,s,a)}class vv{constructor(a){this.queryList=a,this.matches=null}clone(){return new vv(this.queryList)}setDirty(){this.queryList.setDirty()}}class _d{constructor(a=[]){this.queries=a}createEmbeddedView(a){const u=a.queries;if(null!==u){const h=null!==a.contentQueries?a.contentQueries[0]:u.length,f=[];for(let m=0;m<h;m++){const b=u.getByIndex(m);f.push(this.queries[b.indexInDeclarationView].clone())}return new _d(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let u=0;u<this.queries.length;u++)null!==cC(a,u).matches&&this.queries[u].setDirty()}}class Mg{constructor(a,u,h=null){this.predicate=a,this.flags=u,this.read=h}}class yv{constructor(a=[]){this.queries=a}elementStart(a,u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(a,u)}elementEnd(a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(a)}embeddedTView(a){let u=null;for(let h=0;h<this.length;h++){const f=null!==u?u.length:0,m=this.getByIndex(h).embeddedTView(a,f);m&&(m.indexInDeclarationView=h,null!==u?u.push(m):u=[m])}return null!==u?new yv(u):null}template(a,u){for(let h=0;h<this.queries.length;h++)this.queries[h].template(a,u)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class xg{constructor(a,u=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(a,u){this.isApplyingToNode(u)&&this.matchTNode(a,u)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,u){this.elementStart(a,u)}embeddedTView(a,u){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,u),new xg(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let h=a.parent;for(;null!==h&&8&h.type&&h.index!==u;)h=h.parent;return u===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(a,u){const h=this.metadata.predicate;if(Array.isArray(h))for(let f=0;f<h.length;f++){const m=h[f];this.matchTNodeWithReadOption(a,u,rD(u,m)),this.matchTNodeWithReadOption(a,u,Ps(u,a,m,!1,!1))}else h===pf?4&u.type&&this.matchTNodeWithReadOption(a,u,-1):this.matchTNodeWithReadOption(a,u,Ps(u,a,h,!1,!1))}matchTNodeWithReadOption(a,u,h){if(null!==h){const f=this.metadata.read;if(null!==f)if(f===hd||f===Ul||f===pf&&4&u.type)this.addMatch(u.index,-2);else{const m=Ps(u,a,f,!1,!1);null!==m&&this.addMatch(u.index,m)}else this.addMatch(u.index,h)}}addMatch(a,u){null===this.matches?this.matches=[a,u]:this.matches.push(a,u)}}function rD(s,a){const u=s.localNames;if(null!==u)for(let h=0;h<u.length;h+=2)if(u[h]===a)return u[h+1];return null}function Eg(s,a,u,h){return-1===u?function oD(s,a){return 11&s.type?dd(s,a):4&s.type?_v(s,a):null}(a,s):-2===u?function sC(s,a,u){return u===hd?dd(a,s):u===pf?_v(a,s):u===Ul?oC(a,s):void 0}(s,a,h):zn(s,s[1],u,a)}function bv(s,a,u,h){const f=a[19].queries[h];if(null===f.matches){const m=s.data,b=u.matches,w=[];for(let x=0;x<b.length;x+=2){const T=b[x];w.push(T<0?null:Eg(a,m[T],b[x+1],u.metadata.read))}f.matches=w}return f.matches}function Dg(s,a,u,h){const f=s.queries.getByIndex(u),m=f.matches;if(null!==m){const b=bv(s,a,f,u);for(let w=0;w<m.length;w+=2){const x=m[w];if(x>0)h.push(b[w/2]);else{const T=m[w+1],k=a[-x];for(let U=10;U<k.length;U++){const z=k[U];z[17]===z[3]&&Dg(z[1],z,T,h)}if(null!==k[9]){const U=k[9];for(let z=0;z<U.length;z++){const Q=U[z];Dg(Q[1],Q,T,h)}}}}}return h}function Sg(s){const a=Se(),u=zt(),h=vu();yu(h+1);const f=cC(u,h);if(s.dirty&&Es(a)===(2==(2&f.metadata.flags))){if(null===f.matches)s.reset([]);else{const m=f.crossesNgTemplate?Dg(u,a,h,[]):bv(u,a,f,h);s.reset(m,lk),s.notifyOnChanges()}return!0}return!1}function mf(s,a,u){const h=zt();h.firstCreatePass&&(Cv(h,new Mg(s,a,u),-1),2==(2&a)&&(h.staticViewQueries=!0)),Tg(h,Se(),a)}function aC(s,a,u,h){const f=zt();if(f.firstCreatePass){const m=Ln();Cv(f,new Mg(a,u,h),m.index),function aD(s,a){const u=s.contentQueries||(s.contentQueries=[]);a!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,a)}(f,s),2==(2&u)&&(f.staticContentQueries=!0)}Tg(f,Se(),u)}function sD(){return function lC(s,a){return s[19].queries[a].queryList}(Se(),vu())}function Tg(s,a,u){const h=new Cg(4==(4&u));Cb(s,a,h,h.destroy),null===a[19]&&(a[19]=new _d),a[19].queries.push(new vv(h))}function Cv(s,a,u){null===s.queries&&(s.queries=new yv),s.queries.track(new xg(a,u))}function cC(s,a){return s.queries.getByIndex(a)}function Md(...s){}const Sv=new Wn("Application Initializer");let Ja=(()=>{class s{constructor(u){this.appInits=u,this.resolve=Md,this.reject=Md,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,f)=>{this.resolve=h,this.reject=f})}runInitializers(){if(this.initialized)return;const u=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const m=this.appInits[f]();if(n0(m))u.push(m);else if(U_(m)){const b=new Promise((w,x)=>{m.subscribe({complete:w,error:x})});u.push(b)}}Promise.all(u).then(()=>{h()}).catch(f=>{this.reject(f)}),0===u.length&&h(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)(at(Sv,8))},s.\u0275prov=fn({token:s,factory:s.\u0275fac}),s})();const bf=new Wn("AppId"),Gi={provide:bf,useFactory:function Ek(){return`${Tv()}${Tv()}${Tv()}`},deps:[]};function Tv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const DD=new Wn("Platform Initializer"),SD=new Wn("Platform ID"),TD=new Wn("appBootstrapListener");let vC=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=fn({token:s,factory:s.\u0275fac}),s})();const Og=new Wn("LocaleId"),yC=new Wn("DefaultCurrencyCode");class ID{constructor(a,u){this.ngModuleFactory=a,this.componentFactories=u}}let CC=(()=>{class s{compileModuleSync(u){return new cv(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const h=this.compileModuleSync(u),m=_(Sn(u).declarations).reduce((b,w)=>{const x=Xt(w);return x&&b.push(new Mr(x)),b},[]);return new ID(h,m)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=fn({token:s,factory:s.\u0275fac}),s})();const OD=(()=>Promise.resolve(0))();function kg(s){"undefined"==typeof Zone?OD.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Wo{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qa(!1),this.onMicrotaskEmpty=new Qa(!1),this.onStable=new Qa(!1),this.onError=new Qa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!h&&u,f.shouldCoalesceRunChangeDetection=h,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function Ov(){let s=Kt.requestAnimationFrame,a=Kt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&a){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const h=a[Zone.__symbol__("OriginalDelegate")];h&&(a=h)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function kD(s){const a=()=>{!function Sk(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Kt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,xd(s),s.isCheckStableRunning=!0,Cf(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),xd(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,h,f,m,b,w)=>{try{return xC(s),u.invokeTask(f,m,b,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||s.shouldCoalesceRunChangeDetection)&&a(),EC(s)}},onInvoke:(u,h,f,m,b,w,x)=>{try{return xC(s),u.invoke(f,m,b,w,x)}finally{s.shouldCoalesceRunChangeDetection&&a(),EC(s)}},onHasTask:(u,h,f,m)=>{u.hasTask(f,m),h===f&&("microTask"==m.change?(s._hasPendingMicrotasks=m.microTask,xd(s),Cf(s)):"macroTask"==m.change&&(s.hasPendingMacrotasks=m.macroTask))},onHandleError:(u,h,f,m)=>(u.handleError(f,m),s.runOutsideAngular(()=>s.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Wo.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Wo.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(a,u,h){return this._inner.run(a,u,h)}runTask(a,u,h,f){const m=this._inner,b=m.scheduleEventTask("NgZoneEvent: "+f,a,MC,Md,Md);try{return m.runTask(b,u,h)}finally{m.cancelTask(b)}}runGuarded(a,u,h){return this._inner.runGuarded(a,u,h)}runOutsideAngular(a){return this._outer.run(a)}}const MC={};function Cf(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function xd(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function xC(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function EC(s){s._nesting--,Cf(s)}class DC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qa,this.onMicrotaskEmpty=new Qa,this.onStable=new Qa,this.onError=new Qa}run(a,u,h){return a.apply(u,h)}runGuarded(a,u,h){return a.apply(u,h)}runOutsideAngular(a){return a()}runTask(a,u,h,f){return a.apply(u,h)}}let kv=(()=>{class s{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Wo.assertNotInAngularZone(),kg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())kg(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(u)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,h,f){let m=-1;h&&h>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==m),u(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:u,timeoutId:m,updateCb:f})}whenStable(u,h,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,h,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,h,f){return[]}}return s.\u0275fac=function(u){return new(u||s)(at(Wo))},s.\u0275prov=fn({token:s,factory:s.\u0275fac}),s})(),SC=(()=>{class s{constructor(){this._applications=new Map,Pv.addToWindow(this)}registerApplication(u,h){this._applications.set(u,h)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,h=!0){return Pv.findTestabilityInTree(this,u,h)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=fn({token:s,factory:s.\u0275fac}),s})();class Av{addToWindow(a){}findTestabilityInTree(a,u,h){return null}}function AD(s){Pv=s}let Wr,Pv=new Av;const TC=new Wn("AllowMultipleToken");class Rv{constructor(a,u){this.name=a,this.token=u}}function IC(s,a,u=[]){const h=`Platform: ${a}`,f=new Wn(h);return(m=[])=>{let b=ND();if(!b||b.injector.get(TC,!1))if(s)s(u.concat(m).concat({provide:f,useValue:!0}));else{const w=u.concat(m).concat({provide:f,useValue:!0},{provide:Nb,useValue:"platform"});!function us(s){if(Wr&&!Wr.destroyed&&!Wr.injector.get(TC,!1))throw new Be(400,"");Wr=s.get(LD);const a=s.get(DD,null);a&&a.forEach(u=>u())}(js.create({providers:w,name:h}))}return function FD(s){const a=ND();if(!a)throw new Be(401,"");return a}()}}function ND(){return Wr&&!Wr.destroyed?Wr:null}let LD=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,h){const w=function OC(s,a){let u;return u="noop"===s?new DC:("zone.js"===s?void 0:s)||new Wo({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==a?void 0:a.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==a?void 0:a.ngZoneRunCoalescing)}),u}(h?h.ngZone:void 0,{ngZoneEventCoalescing:h&&h.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:h&&h.ngZoneRunCoalescing||!1}),x=[{provide:Wo,useValue:w}];return w.run(()=>{const T=js.create({providers:x,parent:this.injector,name:u.moduleType.name}),k=u.create(T),U=k.injector.get(zi,null);if(!U)throw new Be(402,"");return w.runOutsideAngular(()=>{const z=w.onError.subscribe({next:Q=>{U.handleError(Q)}});k.onDestroy(()=>{kC(this._modules,k),z.unsubscribe()})}),function Ik(s,a,u){try{const h=u();return n0(h)?h.catch(f=>{throw a.runOutsideAngular(()=>s.handleError(f)),f}):h}catch(h){throw a.runOutsideAngular(()=>s.handleError(h)),h}}(U,w,()=>{const z=k.injector.get(Ja);return z.runInitializers(),z.donePromise.then(()=>(function LO(s){ht(s,"Expected localeId to be defined"),"string"==typeof s&&(lg=s.toLowerCase().replace(/_/g,"-"))}(k.injector.get(Og,rf)||rf),this._moduleDoBootstrap(k),k))})})}bootstrapModule(u,h=[]){const f=BD({},h);return function PD(s,a,u){const h=new cv(u);return Promise.resolve(h)}(0,0,u).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(u){const h=u.injector.get(wf);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(f=>h.bootstrap(f));else{if(!u.instance.ngDoBootstrap)throw new Be(403,"");u.instance.ngDoBootstrap(h)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Be(404,"");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(at(js))},s.\u0275prov=fn({token:s,factory:s.\u0275fac}),s})();function BD(s,a){return Array.isArray(a)?a.reduce(BD,s):Object.assign(Object.assign({},s),a)}let wf=(()=>{class s{constructor(u,h,f,m,b){this._zone=u,this._injector=h,this._exceptionHandler=f,this._componentFactoryResolver=m,this._initStatus=b,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new B.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),x=new B.y(T=>{let k;this._zone.runOutsideAngular(()=>{k=this._zone.onStable.subscribe(()=>{Wo.assertNotInAngularZone(),kg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const U=this._zone.onUnstable.subscribe(()=>{Wo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{k.unsubscribe(),U.unsubscribe()}});this.isStable=(0,de.T)(w,x.pipe((0,oe.B)()))}bootstrap(u,h){if(!this._initStatus.done)throw new Be(405,"");let f;f=u instanceof sv?u:this._componentFactoryResolver.resolveComponentFactory(u),this.componentTypes.push(f.componentType);const m=function RD(s){return s.isBoundToModule}(f)?void 0:this._injector.get(ff),w=f.create(js.NULL,[],h||f.selector,m),x=w.location.nativeElement,T=w.injector.get(kv,null),k=T&&w.injector.get(SC);return T&&k&&k.registerApplication(x,T),w.onDestroy(()=>{this.detachView(w.hostView),kC(this.components,w),k&&k.unregisterApplication(x)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Be(101,"");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const h=u;this._views.push(h),h.attachToAppRef(this)}detachView(u){const h=u;kC(this._views,h),h.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(TD,[]).concat(this._bootstrapListeners).forEach(f=>f(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(u){return new(u||s)(at(Wo),at(js),at(zi),at(df),at(Ja))},s.\u0275prov=fn({token:s,factory:s.\u0275fac}),s})();function kC(s,a){const u=s.indexOf(a);u>-1&&s.splice(u,1)}let AC=!0,Er=!1;function Mf(){return Er=!0,AC}function Wc(){if(Er)throw new Error("Cannot enable prod mode after platform setup.");AC=!1}let $i=(()=>{class s{}return s.__NG_ELEMENT_ID__=Rg,s})();function Rg(s){return function PC(s,a,u){if(Cs(s)&&!u){const h=Xi(s.index,a);return new pd(h,h)}return 47&s.type?new pd(a[16],a):null}(Ln(),Se(),16==(16&s))}class Ci{constructor(){}supports(a){return Vc(a)}create(a){return new GD(a)}}const kt=(s,a)=>a;class GD{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||kt}forEachItem(a){let u;for(u=this._itHead;null!==u;u=u._next)a(u)}forEachOperation(a){let u=this._itHead,h=this._removalsHead,f=0,m=null;for(;u||h;){const b=!h||u&&u.currentIndex<an(h,f,m)?u:h,w=an(b,f,m),x=b.currentIndex;if(b===h)f--,h=h._nextRemoved;else if(u=u._next,null==b.previousIndex)f++;else{m||(m=[]);const T=w-f,k=x-f;if(T!=k){for(let z=0;z<T;z++){const Q=z<m.length?m[z]:m[z]=0,we=Q+z;k<=we&&we<T&&(m[z]=Q+1)}m[b.previousIndex]=k-T}}w!==x&&a(b,w,x)}}forEachPreviousItem(a){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachMovedItem(a){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}forEachIdentityChange(a){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)a(u)}diff(a){if(null==a&&(a=[]),!Vc(a))throw new Be(900,"");return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,m,b,u=this._itHead,h=!1;if(Array.isArray(a)){this.length=a.length;for(let w=0;w<this.length;w++)m=a[w],b=this._trackByFn(w,m),null!==u&&Object.is(u.trackById,b)?(h&&(u=this._verifyReinsertion(u,m,b,w)),Object.is(u.item,m)||this._addIdentityChange(u,m)):(u=this._mismatch(u,m,b,w),h=!0),u=u._next}else f=0,function Gb(s,a){if(Array.isArray(s))for(let u=0;u<s.length;u++)a(s[u]);else{const u=s[Gh()]();let h;for(;!(h=u.next()).done;)a(h.value)}}(a,w=>{b=this._trackByFn(f,w),null!==u&&Object.is(u.trackById,b)?(h&&(u=this._verifyReinsertion(u,w,b,f)),Object.is(u.item,w)||this._addIdentityChange(u,w)):(u=this._mismatch(u,w,b,f),h=!0),u=u._next,f++}),this.length=f;return this._truncate(u),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,u,h,f){let m;return null===a?m=this._itTail:(m=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._reinsertAfter(a,m,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(h,f))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._moveAfter(a,m,f)):a=this._addAfter(new Dd(u,h),m,f),a}_verifyReinsertion(a,u,h,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==m?a=this._reinsertAfter(m,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const u=a._next;this._addToRemovals(this._unlink(a)),a=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,u,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,m=a._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(a,u,h),this._addToMoves(a,h),a}_moveAfter(a,u,h){return this._unlink(a),this._insertAfter(a,u,h),this._addToMoves(a,h),a}_addAfter(a,u,h){return this._insertAfter(a,u,h),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,u,h){const f=null===u?this._itHead:u._next;return a._next=f,a._prev=u,null===f?this._itTail=a:f._prev=a,null===u?this._itHead=a:u._next=a,null===this._linkedRecords&&(this._linkedRecords=new xf),this._linkedRecords.put(a),a.currentIndex=h,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const u=a._prev,h=a._next;return null===u?this._itHead=h:u._next=h,null===h?this._itTail=u:h._prev=u,a}_addToMoves(a,u){return a.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new xf),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,u){return a.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class Dd{constructor(a,u){this.item=a,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class $D{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,u){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===u||u<=h.currentIndex)&&Object.is(h.trackById,a))return h;return null}remove(a){const u=a._prevDup,h=a._nextDup;return null===u?this._head=h:u._nextDup=h,null===h?this._tail=u:h._prevDup=u,null===this._head}}class xf{constructor(){this.map=new Map}put(a){const u=a.trackById;let h=this.map.get(u);h||(h=new $D,this.map.set(u,h)),h.add(a)}get(a,u){const f=this.map.get(a);return f?f.get(a,u):null}remove(a){const u=a.trackById;return this.map.get(u).remove(a)&&this.map.delete(u),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function an(s,a,u){const h=s.previousIndex;if(null===h)return h;let f=0;return u&&h<u.length&&(f=u[h]),h+a+f}class qD{constructor(){}supports(a){return a instanceof Map||Xp(a)}create(){return new Dr}}class Dr{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let u;for(u=this._mapHead;null!==u;u=u._next)a(u)}forEachPreviousItem(a){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)a(u)}forEachChangedItem(a){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}diff(a){if(a){if(!(a instanceof Map||Xp(a)))throw new Be(900,"")}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(a,(h,f)=>{if(u&&u.key===f)this._maybeAddToChanges(u,h),this._appendAfter=u,u=u._next;else{const m=this._getOrCreateRecordForKey(f,h);u=this._insertBeforeOrAppend(u,m)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let h=u;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,u){if(a){const h=a._prev;return u._next=a,u._prev=h,a._prev=u,h&&(h._next=u),a===this._mapHead&&(this._mapHead=u),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(a,u){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,u);const m=f._prev,b=f._next;return m&&(m._next=b),b&&(b._prev=m),f._next=null,f._prev=null,f}const h=new Ef(a);return this._records.set(a,h),h.currentValue=u,this._addToAdditions(h),h}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,u){Object.is(u,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=u,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,u){a instanceof Map?a.forEach(u):Object.keys(a).forEach(h=>u(a[h],h))}}class Ef{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function WD(){return new ki([new Ci])}let ki=(()=>{class s{constructor(u){this.factories=u}static create(u,h){if(null!=h){const f=h.factories.slice();u=u.concat(f)}return new s(u)}static extend(u){return{provide:s,useFactory:h=>s.create(u,h||WD()),deps:[[s,new Ho,new ji]]}}find(u){const h=this.factories.find(f=>f.supports(u));if(null!=h)return h;throw new Be(901,"")}}return s.\u0275prov=fn({token:s,providedIn:"root",factory:WD}),s})();function jl(){return new ri([new qD])}let ri=(()=>{class s{constructor(u){this.factories=u}static create(u,h){if(h){const f=h.factories.slice();u=u.concat(f)}return new s(u)}static extend(u){return{provide:s,useFactory:h=>s.create(u,h||jl()),deps:[[s,new Ho,new ji]]}}find(u){const h=this.factories.find(m=>m.supports(u));if(h)return h;throw new Be(901,"")}}return s.\u0275prov=fn({token:s,providedIn:"root",factory:jl}),s})();const zl=IC(null,"core",[{provide:SD,useValue:"unknown"},{provide:LD,deps:[js]},{provide:SC,deps:[]},{provide:vC,deps:[]}]),ZD=[{provide:wf,useClass:wf,deps:[Wo,js,zi,df,Ja]},{provide:dk,deps:[Wo],useFactory:function $e(s){let a=[];return s.onStable.subscribe(()=>{for(;a.length;)a.pop()()}),function(u){a.push(u)}}},{provide:Ja,useClass:Ja,deps:[[new ji,Sv]]},{provide:CC,useClass:CC,deps:[]},Gi,{provide:Og,useFactory:function Td(s){return s||function Ng(){return"undefined"!=typeof $localize&&$localize.locale||rf}()},deps:[[new to(Og),new ji,new Ho]]},{provide:yC,useValue:"USD"}];let YD=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(at(wf))},s.\u0275mod=te({type:s}),s.\u0275inj=cn({providers:ZD}),s})()},3942:(dt,Te,L)=>{L.d(Te,{Z:()=>Be});var l=L(2090),ee=L(4859),B=L(9681),de=L(1877);class oe{constructor(pe,De){this._delegate=pe,this.firebase=De,(0,B._addComponent)(pe,new ee.wA("app-compat",()=>this,"PUBLIC")),this.container=pe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this._delegate.automaticDataCollectionEnabled=pe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(pe=>{this._delegate.checkDestroyed(),pe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService(pe,De=B._DEFAULT_ENTRY_NAME){var it;this._delegate.checkDestroyed();const Xe=this._delegate.container.getProvider(pe);return!Xe.isInitialized()&&"EXPLICIT"===(null===(it=Xe.getComponent())||void 0===it?void 0:it.instantiationMode)&&Xe.initialize(),Xe.getImmediate({identifier:De})}_removeServiceInstance(pe,De=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(pe).clearInstance(De)}_addComponent(pe){(0,B._addComponent)(this._delegate,pe)}_addOrOverwriteComponent(pe){(0,B._addOrOverwriteComponent)(this._delegate,pe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const J=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),q=function _e(){const He=function me(He){const pe={},De={__esModule:!0,initializeApp:function Ie(Ge,se={}){const X=B.initializeApp(Ge,se);if((0,l.r3)(pe,X.name))return pe[X.name];const ae=new He(X,De);return pe[X.name]=ae,ae},app:Xe,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function xe(Ge){const se=Ge.name,X=se.replace("-compat","");if(B._registerComponent(Ge)&&"PUBLIC"===Ge.type){const ae=(ye=Xe())=>{if("function"!=typeof ye[X])throw J.create("invalid-app-argument",{appName:se});return ye[X]()};void 0!==Ge.serviceProps&&(0,l.ZB)(ae,Ge.serviceProps),De[X]=ae,He.prototype[X]=function(...ye){return this._getService.bind(this,se).apply(this,Ge.multipleInstances?ye:[])}}return"PUBLIC"===Ge.type?De[X]:null},removeApp:function it(Ge){delete pe[Ge]},useAsService:function Ze(Ge,se){return"serverAuth"===se?null:se},modularAPIs:B}};function Xe(Ge){if(!(0,l.r3)(pe,Ge=Ge||B._DEFAULT_ENTRY_NAME))throw J.create("no-app",{appName:Ge});return pe[Ge]}return De.default=De,Object.defineProperty(De,"apps",{get:function Me(){return Object.keys(pe).map(Ge=>pe[Ge])}}),Xe.App=He,De}(oe);return He.INTERNAL=Object.assign(Object.assign({},He.INTERNAL),{createFirebaseNamespace:_e,extendNamespace:function pe(De){(0,l.ZB)(He,De)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),He}(),$=new de.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const He=self.firebase.SDK_VERSION;He&&He.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Be=q;!function ke(He){(0,B.registerVersion)("@firebase/app-compat","0.1.21",He)}()},9681:(dt,Te,L)=>{L.r(Te),L.d(Te,{FirebaseError:()=>de.ZR,SDK_VERSION:()=>cr,_DEFAULT_ENTRY_NAME:()=>Xn,_addComponent:()=>wn,_addOrOverwriteComponent:()=>fo,_apps:()=>Et,_clearComponents:()=>Zt,_components:()=>Cn,_getProvider:()=>Oo,_registerComponent:()=>fn,_removeServiceInstance:()=>cn,deleteApp:()=>Ao,getApp:()=>ur,getApps:()=>Yo,initializeApp:()=>ko,onLog:()=>xi,registerVersion:()=>Pr,setLogLevel:()=>_i});var l=L(5861),ee=L(4859),B=L(1877),de=L(2090);class oe{constructor(Oe){this.container=Oe}getPlatformInfoString(){return this.container.getProviders().map(tt=>{if(function be(Je){const Oe=Je.getComponent();return"VERSION"===(null==Oe?void 0:Oe.type)}(tt)){const vt=tt.getImmediate();return`${vt.library}/${vt.version}`}return null}).filter(tt=>tt).join(" ")}}const J="@firebase/app",_e=new B.Yd("@firebase/app"),Xn="[DEFAULT]",ht={[J]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Et=new Map,Cn=new Map;function wn(Je,Oe){try{Je.container.addComponent(Oe)}catch(tt){_e.debug(`Component ${Oe.name} failed to register with FirebaseApp ${Je.name}`,tt)}}function fo(Je,Oe){Je.container.addOrOverwriteComponent(Oe)}function fn(Je){const Oe=Je.name;if(Cn.has(Oe))return _e.debug(`There were multiple attempts to register component ${Oe}.`),!1;Cn.set(Oe,Je);for(const tt of Et.values())wn(tt,Je);return!0}function Oo(Je,Oe){const tt=Je.container.getProvider("heartbeat").getImmediate({optional:!0});return tt&&tt.triggerHeartbeat(),Je.container.getProvider(Oe)}function cn(Je,Oe,tt=Xn){Oo(Je,Oe).clearInstance(tt)}function Zt(){Cn.clear()}const Ar=new de.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class ms{constructor(Oe,tt,vt){this._isDeleted=!1,this._options=Object.assign({},Oe),this._config=Object.assign({},tt),this._name=tt.name,this._automaticDataCollectionEnabled=tt.automaticDataCollectionEnabled,this._container=vt,this.container.addComponent(new ee.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Oe){this.checkDestroyed(),this._automaticDataCollectionEnabled=Oe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Oe){this._isDeleted=Oe}checkDestroyed(){if(this.isDeleted)throw Ar.create("app-deleted",{appName:this._name})}}const cr="9.6.10";function ko(Je,Oe={}){"object"!=typeof Oe&&(Oe={name:Oe});const tt=Object.assign({name:Xn,automaticDataCollectionEnabled:!1},Oe),vt=tt.name;if("string"!=typeof vt||!vt)throw Ar.create("bad-app-name",{appName:String(vt)});const Wt=Et.get(vt);if(Wt){if((0,de.vZ)(Je,Wt.options)&&(0,de.vZ)(tt,Wt.config))return Wt;throw Ar.create("duplicate-app",{appName:vt})}const jt=new ee.H0(vt);for(const j of Cn.values())jt.addComponent(j);const G=new ms(Je,tt,jt);return Et.set(vt,G),G}function ur(Je=Xn){const Oe=Et.get(Je);if(!Oe)throw Ar.create("no-app",{appName:Je});return Oe}function Yo(){return Array.from(Et.values())}function Ao(Je){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,l.Z)(function*(Je){const Oe=Je.name;Et.has(Oe)&&(Et.delete(Oe),yield Promise.all(Je.container.getProviders().map(tt=>tt.delete())),Je.isDeleted=!0)})).apply(this,arguments)}function Pr(Je,Oe,tt){var vt;let Wt=null!==(vt=ht[Je])&&void 0!==vt?vt:Je;tt&&(Wt+=`-${tt}`);const jt=Wt.match(/\s|\//),G=Oe.match(/\s|\//);if(jt||G){const j=[`Unable to register library "${Wt}" with version "${Oe}":`];return jt&&j.push(`library name "${Wt}" contains illegal characters (whitespace or "/")`),jt&&G&&j.push("and"),G&&j.push(`version name "${Oe}" contains illegal characters (whitespace or "/")`),void _e.warn(j.join(" "))}fn(new ee.wA(`${Wt}-version`,()=>({library:Wt,version:Oe}),"VERSION"))}function xi(Je,Oe){if(null!==Je&&"function"!=typeof Je)throw Ar.create("invalid-log-argument");(0,B.Am)(Je,Oe)}function _i(Je){(0,B.Ub)(Je)}const An="firebase-heartbeat-store";let Ei=null;function Ko(){return Ei||(Ei=(0,de.X3)("firebase-heartbeat-database",1,(Je,Oe)=>{0===Oe&&Je.createObjectStore(An)}).catch(Je=>{throw Ar.create("storage-open",{originalErrorMessage:Je.message})})),Ei}function Yt(){return(Yt=(0,l.Z)(function*(Je){try{return(yield Ko()).transaction(An).objectStore(An).get(Fi(Je))}catch(Oe){throw Ar.create("storage-get",{originalErrorMessage:Oe.message})}})).apply(this,arguments)}function ct(Je,Oe){return It.apply(this,arguments)}function It(){return(It=(0,l.Z)(function*(Je,Oe){try{const vt=(yield Ko()).transaction(An,"readwrite");return yield vt.objectStore(An).put(Oe,Fi(Je)),vt.complete}catch(tt){throw Ar.create("storage-set",{originalErrorMessage:tt.message})}})).apply(this,arguments)}function Fi(Je){return`${Je.name}!${Je.options.appId}`}class Xs{constructor(Oe){this.container=Oe,this._heartbeatsCache=null;const tt=this.container.getProvider("app").getImmediate();this._storage=new _t(tt),this._heartbeatsCachePromise=this._storage.read().then(vt=>(this._heartbeatsCache=vt,vt))}triggerHeartbeat(){var Oe=this;return(0,l.Z)(function*(){const vt=Oe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Wt=Wi();if(null===Oe._heartbeatsCache&&(Oe._heartbeatsCache=yield Oe._heartbeatsCachePromise),Oe._heartbeatsCache.lastSentHeartbeatDate!==Wt&&!Oe._heartbeatsCache.heartbeats.some(jt=>jt.date===Wt))return Oe._heartbeatsCache.heartbeats.push({date:Wt,agent:vt}),Oe._heartbeatsCache.heartbeats=Oe._heartbeatsCache.heartbeats.filter(jt=>{const G=new Date(jt.date).valueOf();return Date.now()-G<=2592e6}),Oe._storage.overwrite(Oe._heartbeatsCache)})()}getHeartbeatsHeader(){var Oe=this;return(0,l.Z)(function*(){if(null===Oe._heartbeatsCache&&(yield Oe._heartbeatsCachePromise),null===Oe._heartbeatsCache||0===Oe._heartbeatsCache.heartbeats.length)return"";const tt=Wi(),{heartbeatsToSend:vt,unsentEntries:Wt}=function Ni(Je,Oe=1024){const tt=[];let vt=Je.slice();for(const Wt of Je){const jt=tt.find(G=>G.agent===Wt.agent);if(jt){if(jt.dates.push(Wt.date),Zi(tt)>Oe){jt.dates.pop();break}}else if(tt.push({agent:Wt.agent,dates:[Wt.date]}),Zi(tt)>Oe){tt.pop();break}vt=vt.slice(1)}return{heartbeatsToSend:tt,unsentEntries:vt}}(Oe._heartbeatsCache.heartbeats),jt=(0,de.L)(JSON.stringify({version:2,heartbeats:vt}));return Oe._heartbeatsCache.lastSentHeartbeatDate=tt,Wt.length>0?(Oe._heartbeatsCache.heartbeats=Wt,yield Oe._storage.overwrite(Oe._heartbeatsCache)):(Oe._heartbeatsCache.heartbeats=[],Oe._storage.overwrite(Oe._heartbeatsCache)),jt})()}}function Wi(){return(new Date).toISOString().substring(0,10)}class _t{constructor(Oe){this.app=Oe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,de.hl)()&&(0,de.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Oe=this;return(0,l.Z)(function*(){return(yield Oe._canUseIndexedDBPromise)&&(yield function Sa(Je){return Yt.apply(this,arguments)}(Oe.app))||{heartbeats:[]}})()}overwrite(Oe){var tt=this;return(0,l.Z)(function*(){var vt;if(yield tt._canUseIndexedDBPromise){const jt=yield tt.read();return ct(tt.app,{lastSentHeartbeatDate:null!==(vt=Oe.lastSentHeartbeatDate)&&void 0!==vt?vt:jt.lastSentHeartbeatDate,heartbeats:Oe.heartbeats})}})()}add(Oe){var tt=this;return(0,l.Z)(function*(){var vt;if(yield tt._canUseIndexedDBPromise){const jt=yield tt.read();return ct(tt.app,{lastSentHeartbeatDate:null!==(vt=Oe.lastSentHeartbeatDate)&&void 0!==vt?vt:jt.lastSentHeartbeatDate,heartbeats:[...jt.heartbeats,...Oe.heartbeats]})}})()}}function Zi(Je){return(0,de.L)(JSON.stringify({version:2,heartbeats:Je})).length}!function Gt(Je){fn(new ee.wA("platform-logger",Oe=>new oe(Oe),"PRIVATE")),fn(new ee.wA("heartbeat",Oe=>new Xs(Oe),"PRIVATE")),Pr(J,"0.7.20",Je),Pr(J,"0.7.20","esm2017"),Pr("fire-js","")}("")},4859:(dt,Te,L)=>{L.d(Te,{wA:()=>B,H0:()=>me,zt:()=>oe});var l=L(5861),ee=L(2090);class B{constructor(q,$,ne){this.name=q,this.instanceFactory=$,this.type=ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const de="[DEFAULT]";class oe{constructor(q,$){this.name=q,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const $=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has($)){const ne=new ee.BH;if(this.instancesDeferred.set($,ne),this.isInitialized($)||this.shouldAutoInitialize())try{const Ye=this.getOrInitializeService({instanceIdentifier:$});Ye&&ne.resolve(Ye)}catch(Ye){}}return this.instancesDeferred.get($).promise}getImmediate(q){var $;const ne=this.normalizeInstanceIdentifier(null==q?void 0:q.identifier),Ye=null!==($=null==q?void 0:q.optional)&&void 0!==$&&$;if(!this.isInitialized(ne)&&!this.shouldAutoInitialize()){if(Ye)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ne})}catch(ke){if(Ye)return null;throw ke}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if(function J(_e){return"EAGER"===_e.instantiationMode}(q))try{this.getOrInitializeService({instanceIdentifier:de})}catch($){}for(const[$,ne]of this.instancesDeferred.entries()){const Ye=this.normalizeInstanceIdentifier($);try{const ke=this.getOrInitializeService({instanceIdentifier:Ye});ne.resolve(ke)}catch(ke){}}}}clearInstance(q=de){this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}delete(){var q=this;return(0,l.Z)(function*(){const $=Array.from(q.instances.values());yield Promise.all([...$.filter(ne=>"INTERNAL"in ne).map(ne=>ne.INTERNAL.delete()),...$.filter(ne=>"_delete"in ne).map(ne=>ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(q=de){return this.instances.has(q)}getOptions(q=de){return this.instancesOptions.get(q)||{}}initialize(q={}){const{options:$={}}=q,ne=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(ne))throw Error(`${this.name}(${ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ye=this.getOrInitializeService({instanceIdentifier:ne,options:$});for(const[ke,Be]of this.instancesDeferred.entries())ne===this.normalizeInstanceIdentifier(ke)&&Be.resolve(Ye);return Ye}onInit(q,$){var ne;const Ye=this.normalizeInstanceIdentifier($),ke=null!==(ne=this.onInitCallbacks.get(Ye))&&void 0!==ne?ne:new Set;ke.add(q),this.onInitCallbacks.set(Ye,ke);const Be=this.instances.get(Ye);return Be&&q(Be,Ye),()=>{ke.delete(q)}}invokeOnInitCallbacks(q,$){const ne=this.onInitCallbacks.get($);if(ne)for(const Ye of ne)try{Ye(q,$)}catch(ke){}}getOrInitializeService({instanceIdentifier:q,options:$={}}){let ne=this.instances.get(q);if(!ne&&this.component&&(ne=this.component.instanceFactory(this.container,{instanceIdentifier:(_e=q,_e===de?void 0:_e),options:$}),this.instances.set(q,ne),this.instancesOptions.set(q,$),this.invokeOnInitCallbacks(ne,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,ne)}catch(Ye){}var _e;return ne||null}normalizeInstanceIdentifier(q=de){return this.component?this.component.multipleInstances?q:de:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class me{constructor(q){this.name=q,this.providers=new Map}addComponent(q){const $=this.getProvider(q.name);if($.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);$.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.addComponent(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const $=new oe(q,this);return this.providers.set(q,$),$}getProviders(){return Array.from(this.providers.values())}}},1877:(dt,Te,L)=>{L.d(Te,{in:()=>ee,Yd:()=>J,Ub:()=>me,Am:()=>_e});const l=[];var ee=(()=>{return(q=ee||(ee={}))[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT",ee;var q})();const B={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},de=ee.INFO,oe={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},be=(q,$,...ne)=>{if($<q.logLevel)return;const Ye=(new Date).toISOString(),ke=oe[$];if(!ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[ke](`[${Ye}]  ${q.name}:`,...ne)};class J{constructor($){this.name=$,this._logLevel=de,this._logHandler=be,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in ee))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?B[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...$),this._logHandler(this,ee.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...$),this._logHandler(this,ee.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...$),this._logHandler(this,ee.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...$),this._logHandler(this,ee.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...$),this._logHandler(this,ee.ERROR,...$)}}function me(q){l.forEach($=>{$.setLogLevel(q)})}function _e(q,$){for(const ne of l){let Ye=null;$&&$.level&&(Ye=B[$.level]),ne.userLogHandler=null===q?null:(ke,Be,...He)=>{const pe=He.map(De=>{if(null==De)return null;if("string"==typeof De)return De;if("number"==typeof De||"boolean"==typeof De)return De.toString();if(De instanceof Error)return De.message;try{return JSON.stringify(De)}catch(it){return null}}).filter(De=>De).join(" ");Be>=(null!=Ye?Ye:ke.logLevel)&&q({level:ee[Be].toLowerCase(),message:pe,args:He,type:ke.name})}}}},5861:(dt,Te,L)=>{function l(B,de,oe,be,J,me,_e){try{var q=B[me](_e),$=q.value}catch(ne){return void oe(ne)}q.done?de($):Promise.resolve($).then(be,J)}function ee(B){return function(){var de=this,oe=arguments;return new Promise(function(be,J){var me=B.apply(de,oe);function _e($){l(me,be,J,_e,q,"next",$)}function q($){l(me,be,J,_e,q,"throw",$)}_e(void 0)})}}L.d(Te,{Z:()=>ee})}},dt=>{dt(dt.s=7522)}]);